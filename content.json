{"meta":{"title":"Peach Blossom Spring","subtitle":"Welcome","description":"Welcome to personal blog.","author":"Mardan M","url":"https://www.mardan.wiki","root":"/"},"pages":[{"title":"关于","date":"2021-01-01T07:13:23.000Z","updated":"2025-04-13T06:16:05.663Z","comments":false,"path":"about/index.html","permalink":"https://www.mardan.wiki/about/index.html","excerpt":"","text":"关于我 (About Me) Hi there, I’m Mardan(ka1i) - Github 👋 E-Mail : Mardan137@outlook.com 🌱 I’m currently learning everything 🤣 👯 I’m looking to collaborate with other content creators 🥅 2023 Goals: Contribute more to Open Source projects 关于本站 (About Site) Personal Blog Next 2023 系统学习k8s"},{"title":"links","date":"2021-01-03T08:57:34.000Z","updated":"2025-04-13T06:16:05.663Z","comments":true,"path":"links/index.html","permalink":"https://www.mardan.wiki/links/index.html","excerpt":"","text":"友情链接 Links Peach Blossom Spring Welcome to PBS https://www.mardan.wiki/ PBS: https://pbs.mardan.wiki/ Not a Typical Programmer’s Blog Leslie Shang’s Blog https://www.shangzg.top LJIJCJ'S BLOGS Lj ijcj https://www.ljijcj.top Michael's backyardMy nonsense of everything Michael’s backyard https://www.michaeltan.org yinyu985's追风的男人 Yinyu985 https://yinyu985.github.io"},{"title":"repository","date":"2021-01-01T14:41:59.000Z","updated":"2025-04-13T06:16:05.663Z","comments":false,"path":"repository/index.html","permalink":"https://www.mardan.wiki/repository/index.html","excerpt":"","text":""},{"title":"categories","date":"2021-01-01T14:42:53.000Z","updated":"2025-04-13T06:16:05.663Z","comments":false,"path":"categories/index.html","permalink":"https://www.mardan.wiki/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"银河麒麟Kylinos安装kubernetes集群","slug":"银河麒麟Kylinos安装kubernetes集群","date":"2023-10-23T14:30:13.000Z","updated":"2025-04-13T06:16:05.662Z","comments":true,"path":"website/2023/10/23/银河麒麟Kylinos安装kubernetes集群.html","permalink":"https://www.mardan.wiki/website/2023/10/23/%E9%93%B6%E6%B2%B3%E9%BA%92%E9%BA%9FKylinos%E5%AE%89%E8%A3%85kubernetes%E9%9B%86%E7%BE%A4.html","excerpt":"概览: 前期准备 节点 初始化 运维工具安装 ssh免密码 推送hosts sealos 防火墙配置 安装 编辑规则 优化配置 内核更新 开始安装 集群节点状态 k8s状态 cilium安装 重命名节点role helm安装 kube-proxy平替(可选) kube-proxy卸载 iptables规则处理 clium卸载重装 检查 初始配置 默认存储 安装主机依赖 配置共享(可选) 添加默认存储 验证 部署服务 创建命名空间 编写yaml 开始部署 验证部署 基本监控 metrics-server dubernetes-dashboard 开放访问 k9s Ingress","text":"概览: 前期准备 节点 初始化 运维工具安装 ssh免密码 推送hosts sealos 防火墙配置 安装 编辑规则 优化配置 内核更新 开始安装 集群节点状态 k8s状态 cilium安装 重命名节点role helm安装 kube-proxy平替(可选) kube-proxy卸载 iptables规则处理 clium卸载重装 检查 初始配置 默认存储 安装主机依赖 配置共享(可选) 添加默认存储 验证 部署服务 创建命名空间 编写yaml 开始部署 验证部署 基本监控 metrics-server dubernetes-dashboard 开放访问 k9s Ingress 前期准备 节点 我准备部署3个节点:一主二从 操作系统: Kylin-Server-V10-SP3-General-Release-2303-X86_64 分配： master: 1, worker: 2 在管理节点hosts文件增加主机域名和ip的对应关系。 123192.168.6.21 k8s-m1192.168.6.31 k8s-w1192.168.6.32 k8s-w2 初始化 12yum update -yyum install nano vim tar socat net-tools ethtool wget mlocate bash-completion tree -y 运维工具安装 （可选）这个只需要再管理节点安装即可 1yum install ansible 编辑ansible配置文件,/etc/ansible/hosts,追加以下新内容 123456[master]192.168.6.21 ansible_python_interpreter=/usr/bin/python3.7[worker]192.168.6.31 ansible_python_interpreter=/usr/bin/python3.7192.168.6.32 ansible_python_interpreter=/usr/bin/python3.7 ssh免密码 12ssh-keygencat /etc/ansible/hosts | grep &quot;192.168&quot; | awk &#x27;&#123;print $1&#125;&#x27; | xargs -I &#123;&#125; ssh-copy-id &#123;&#125; # 就是自动化执行ssh-copy-id 192.168.6.[17,21-23] 检查一下 123456789[root@k8s-m1 ~]# ansible all -m shell -a &quot;uname -a&quot;192.168.6.32 | CHANGED | rc=0 &gt;&gt;Linux k8s-w2 4.19.90-52.29.v2207.ky10.x86_64 #1 SMP Mon Sep 25 17:11:21 CST 2023 x86_64 x86_64 x86_64 GNU/Linux192.168.6.31 | CHANGED | rc=0 &gt;&gt;Linux k8s-w1 4.19.90-52.29.v2207.ky10.x86_64 #1 SMP Mon Sep 25 17:11:21 CST 2023 x86_64 x86_64 x86_64 GNU/Linux192.168.6.21 | CHANGED | rc=0 &gt;&gt;Linux k8s-m1 4.19.90-52.29.v2207.ky10.x86_64 #1 SMP Mon Sep 25 17:11:21 CST 2023 x86_64 x86_64 x86_64 GNU/Linux 推送hosts 请检查出现类似本地回环的配置 1ansible all -m copy -a &quot;src=/etc/hosts dest=/etc/hosts&quot; sealos 我是用的是部署工具sealos来部署。所以先下载并安装，请安装官网最新版本。 12wget https://github.com/labring/sealos/releases/download/v4.3.5/sealos_4.3.5_linux_amd64.rpm \\ &amp;&amp; yum localinstall sealos_4.3.5_linux_amd64.rpm 防火墙配置 以下配置根据自己的需求来更改和参考 安装 1ansible all -m shell -a &quot;yum install iptables-services -y&quot; 编辑规则 123456789[root@k8s-w1 ~]# cat /etc/sysconfig/iptables# sample configuration for iptables service# you can edit this manually or use system-config-firewall# please do not ask us to add additional ports/services to this default configuration*filter:INPUT ACCEPT [0:0]:FORWARD ACCEPT [0:0]:OUTPUT ACCEPT [0:0]COMMIT 分发规则到剩余服务器 12ansible all -m copy -a &quot;src=/etc/sysconfig/iptables dest=/etc/sysconfig/iptables&quot;ansible all -m shell -a &quot;systemctl enable iptables.service --now&quot; 优化配置 1ansible all -m shell -a &quot;ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime&quot; 内核更新 （可选）有些组件对内核版本有要求，可以根据实际情况选择是否需要升级内核版本 开始安装 建议使用官方内核，更新其他镜像源可能存在系统不稳定的情况。 我遇到的是进不去系统，账户输入完后点击Enter，快速闪过一些文字后会就回到登录页面，循环往复，暂时没探究其原因。 1sealos run labring/kubernetes:v1.25.7 --masters 192.168.6.21 --nodes 192.168.6.31,192.168.6.32 # 若没有配置ssh免密码 就追加 `-p &lt;服务器集群密码&gt;` 集群节点状态 12345[root@k8s-m1 ~]# kubectl get node -ANAME STATUS ROLES AGE VERSIONk8s-m1 NotReady control-plane 42s v1.25.7k8s-w1 NotReady &lt;none&gt; 5s v1.25.7k8s-w2 NotReady &lt;none&gt; 5s v1.25.7 k8s状态 12345678910111213[root@k8s-m1 ~]# kubectl get pods -ANAMESPACE NAME READY STATUS RESTARTS AGEkube-system coredns-565d847f94-46tmm 0/1 Pending 0 46skube-system coredns-565d847f94-clkq9 0/1 Pending 0 46skube-system etcd-k8s-m1 1/1 Running 0 61skube-system kube-apiserver-k8s-m1 1/1 Running 0 61skube-system kube-controller-manager-k8s-m1 1/1 Running 0 61skube-system kube-proxy-8vtwd 1/1 Running 0 27skube-system kube-proxy-djbnc 1/1 Running 0 27skube-system kube-proxy-v9znt 1/1 Running 0 46skube-system kube-scheduler-k8s-m1 1/1 Running 0 60skube-system kube-sealos-lvscare-k8s-w1 1/1 Running 0 17skube-system kube-sealos-lvscare-k8s-w2 1/1 Running 0 20s cilium安装 （可选）这里可以开始直接替换kube-proxy(参考下方章节) 12345678910111213141516[root@k8s-m1 ~]# cilium install[root@k8s-m1 ~]# cilium status /¯¯\\ /¯¯\\__/¯¯\\ Cilium: OK \\__/¯¯\\__/ Operator: OK /¯¯\\__/¯¯\\ Hubble Relay: disabled \\__/¯¯\\__/ ClusterMesh: disabled \\__/Deployment cilium-operator Desired: 1, Ready: 1/1, Available: 1/1DaemonSet cilium Desired: 4, Ready: 4/4, Available: 4/4Containers: cilium Running: 4 cilium-operator Running: 1Cluster Pods: 2/2 managed by CiliumImage versions cilium quay.io/cilium/cilium:v1.13.0: 4 cilium-operator quay.io/cilium/operator:v1.13.0: 1 重命名节点role 12kubectl label node k8s-w1 kubernetes.io/role=workerkubectl label node k8s-w2 kubernetes.io/role=worker 修改成功 12345[root@k8s-m1 ~]# kubectl get node -ANAME STATUS ROLES AGE VERSIONk8s-m1 NotReady control-plane 4m32s v1.25.7k8s-w1 NotReady worker 3m55s v1.25.7k8s-w2 NotReady worker 3m55s v1.25.7 helm安装 1sealos run labring/helm:v3.12.3 检查 12[root@k8s-m1 ~]# helm versionversion.BuildInfo&#123;Version:&quot;v3.12.3&quot;, GitCommit:&quot;3a31588ad33fe3b89af5a2a54ee1d25bfe6eaa5e&quot;, GitTreeState:&quot;clean&quot;, GoVersion:&quot;go1.20.7&quot;&#125; kube-proxy平替(可选) 注意⚠️，请不要在没有充分调研的情况在生产环境实施该方案。 kube-proxy卸载 12kubectl -n kube-system delete ds kube-proxykubectl -n kube-system delete cm kube-proxy iptables规则处理 1ansible all -m shell -a &quot;iptables-save | grep -v KUBE | iptables-restore&quot; clium卸载重装 ⚠️ 请注意此步骤为可选。 安装参数介绍Kubernetes Without kube-proxy 在标准安装的基础上添加了一些配置，可以自主进行取舍。 1234567891011121314151617cilium install --version 1.14.3 \\ --helm-set bpf.masquerade=true \\ --helm-set bpf.clockProbe=true \\ --helm-set bpf.waitForMount=true \\ --helm-set bpf.preallocateMaps=true \\ --helm-set bpf.hostRouting=false \\ --helm-set k8sServiceHost=apiserver.cluster.local \\ --helm-set k8sServicePort=6443 \\ --helm-set ipv4NativeRoutingCIDR=172.26.131.117/32 \\ --helm-set prometheus.enabled=true \\ --helm-set operator.prometheus.enabled=true \\ --helm-set kubeProxyReplacement=strict \\ --helm-set hubble.relay.enabled=true \\ --helm-set hubble.ui.enabled=true \\ --helm-set hubble.enabled=true \\ --helm-set hubble.metrics.enableOpenMetrics=true \\ --helm-set hubble.metrics.enabled=&quot;&#123;dns,drop,tcp,flow,port-distribution,icmp,httpV2:exemplars=true;labelsContext=source_ip\\,source_app\\,destination_app\\,source_namespace\\,source_workload\\,destination_ip\\,destination_namespace\\,destination_workload\\,traffic_direction&#125;&quot; 检查 Run kubectl -n kube-system exec ds/cilium -- cilium status --verbose 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103Defaulted container &quot;cilium-agent&quot; out of: cilium-agent, config (init), mount-cgroup (init), apply-sysctl-overwrites (init), mount-bpf-fs (init), clean-cilium-state (init), install-cni-binaries (init)KVStore: Ok DisabledKubernetes: Ok 1.25 (v1.25.7) [linux/amd64]Kubernetes APIs: [&quot;EndpointSliceOrEndpoint&quot;, &quot;cilium/v2::CiliumClusterwideNetworkPolicy&quot;, &quot;cilium/v2::CiliumEndpoint&quot;, &quot;cilium/v2::CiliumNetworkPolicy&quot;, &quot;cilium/v2::CiliumNode&quot;, &quot;cilium/v2alpha1::CiliumCIDRGroup&quot;, &quot;core/v1::Namespace&quot;, &quot;core/v1::Pods&quot;, &quot;core/v1::Service&quot;, &quot;networking.k8s.io/v1::NetworkPolicy&quot;]KubeProxyReplacement: Strict [enp6s18 192.168.6.32 (Direct Routing), kube-ipvs0 10.96.0.1]Host firewall: DisabledCNI Chaining: noneCilium: Ok 1.14.3 (v1.14.3-252a99ef)NodeMonitor: Listening for events on 4 CPUs with 64x4096 of shared memoryCilium health daemon: Ok IPAM: IPv4: 4/254 allocated from 10.0.1.0/24, Allocated addresses: 10.0.1.123 (kube-system/hubble-relay-767765f86f-n4bhp) 10.0.1.176 (router) 10.0.1.226 (health) 10.0.1.234 (kube-system/hubble-ui-5f5599766f-6hnww)IPv4 BIG TCP: DisabledIPv6 BIG TCP: DisabledBandwidthManager: DisabledHost Routing: LegacyMasquerading: BPF [enp6s18, kube-ipvs0] 172.26.131.117/32 [IPv4: Enabled, IPv6: Disabled]Clock Source for BPF: ktimeController Status: 29/29 healthy Name Last success Last error Count Message cilium-health-ep 5s ago never 0 no error dns-garbage-collector-job 11s ago never 0 no error endpoint-1658-regeneration-recovery never never 0 no error endpoint-221-regeneration-recovery never never 0 no error endpoint-2703-regeneration-recovery never never 0 no error endpoint-3248-regeneration-recovery never never 0 no error endpoint-gc 11s ago never 0 no error ipcache-inject-labels 6s ago 5m9s ago 0 no error k8s-heartbeat 11s ago never 0 no error link-cache 6s ago never 0 no error metricsmap-bpf-prom-sync 6s ago never 0 no error neighbor-table-refresh 6s ago never 0 no error resolve-identity-1658 5s ago never 0 no error resolve-identity-221 6s ago never 0 no error resolve-identity-2703 4s ago never 0 no error resolve-identity-3248 5s ago never 0 no error sync-host-ips 6s ago never 0 no error sync-lb-maps-with-k8s-services 5m6s ago never 0 no error sync-policymap-1658 5m2s ago never 0 no error sync-policymap-221 5m2s ago never 0 no error sync-policymap-2703 5m2s ago never 0 no error sync-policymap-3248 5m2s ago never 0 no error sync-to-k8s-ciliumendpoint (1658) 4s ago never 0 no error sync-to-k8s-ciliumendpoint (221) 6s ago never 0 no error sync-to-k8s-ciliumendpoint (2703) 4s ago never 0 no error sync-to-k8s-ciliumendpoint (3248) 5s ago never 0 no error sync-utime 6s ago never 0 no error template-dir-watcher never never 0 no error write-cni-file 5m11s ago never 0 no error Proxy Status: OK, ip 10.0.1.176, 0 redirects active on ports 10000-20000, Envoy: embeddedGlobal Identity Range: min 256, max 65535Hubble: Ok Current/Max Flows: 976/4095 (23.83%), Flows/s: 3.07 Metrics: OkKubeProxyReplacement Details: Status: Strict Socket LB: Enabled Socket LB Tracing: Enabled Socket LB Coverage: Full Devices: enp6s18 192.168.6.32 (Direct Routing), kube-ipvs0 10.96.0.1 Mode: SNAT Backend Selection: Random Session Affinity: Enabled Graceful Termination: Enabled NAT46/64 Support: Disabled XDP Acceleration: Disabled Services: - ClusterIP: Enabled - NodePort: Enabled (Range: 30000-32767) - LoadBalancer: Enabled - externalIPs: Enabled - HostPort: EnabledBPF Maps: dynamic sizing: on (ratio: 0.002500) Name Size Auth 524288 Non-TCP connection tracking 67837 TCP connection tracking 135674 Endpoint policy 65535 IP cache 512000 IPv4 masquerading agent 16384 IPv6 masquerading agent 16384 IPv4 fragmentation 8192 IPv4 service 65536 IPv6 service 65536 IPv4 service backend 65536 IPv6 service backend 65536 IPv4 service reverse NAT 65536 IPv6 service reverse NAT 65536 Metrics 1024 NAT 135674 Neighbor table 135674 Global policy 16384 Session affinity 65536 Sock reverse NAT 67837 Tunnel 65536Encryption: Disabled Cluster health: 3/3 reachable (2023-10-23T15:05:37Z) Name IP Node Endpoints kubernetes/k8s-w2 (localhost) 192.168.6.32 reachable reachable kubernetes/k8s-m1 192.168.6.21 reachable reachable kubernetes/k8s-w1 192.168.6.31 reachable reachable 初始配置 默认存储 k8s存储支持多种模式：本地存储:hostPath/emptyDir，传递网络存储:iscsi/nfs，分布式网络存 储：glusterfs/rbd/cephfs，以及云存储等； k8s默认容器如果重建，则容器中文件将丢失，为了解决这些问题，通常我们会将容器中需要持久化的文件存储到其他可持久化存储目录中。 安装主机依赖 我选择以nfs作为默认存储 1sealos exec &quot;yum install nfs-utils -y&quot; # 集群节点都需要安装 配置共享(可选) nfs服务主机 我主机有限：所以将nfs服务是由k8s-m1提供的，共享文件:在nfs服务主机文件/etc/exportes添加需要共享的目录以及允许的网段。 1/data/share 192.168.6.0/24(insecure,rw,async,no_root_squash) 在服务器k8s-m1(跟随nfs磁盘)启动nfs服务 12systemctl enable nfs-serversystemctl start nfs-server 添加默认存储 注：nfs镜像是拉取的上游(k8s.gcr.io/sig-storage/nfs-subdir-external-provisioner:v4.0.2)的镜像 123456789helm repo add nfs-subdir-external-provisioner https://kubernetes-sigs.github.io/nfs-subdir-external-provisioner/helm install nfs-subdir-external-provisioner nfs-subdir-external-provisioner/nfs-subdir-external-provisioner \\ --set image.repository=ka1i137/sig-storage-nfs-subdir-external-provisioner \\ --set image.tag=v4.0.2 \\ --set storageClass.name=nfs-client \\ --set storageClass.defaultClass=true \\ --set nfs.server=192.168.6.11 \\ --set nfs.path=/mnt/private/k8s/share 验证 123[root@k8s-m1 ~]# kubectl get sc -ANAME PROVISIONER RECLAIMPOLICY VOLUMEBINDINGMODE ALLOWVOLUMEEXPANSION AGEnfs-client (default) cluster.local/nfs-subdir-external-provisioner Delete Immediate true 20s 部署服务 创建命名空间 1kubectl create namespace app 编写yaml whoami.yaml 123456789101112131415161718192021222324252627282930313233343536373839apiVersion: apps/v1kind: Deploymentmetadata: name: whoami namespace: app labels: app: whoamispec: replicas: 2 selector: matchLabels: app: whoami template: metadata: labels: app: whoami spec: containers: - name: whoami image: traefik/whoami ports: - containerPort: 80---apiVersion: v1kind: Servicemetadata: name: whoami namespace: appspec: type: NodePort ports: - name: http-80 port: 80 nodePort: 30888 targetPort: 80 selector: app: whoami 开始部署 123456789[root@k8s-m1 app]# kubectl apply -f whoami.yaml deployment.apps/whoami createdservice/whoami created[root@k8s-m1 app]# kubectl get pod -A | grep &quot;^app&quot;app whoami-6bbfdbb69c-tss9n 0/1 ContainerCreating 0 22sapp whoami-6bbfdbb69c-v26d4 0/1 ContainerCreating 0 22s[root@k8s-m1 app]# kubectl get svc -n appNAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGEwhoami NodePort 10.96.1.5 &lt;none&gt; 80:30888/TCP 36s 验证部署 1234567891011[root@k8s-m1 app]# curl 192.168.6.17:30888 # ip为k8s集群ip其中一个都可以Hostname: whoami-6bbfdbb69c-v26d4IP: 127.0.0.1IP: ::1IP: 10.0.2.67IP: fe80::5019:c7ff:fe03:42e9RemoteAddr: 10.0.0.220:45186GET / HTTP/1.1Host: 192.168.137.11:30888User-Agent: curl/7.76.1Accept: */* 基本监控 metrics-server yaml配置下载 1wget https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml 若默认镜像无法下载,可以使用我转存的ka1i137/k8s-metrics-server:v0.6.2。 若显示tls错误，可以在启动参数添加- --kubelet-insecure-tls 12345678910spec: containers: - args: - --cert-dir=/tmp - --secure-port=4443 - --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname - --kubelet-use-node-status-port - --metric-resolution=15s - --kubelet-insecure-tls # 新增 image: ka1i137/k8s-metrics-server:v0.6.2 dubernetes-dashboard 1sealos run labring/kubernetes-dashboard:v2.7.0 编辑 开放访问 dashboard-adminuser.yaml 12345678910111213141516171819apiVersion: v1kind: ServiceAccountmetadata: name: admin-user namespace: kubernetes-dashboard---apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRoleBindingmetadata: name: admin-userroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-adminsubjects:- kind: ServiceAccount name: admin-user namespace: kubernetes-dashboard 然后应用 1kubectl apply -f dashboard-adminuser.yaml 最后获取登录token 1kubectl -n kubernetes-dashboard create token admin-user Tips 开放NodePort 1kubectl edit svc -n kubernetes-dashboard kubernetes-dashboard 可以看到svc的配置修改为如下。 123456789101112131415161718192021222324252627282930apiVersion: v1kind: Servicemetadata: creationTimestamp: &quot;2023-03-13T09:42:15Z&quot; labels: k8s-app: kubernetes-dashboard name: kubernetes-dashboard namespace: kubernetes-dashboard resourceVersion: &quot;20876&quot; uid: f160d21f-2244-46d1-894c-d0cbd96383c2spec: clusterIP: 10.96.3.50 clusterIPs: - 10.96.3.50 externalTrafficPolicy: Cluster internalTrafficPolicy: Cluster ipFamilies: - IPv4 ipFamilyPolicy: SingleStack ports: - nodePort: 30880 # 新增 port: 443 protocol: TCP targetPort: 8443 selector: k8s-app: kubernetes-dashboard sessionAffinity: None type: NodePort # 修改status: loadBalancer: &#123;&#125; k9s 官网：k9scli.io Ingress 我使用的ingress是traefik，可以根据自己的具体需求选择其他的ingress。配置在另一篇文章。 Very Nice!","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/categories/kubernetes/"}],"tags":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/tags/kubernetes/"},{"name":"cilium","slug":"cilium","permalink":"https://www.mardan.wiki/tags/cilium/"},{"name":"kylinos","slug":"kylinos","permalink":"https://www.mardan.wiki/tags/kylinos/"}]},{"title":"Cilium可观测性监控配置","slug":"Cilium可观测性监控配置","date":"2023-03-20T10:28:13.000Z","updated":"2025-04-13T06:16:05.515Z","comments":true,"path":"website/2023/03/20/Cilium可观测性监控配置.html","permalink":"https://www.mardan.wiki/website/2023/03/20/Cilium%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7%E7%9B%91%E6%8E%A7%E9%85%8D%E7%BD%AE.html","excerpt":"概览: 前期准备 初始化 卸载 重新安装 启用hubble-ui(可选) 准备依赖 安装Prometheus Grafana监控图标模板 Cilium Operator Cilium Metrics Hubble Metrics Hubble L7 HTTP Metrics by Workload","text":"概览: 前期准备 初始化 卸载 重新安装 启用hubble-ui(可选) 准备依赖 安装Prometheus Grafana监控图标模板 Cilium Operator Cilium Metrics Hubble Metrics Hubble L7 HTTP Metrics by Workload 前期准备 注意，本教程针对使用sealos安装的集群。 参考官方文档Monitoring &amp; Metrics 初始化 卸载 未安装cilium更好，若已安装cilium,就需要先进行卸载，该过程会造成集群网络中断。 1cilium uninstall 重新安装 1cilium install --version 1.12.5 --helm-set tunnel=disabled --helm-set bpf.masquerade=true --helm-set bpf.clockProbe=true --helm-set bpf.waitForMount=true --helm-set bpf.preallocateMaps=true --helm-set bpf.tproxy=true --helm-set bpf.hostRouting=false --helm-set autoDirectNodeRoutes=true --helm-set localRedirectPolicy=true --helm-set enableCiliumEndpointSlice=true --helm-set enableK8sEventHandover=true --helm-set loadBalancer.acceleration=native --helm-set enableK8sEndpointSlice=true --helm-set wellKnownIdentities.enabled=true --helm-set sockops.enabled=true --helm-set bandwidthManager.enable=true --helm-set hubble.enabled=false --helm-set installNoConntrackIptablesRules=true --helm-set egressGateway.enabled=true --helm-set endpointRoutes.enabled=false --helm-set kubeProxyReplacement=strict --helm-set loadBalancer.mode=dsr --helm-set nodePort.mode=dsr --helm-set k8sServiceHost=apiserver.cluster.local --helm-set k8sServicePort=6443 --helm-set ipv4NativeRoutingCIDR=172.26.131.117/32 --helm-set kubeProxyReplacementHealthzBindAddr=&#x27;0.0.0.0:10256&#x27; --helm-set loadBalancer.serviceTopology=true --helm-set prometheus.enabled=true --helm-set operator.prometheus.enabled=true --helm-set hubble.relay.enabled=true --helm-set hubble.ui.enabled=true --helm-set hubble.enabled=true --helm-set hubble.metrics.enableOpenMetrics=true --helm-set hubble.metrics.enabled=&quot;&#123;dns,drop,tcp,flow,port-distribution,icmp,http&#125;&quot; 启用hubble-ui(可选) 1cilium hubble enable --ui 准备依赖 安装Prometheus kubernetes资源定义文件：cilium-prometheus.yaml 该配置一起用NodePort：端口为：30617，可以根据自己的要求决定要不要使用NodePort，我是由于需要使用了外置Grafana。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241---# Source: prometheus/templates/namespace.yamlapiVersion: v1kind: Namespacemetadata: name: cilium-monitoring---# Source: prometheus/templates/prometheus.yamlapiVersion: v1kind: ServiceAccountmetadata: name: prometheus-k8s namespace: cilium-monitoring---# Source: prometheus/templates/prometheus.yamlkind: ConfigMapmetadata: name: prometheus namespace: cilium-monitoringapiVersion: v1data: prometheus.yaml: | global: scrape_interval: 10s scrape_timeout: 10s evaluation_interval: 10s rule_files: - &quot;/etc/prometheus-rules/*.rules&quot; scrape_configs: # https://github.com/prometheus/prometheus/blob/master/documentation/examples/prometheus-kubernetes.yml#L79 - job_name: &#x27;kubernetes-endpoints&#x27; kubernetes_sd_configs: - role: endpoints relabel_configs: - source_labels: [__meta_kubernetes_pod_label_k8s_app] action: keep regex: cilium - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scrape] action: keep regex: true - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scheme] action: replace target_label: __scheme__ regex: (https?) - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_path] action: replace target_label: __metrics_path__ regex: (.+) - source_labels: [__address__, __meta_kubernetes_service_annotation_prometheus_io_port] action: replace target_label: __address__ regex: (.+)(?::\\d+);(\\d+) replacement: $1:$2 - action: labelmap regex: __meta_kubernetes_service_label_(.+) - source_labels: [__meta_kubernetes_namespace] action: replace target_label: namespace - source_labels: [__meta_kubernetes_service_name] action: replace target_label: service # https://github.com/prometheus/prometheus/blob/master/documentation/examples/prometheus-kubernetes.yml#L156 - job_name: &#x27;kubernetes-pods&#x27; kubernetes_sd_configs: - role: pod relabel_configs: - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape] action: keep regex: true - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path] action: replace target_label: __metrics_path__ regex: (.+) - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port] action: replace regex: (.+):(?:\\d+);(\\d+) replacement: $&#123;1&#125;:$&#123;2&#125; target_label: __address__ - action: labelmap regex: __meta_kubernetes_pod_label_(.+) - source_labels: [__meta_kubernetes_namespace] action: replace target_label: namespace - source_labels: [__meta_kubernetes_pod_name] action: replace target_label: pod - source_labels: [__meta_kubernetes_pod_container_port_number] action: keep regex: \\d+ # https://github.com/prometheus/prometheus/blob/master/documentation/examples/prometheus-kubernetes.yml#L119 - job_name: &#x27;kubernetes-services&#x27; metrics_path: /metrics params: module: [http_2xx] kubernetes_sd_configs: - role: service relabel_configs: - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_probe] action: keep regex: true - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port] action: replace regex: ([^:]+)(?::\\d+)?;(\\d+) replacement: $&#123;1&#125;:$&#123;2&#125; target_label: __address__ - action: labelmap regex: __meta_kubernetes_service_label_(.+) - source_labels: [__meta_kubernetes_namespace] target_label: namespace - source_labels: [__meta_kubernetes_service_name] target_label: service - job_name: &#x27;kubernetes-cadvisor&#x27; scheme: https tls_config: ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token kubernetes_sd_configs: - role: node relabel_configs: - action: labelmap regex: __meta_kubernetes_node_label_(.+) - target_label: __address__ replacement: kubernetes.default.svc:443 - source_labels: [__meta_kubernetes_node_name] regex: (.+) target_label: __metrics_path__ replacement: /api/v1/nodes/$&#123;1&#125;/proxy/metrics/cadvisor---# Source: prometheus/templates/prometheus.yamlapiVersion: rbac.authorization.k8s.io/v1kind: ClusterRolemetadata: name: prometheusrules:- apiGroups: - &quot;&quot; resources: - nodes - nodes/proxy - services - endpoints - pods verbs: - get - list - watch- apiGroups: - &quot;&quot; resources: - configmaps verbs: - get- nonResourceURLs: - /metrics verbs: - get---# Source: prometheus/templates/prometheus.yamlapiVersion: rbac.authorization.k8s.io/v1kind: ClusterRoleBindingmetadata: name: prometheusroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: prometheussubjects:- kind: ServiceAccount name: prometheus-k8s namespace: cilium-monitoring---# Source: prometheus/templates/prometheus.yamlapiVersion: v1kind: Servicemetadata: labels: app: prometheus name: prometheus namespace: cilium-monitoringspec: ports: - name: webui port: 9090 protocol: TCP targetPort: 9090 nodePort: 30617 selector: app: prometheus type: NodePort---# Source: prometheus/templates/prometheus.yamlapiVersion: apps/v1kind: Deploymentmetadata: labels: app: prometheus name: prometheus namespace: cilium-monitoringspec: replicas: 1 selector: matchLabels: app: prometheus template: metadata: labels: app: prometheus name: prometheus-main spec: containers: - args: - --config.file=/etc/prometheus/prometheus.yaml - --storage.tsdb.path=/prometheus/ - --log.level=info - --enable-feature=exemplar-storage image: &quot;prom/prometheus:v2.42.0&quot; imagePullPolicy: IfNotPresent name: prometheus ports: - containerPort: 9090 name: webui protocol: TCP volumeMounts: - mountPath: /etc/prometheus name: config-volume readOnly: true - mountPath: /prometheus/ name: storage dnsPolicy: ClusterFirst restartPolicy: Always serviceAccount: prometheus-k8s volumes: - configMap: name: prometheus name: config-volume - emptyDir: &#123;&#125; name: storage 应用配置 1kubectl apply -f cilium-prometheus.yaml Grafana监控图标模板 现在grafana里面设置数据源，名称写Cilium-Prometheus,其他信息根据自己的情况填写即可。 Cilium Operator 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867868869870871872873874875876877878879880881882883884885886887888889890891892893894895896897898899900901902903904905906907908909910911912913914915916917918919920921922923924925926927928929930931932933934935936937938939940941942943944945946947948949950951952953954955956957958959960961962963964965966967968969970971972973974975976977978979980981982983984985986987988989990991992993994995996997998&#123; &quot;annotations&quot;: &#123; &quot;list&quot;: [ &#123; &quot;builtIn&quot;: 1, &quot;datasource&quot;: &quot;-- Grafana --&quot;, &quot;enable&quot;: true, &quot;hide&quot;: true, &quot;iconColor&quot;: &quot;rgba(0, 211, 255, 1)&quot;, &quot;name&quot;: &quot;Annotations &amp; Alerts&quot;, &quot;type&quot;: &quot;dashboard&quot; &#125; ] &#125;, &quot;editable&quot;: true, &quot;gnetId&quot;: null, &quot;graphTooltip&quot;: 0, &quot;id&quot;: 8, &quot;links&quot;: [], &quot;panels&quot;: [ &#123; &quot;aliasColors&quot;: &#123; &quot;avg&quot;: &quot;#cffaff&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 0, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 0 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 24, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(irate(cilium_operator_process_cpu_seconds_total&#123;io_cilium_app=\\&quot;operator\\&quot;&#125;[1m])) by (pod) * 100&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(irate(cilium_operator_process_cpu_seconds_total&#123;io_cilium_app=\\&quot;operator\\&quot;&#125;[1m])) by (pod) * 100&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(irate(cilium_operator_process_cpu_seconds_total&#123;io_cilium_app=\\&quot;operator\\&quot;&#125;[1m])) by (pod) * 100&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;CPU Usage per node&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;percent&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;MAX_resident_memory_bytes_max&quot;: &quot;#e5ac0e&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 0 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 26, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(cilium_operator_process_resident_memory_bytes&#123;io_cilium_app=\\&quot;operator\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;AVG_resident_memory_bytes&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_operator_process_resident_memory_bytes&#123;io_cilium_app=\\&quot;operator\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;MAX_resident_memory_bytes_max&quot;, &quot;refId&quot;: &quot;D&quot; &#125;, &#123; &quot;expr&quot;: &quot;min(cilium_operator_process_resident_memory_bytes&#123;io_cilium_app=\\&quot;operator\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;MIN_resident_memory_bytes_min&quot;, &quot;refId&quot;: &quot;E&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Resident memory status&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;bytes&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;collapsed&quot;: false, &quot;datasource&quot;: null, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 5 &#125;, &quot;id&quot;: 6, &quot;panels&quot;: [], &quot;title&quot;: &quot;IPAM&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 6 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 8, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(cilium_operator_ipam_ips) by (type)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;type&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;IP Addresses&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 6 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 10, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;rate(cilium_operator_ec2_api_duration_seconds_sum[1m])/rate(cilium_operator_ec2_api_duration_seconds_count[1m])&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;operation&#125;&#125; &#123;&#123;response_code&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;EC2 API Interactions&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;dtdurations&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 8, &quot;x&quot;: 0, &quot;y&quot;: 14 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 4, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;cilium_operator_ipam_nodes&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;category&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Number of nodes&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 8, &quot;x&quot;: 8, &quot;y&quot;: 14 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 12, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;cilium_operator_ipam_available&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;interfaces&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;# interfaces with addresses available&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 8, &quot;x&quot;: 16, &quot;y&quot;: 14 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 16, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;rate(cilium_operator_ipam_resync_total[1m])&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;operations&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Metadata Resync Operations&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 21 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 14, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;rate(cilium_operator_ec2_api_rate_limit_duration_seconds_sum[1m])/rate(cilium_operator_ec2_api_rate_limit_duration_seconds_count[1m])&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;operation&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;EC2 client side rate limiting&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;reqps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 21 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 2, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_operator_ipam_interface_creation_ops[1m])) by (subnetId, status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;status&#125;&#125; (&#123;&#123;subnetId&#125;&#125;)&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Interface Creation&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125; ], &quot;refresh&quot;: false, &quot;schemaVersion&quot;: 25, &quot;style&quot;: &quot;dark&quot;, &quot;tags&quot;: [], &quot;templating&quot;: &#123; &quot;list&quot;: [] &#125;, &quot;time&quot;: &#123; &quot;from&quot;: &quot;now-30m&quot;, &quot;to&quot;: &quot;now&quot; &#125;, &quot;timepicker&quot;: &#123; &quot;refresh_intervals&quot;: [ &quot;10s&quot;, &quot;30s&quot;, &quot;1m&quot;, &quot;5m&quot;, &quot;15m&quot;, &quot;30m&quot;, &quot;1h&quot;, &quot;2h&quot;, &quot;1d&quot; ], &quot;time_options&quot;: [ &quot;5m&quot;, &quot;15m&quot;, &quot;1h&quot;, &quot;6h&quot;, &quot;12h&quot;, &quot;24h&quot;, &quot;2d&quot;, &quot;7d&quot;, &quot;30d&quot; ] &#125;, &quot;timezone&quot;: &quot;&quot;, &quot;title&quot;: &quot;Cilium Operator&quot;, &quot;uid&quot;: &quot;1GC0TT4Wz&quot;, &quot;version&quot;: 2&#125; Cilium Metrics 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000100110021003100410051006100710081009101010111012101310141015101610171018101910201021102210231024102510261027102810291030103110321033103410351036103710381039104010411042104310441045104610471048104910501051105210531054105510561057105810591060106110621063106410651066106710681069107010711072107310741075107610771078107910801081108210831084108510861087108810891090109110921093109410951096109710981099110011011102110311041105110611071108110911101111111211131114111511161117111811191120112111221123112411251126112711281129113011311132113311341135113611371138113911401141114211431144114511461147114811491150115111521153115411551156115711581159116011611162116311641165116611671168116911701171117211731174117511761177117811791180118111821183118411851186118711881189119011911192119311941195119611971198119912001201120212031204120512061207120812091210121112121213121412151216121712181219122012211222122312241225122612271228122912301231123212331234123512361237123812391240124112421243124412451246124712481249125012511252125312541255125612571258125912601261126212631264126512661267126812691270127112721273127412751276127712781279128012811282128312841285128612871288128912901291129212931294129512961297129812991300130113021303130413051306130713081309131013111312131313141315131613171318131913201321132213231324132513261327132813291330133113321333133413351336133713381339134013411342134313441345134613471348134913501351135213531354135513561357135813591360136113621363136413651366136713681369137013711372137313741375137613771378137913801381138213831384138513861387138813891390139113921393139413951396139713981399140014011402140314041405140614071408140914101411141214131414141514161417141814191420142114221423142414251426142714281429143014311432143314341435143614371438143914401441144214431444144514461447144814491450145114521453145414551456145714581459146014611462146314641465146614671468146914701471147214731474147514761477147814791480148114821483148414851486148714881489149014911492149314941495149614971498149915001501150215031504150515061507150815091510151115121513151415151516151715181519152015211522152315241525152615271528152915301531153215331534153515361537153815391540154115421543154415451546154715481549155015511552155315541555155615571558155915601561156215631564156515661567156815691570157115721573157415751576157715781579158015811582158315841585158615871588158915901591159215931594159515961597159815991600160116021603160416051606160716081609161016111612161316141615161616171618161916201621162216231624162516261627162816291630163116321633163416351636163716381639164016411642164316441645164616471648164916501651165216531654165516561657165816591660166116621663166416651666166716681669167016711672167316741675167616771678167916801681168216831684168516861687168816891690169116921693169416951696169716981699170017011702170317041705170617071708170917101711171217131714171517161717171817191720172117221723172417251726172717281729173017311732173317341735173617371738173917401741174217431744174517461747174817491750175117521753175417551756175717581759176017611762176317641765176617671768176917701771177217731774177517761777177817791780178117821783178417851786178717881789179017911792179317941795179617971798179918001801180218031804180518061807180818091810181118121813181418151816181718181819182018211822182318241825182618271828182918301831183218331834183518361837183818391840184118421843184418451846184718481849185018511852185318541855185618571858185918601861186218631864186518661867186818691870187118721873187418751876187718781879188018811882188318841885188618871888188918901891189218931894189518961897189818991900190119021903190419051906190719081909191019111912191319141915191619171918191919201921192219231924192519261927192819291930193119321933193419351936193719381939194019411942194319441945194619471948194919501951195219531954195519561957195819591960196119621963196419651966196719681969197019711972197319741975197619771978197919801981198219831984198519861987198819891990199119921993199419951996199719981999200020012002200320042005200620072008200920102011201220132014201520162017201820192020202120222023202420252026202720282029203020312032203320342035203620372038203920402041204220432044204520462047204820492050205120522053205420552056205720582059206020612062206320642065206620672068206920702071207220732074207520762077207820792080208120822083208420852086208720882089209020912092209320942095209620972098209921002101210221032104210521062107210821092110211121122113211421152116211721182119212021212122212321242125212621272128212921302131213221332134213521362137213821392140214121422143214421452146214721482149215021512152215321542155215621572158215921602161216221632164216521662167216821692170217121722173217421752176217721782179218021812182218321842185218621872188218921902191219221932194219521962197219821992200220122022203220422052206220722082209221022112212221322142215221622172218221922202221222222232224222522262227222822292230223122322233223422352236223722382239224022412242224322442245224622472248224922502251225222532254225522562257225822592260226122622263226422652266226722682269227022712272227322742275227622772278227922802281228222832284228522862287228822892290229122922293229422952296229722982299230023012302230323042305230623072308230923102311231223132314231523162317231823192320232123222323232423252326232723282329233023312332233323342335233623372338233923402341234223432344234523462347234823492350235123522353235423552356235723582359236023612362236323642365236623672368236923702371237223732374237523762377237823792380238123822383238423852386238723882389239023912392239323942395239623972398239924002401240224032404240524062407240824092410241124122413241424152416241724182419242024212422242324242425242624272428242924302431243224332434243524362437243824392440244124422443244424452446244724482449245024512452245324542455245624572458245924602461246224632464246524662467246824692470247124722473247424752476247724782479248024812482248324842485248624872488248924902491249224932494249524962497249824992500250125022503250425052506250725082509251025112512251325142515251625172518251925202521252225232524252525262527252825292530253125322533253425352536253725382539254025412542254325442545254625472548254925502551255225532554255525562557255825592560256125622563256425652566256725682569257025712572257325742575257625772578257925802581258225832584258525862587258825892590259125922593259425952596259725982599260026012602260326042605260626072608260926102611261226132614261526162617261826192620262126222623262426252626262726282629263026312632263326342635263626372638263926402641264226432644264526462647264826492650265126522653265426552656265726582659266026612662266326642665266626672668266926702671267226732674267526762677267826792680268126822683268426852686268726882689269026912692269326942695269626972698269927002701270227032704270527062707270827092710271127122713271427152716271727182719272027212722272327242725272627272728272927302731273227332734273527362737273827392740274127422743274427452746274727482749275027512752275327542755275627572758275927602761276227632764276527662767276827692770277127722773277427752776277727782779278027812782278327842785278627872788278927902791279227932794279527962797279827992800280128022803280428052806280728082809281028112812281328142815281628172818281928202821282228232824282528262827282828292830283128322833283428352836283728382839284028412842284328442845284628472848284928502851285228532854285528562857285828592860286128622863286428652866286728682869287028712872287328742875287628772878287928802881288228832884288528862887288828892890289128922893289428952896289728982899290029012902290329042905290629072908290929102911291229132914291529162917291829192920292129222923292429252926292729282929293029312932293329342935293629372938293929402941294229432944294529462947294829492950295129522953295429552956295729582959296029612962296329642965296629672968296929702971297229732974297529762977297829792980298129822983298429852986298729882989299029912992299329942995299629972998299930003001300230033004300530063007300830093010301130123013301430153016301730183019302030213022302330243025302630273028302930303031303230333034303530363037303830393040304130423043304430453046304730483049305030513052305330543055305630573058305930603061306230633064306530663067306830693070307130723073307430753076307730783079308030813082308330843085308630873088308930903091309230933094309530963097309830993100310131023103310431053106310731083109311031113112311331143115311631173118311931203121312231233124312531263127312831293130313131323133313431353136313731383139314031413142314331443145314631473148314931503151315231533154315531563157315831593160316131623163316431653166316731683169317031713172317331743175317631773178317931803181318231833184318531863187318831893190319131923193319431953196319731983199320032013202320332043205320632073208320932103211321232133214321532163217321832193220322132223223322432253226322732283229323032313232323332343235323632373238323932403241324232433244324532463247324832493250325132523253325432553256325732583259326032613262326332643265326632673268326932703271327232733274327532763277327832793280328132823283328432853286328732883289329032913292329332943295329632973298329933003301330233033304330533063307330833093310331133123313331433153316331733183319332033213322332333243325332633273328332933303331333233333334333533363337333833393340334133423343334433453346334733483349335033513352335333543355335633573358335933603361336233633364336533663367336833693370337133723373337433753376337733783379338033813382338333843385338633873388338933903391339233933394339533963397339833993400340134023403340434053406340734083409341034113412341334143415341634173418341934203421342234233424342534263427342834293430343134323433343434353436343734383439344034413442344334443445344634473448344934503451345234533454345534563457345834593460346134623463346434653466346734683469347034713472347334743475347634773478347934803481348234833484348534863487348834893490349134923493349434953496349734983499350035013502350335043505350635073508350935103511351235133514351535163517351835193520352135223523352435253526352735283529353035313532353335343535353635373538353935403541354235433544354535463547354835493550355135523553355435553556355735583559356035613562356335643565356635673568356935703571357235733574357535763577357835793580358135823583358435853586358735883589359035913592359335943595359635973598359936003601360236033604360536063607360836093610361136123613361436153616361736183619362036213622362336243625362636273628362936303631363236333634363536363637363836393640364136423643364436453646364736483649365036513652365336543655365636573658365936603661366236633664366536663667366836693670367136723673367436753676367736783679368036813682368336843685368636873688368936903691369236933694369536963697369836993700370137023703370437053706370737083709371037113712371337143715371637173718371937203721372237233724372537263727372837293730373137323733373437353736373737383739374037413742374337443745374637473748374937503751375237533754375537563757375837593760376137623763376437653766376737683769377037713772377337743775377637773778377937803781378237833784378537863787378837893790379137923793379437953796379737983799380038013802380338043805380638073808380938103811381238133814381538163817381838193820382138223823382438253826382738283829383038313832383338343835383638373838383938403841384238433844384538463847384838493850385138523853385438553856385738583859386038613862386338643865386638673868386938703871387238733874387538763877387838793880388138823883388438853886388738883889389038913892389338943895389638973898389939003901390239033904390539063907390839093910391139123913391439153916391739183919392039213922392339243925392639273928392939303931393239333934393539363937393839393940394139423943394439453946394739483949395039513952395339543955395639573958395939603961396239633964396539663967396839693970397139723973397439753976397739783979398039813982398339843985398639873988398939903991399239933994399539963997399839994000400140024003400440054006400740084009401040114012401340144015401640174018401940204021402240234024402540264027402840294030403140324033403440354036403740384039404040414042404340444045404640474048404940504051405240534054405540564057405840594060406140624063406440654066406740684069407040714072407340744075407640774078407940804081408240834084408540864087408840894090409140924093409440954096409740984099410041014102410341044105410641074108410941104111411241134114411541164117411841194120412141224123412441254126412741284129413041314132413341344135413641374138413941404141414241434144414541464147414841494150415141524153415441554156415741584159416041614162416341644165416641674168416941704171417241734174417541764177417841794180418141824183418441854186418741884189419041914192419341944195419641974198419942004201420242034204420542064207420842094210421142124213421442154216421742184219422042214222422342244225422642274228422942304231423242334234423542364237423842394240424142424243424442454246424742484249425042514252425342544255425642574258425942604261426242634264426542664267426842694270427142724273427442754276427742784279428042814282428342844285428642874288428942904291429242934294429542964297429842994300430143024303430443054306430743084309431043114312431343144315431643174318431943204321432243234324432543264327432843294330433143324333433443354336433743384339434043414342434343444345434643474348434943504351435243534354435543564357435843594360436143624363436443654366436743684369437043714372437343744375437643774378437943804381438243834384438543864387438843894390439143924393439443954396439743984399440044014402440344044405440644074408440944104411441244134414441544164417441844194420442144224423442444254426442744284429443044314432443344344435443644374438443944404441444244434444444544464447444844494450445144524453445444554456445744584459446044614462446344644465446644674468446944704471447244734474447544764477447844794480448144824483448444854486448744884489449044914492449344944495449644974498449945004501450245034504450545064507450845094510451145124513451445154516451745184519452045214522452345244525452645274528452945304531453245334534453545364537453845394540454145424543454445454546454745484549455045514552455345544555455645574558455945604561456245634564456545664567456845694570457145724573457445754576457745784579458045814582458345844585458645874588458945904591459245934594459545964597459845994600460146024603460446054606460746084609461046114612461346144615461646174618461946204621462246234624462546264627462846294630463146324633463446354636463746384639464046414642464346444645464646474648464946504651465246534654465546564657465846594660466146624663466446654666466746684669467046714672467346744675467646774678467946804681468246834684468546864687468846894690469146924693469446954696469746984699470047014702470347044705470647074708470947104711471247134714471547164717471847194720472147224723472447254726472747284729473047314732473347344735473647374738473947404741474247434744474547464747474847494750475147524753475447554756475747584759476047614762476347644765476647674768476947704771477247734774477547764777477847794780478147824783478447854786478747884789479047914792479347944795479647974798479948004801480248034804480548064807480848094810481148124813481448154816481748184819482048214822482348244825482648274828482948304831483248334834483548364837483848394840484148424843484448454846484748484849485048514852485348544855485648574858485948604861486248634864486548664867486848694870487148724873487448754876487748784879488048814882488348844885488648874888488948904891489248934894489548964897489848994900490149024903490449054906490749084909491049114912491349144915491649174918491949204921492249234924492549264927492849294930493149324933493449354936493749384939494049414942494349444945494649474948494949504951495249534954495549564957495849594960496149624963496449654966496749684969497049714972497349744975497649774978497949804981498249834984498549864987498849894990499149924993499449954996499749984999500050015002500350045005500650075008500950105011501250135014501550165017501850195020502150225023502450255026502750285029503050315032503350345035503650375038503950405041504250435044504550465047504850495050505150525053505450555056505750585059506050615062506350645065506650675068506950705071507250735074507550765077507850795080508150825083508450855086508750885089509050915092509350945095509650975098509951005101510251035104510551065107510851095110511151125113511451155116511751185119512051215122512351245125512651275128512951305131513251335134513551365137513851395140514151425143514451455146514751485149515051515152515351545155515651575158515951605161516251635164516551665167516851695170517151725173517451755176517751785179518051815182518351845185518651875188518951905191519251935194519551965197519851995200520152025203520452055206520752085209521052115212521352145215521652175218521952205221522252235224522552265227522852295230523152325233523452355236523752385239524052415242524352445245524652475248524952505251525252535254525552565257525852595260526152625263526452655266526752685269527052715272527352745275527652775278527952805281528252835284528552865287528852895290529152925293529452955296529752985299530053015302530353045305530653075308530953105311531253135314531553165317531853195320532153225323532453255326532753285329533053315332533353345335533653375338533953405341534253435344534553465347534853495350535153525353535453555356535753585359536053615362536353645365536653675368536953705371537253735374537553765377537853795380538153825383538453855386538753885389539053915392539353945395539653975398539954005401540254035404540554065407540854095410541154125413541454155416541754185419542054215422542354245425542654275428542954305431543254335434543554365437543854395440544154425443544454455446544754485449545054515452545354545455545654575458545954605461546254635464546554665467546854695470547154725473547454755476547754785479548054815482548354845485548654875488548954905491549254935494549554965497549854995500550155025503550455055506550755085509551055115512551355145515551655175518551955205521552255235524552555265527552855295530553155325533553455355536553755385539554055415542554355445545554655475548554955505551555255535554555555565557555855595560556155625563556455655566556755685569557055715572557355745575557655775578557955805581558255835584558555865587558855895590559155925593559455955596559755985599560056015602560356045605560656075608560956105611561256135614561556165617561856195620562156225623562456255626562756285629563056315632563356345635563656375638563956405641564256435644564556465647564856495650565156525653565456555656565756585659566056615662566356645665566656675668566956705671567256735674567556765677567856795680568156825683568456855686568756885689569056915692569356945695569656975698569957005701570257035704570557065707570857095710571157125713571457155716571757185719572057215722572357245725572657275728572957305731573257335734573557365737573857395740574157425743574457455746574757485749575057515752575357545755575657575758575957605761576257635764576557665767576857695770577157725773577457755776577757785779578057815782578357845785578657875788578957905791579257935794579557965797579857995800580158025803580458055806580758085809581058115812581358145815581658175818581958205821582258235824582558265827582858295830583158325833583458355836583758385839584058415842584358445845584658475848584958505851585258535854585558565857585858595860586158625863586458655866586758685869587058715872587358745875587658775878587958805881588258835884588558865887588858895890589158925893589458955896589758985899590059015902590359045905590659075908590959105911591259135914591559165917591859195920592159225923592459255926592759285929593059315932593359345935593659375938593959405941594259435944594559465947594859495950595159525953595459555956595759585959596059615962596359645965596659675968596959705971597259735974597559765977597859795980598159825983598459855986598759885989599059915992599359945995599659975998599960006001600260036004600560066007600860096010601160126013601460156016601760186019602060216022602360246025602660276028602960306031603260336034603560366037603860396040604160426043604460456046604760486049605060516052605360546055605660576058605960606061606260636064606560666067606860696070607160726073607460756076607760786079608060816082608360846085608660876088608960906091609260936094609560966097609860996100610161026103610461056106610761086109611061116112611361146115611661176118611961206121612261236124612561266127612861296130613161326133613461356136613761386139614061416142614361446145614661476148614961506151615261536154615561566157615861596160616161626163616461656166616761686169617061716172617361746175617661776178617961806181618261836184618561866187618861896190619161926193619461956196619761986199620062016202620362046205620662076208620962106211621262136214621562166217621862196220622162226223622462256226622762286229623062316232623362346235623662376238623962406241624262436244624562466247624862496250625162526253625462556256625762586259626062616262626362646265626662676268626962706271627262736274627562766277627862796280628162826283628462856286628762886289629062916292629362946295629662976298629963006301630263036304630563066307630863096310631163126313631463156316631763186319632063216322632363246325632663276328632963306331633263336334633563366337633863396340634163426343634463456346634763486349635063516352635363546355635663576358635963606361636263636364636563666367636863696370637163726373637463756376637763786379638063816382638363846385638663876388638963906391639263936394639563966397639863996400640164026403640464056406640764086409641064116412641364146415641664176418641964206421642264236424642564266427642864296430643164326433643464356436643764386439644064416442644364446445644664476448644964506451645264536454645564566457645864596460646164626463646464656466646764686469647064716472647364746475647664776478647964806481648264836484648564866487648864896490649164926493649464956496649764986499650065016502650365046505650665076508650965106511651265136514651565166517651865196520652165226523652465256526652765286529653065316532653365346535653665376538653965406541654265436544654565466547654865496550655165526553655465556556655765586559656065616562656365646565656665676568656965706571657265736574657565766577657865796580658165826583658465856586658765886589659065916592659365946595659665976598659966006601660266036604660566066607660866096610661166126613661466156616661766186619662066216622662366246625662666276628662966306631663266336634663566366637663866396640664166426643664466456646664766486649665066516652665366546655665666576658665966606661666266636664666566666667666866696670667166726673667466756676667766786679668066816682668366846685668666876688668966906691669266936694669566966697669866996700670167026703670467056706670767086709671067116712671367146715671667176718671967206721672267236724672567266727672867296730673167326733673467356736673767386739674067416742674367446745674667476748674967506751675267536754675567566757675867596760676167626763676467656766676767686769677067716772677367746775677667776778677967806781678267836784678567866787678867896790679167926793679467956796679767986799680068016802680368046805680668076808680968106811681268136814681568166817681868196820682168226823682468256826682768286829683068316832683368346835683668376838683968406841684268436844684568466847684868496850685168526853685468556856685768586859686068616862686368646865686668676868686968706871687268736874687568766877687868796880688168826883688468856886688768886889689068916892689368946895689668976898689969006901690269036904690569066907690869096910691169126913691469156916691769186919692069216922692369246925692669276928692969306931693269336934693569366937693869396940694169426943694469456946694769486949695069516952695369546955695669576958695969606961696269636964696569666967696869696970697169726973697469756976697769786979698069816982698369846985698669876988698969906991699269936994699569966997699869997000700170027003700470057006700770087009701070117012701370147015701670177018701970207021702270237024702570267027702870297030703170327033703470357036703770387039704070417042704370447045704670477048704970507051705270537054705570567057705870597060706170627063706470657066706770687069707070717072707370747075707670777078707970807081708270837084708570867087708870897090709170927093709470957096709770987099710071017102710371047105710671077108710971107111711271137114711571167117711871197120712171227123712471257126712771287129713071317132713371347135713671377138713971407141714271437144714571467147714871497150715171527153715471557156715771587159716071617162716371647165716671677168716971707171717271737174717571767177717871797180718171827183718471857186718771887189719071917192719371947195719671977198719972007201720272037204720572067207720872097210721172127213721472157216721772187219722072217222722372247225722672277228722972307231723272337234723572367237723872397240724172427243724472457246724772487249725072517252725372547255725672577258725972607261726272637264726572667267726872697270727172727273727472757276727772787279728072817282728372847285728672877288728972907291729272937294729572967297729872997300730173027303730473057306730773087309731073117312731373147315731673177318731973207321732273237324732573267327732873297330733173327333733473357336733773387339734073417342734373447345734673477348734973507351735273537354735573567357735873597360736173627363736473657366736773687369737073717372737373747375737673777378737973807381738273837384738573867387738873897390739173927393739473957396739773987399740074017402740374047405740674077408740974107411741274137414741574167417741874197420742174227423742474257426742774287429743074317432743374347435743674377438743974407441744274437444744574467447744874497450745174527453745474557456745774587459746074617462746374647465746674677468746974707471747274737474747574767477747874797480748174827483748474857486748774887489749074917492749374947495749674977498749975007501750275037504750575067507750875097510751175127513751475157516751775187519752075217522752375247525752675277528752975307531753275337534753575367537753875397540754175427543754475457546754775487549755075517552755375547555755675577558755975607561756275637564756575667567756875697570757175727573757475757576757775787579758075817582758375847585758675877588758975907591759275937594759575967597759875997600760176027603760476057606760776087609761076117612761376147615761676177618761976207621762276237624762576267627762876297630763176327633763476357636763776387639764076417642764376447645764676477648764976507651765276537654765576567657765876597660766176627663766476657666766776687669767076717672767376747675767676777678767976807681768276837684768576867687768876897690769176927693769476957696769776987699770077017702770377047705770677077708770977107711771277137714771577167717771877197720772177227723772477257726772777287729773077317732773377347735773677377738773977407741774277437744774577467747774877497750775177527753775477557756775777587759776077617762776377647765776677677768776977707771777277737774777577767777777877797780778177827783778477857786778777887789779077917792779377947795779677977798779978007801780278037804780578067807780878097810781178127813781478157816781778187819782078217822782378247825782678277828782978307831783278337834783578367837783878397840784178427843784478457846784778487849785078517852785378547855785678577858785978607861786278637864786578667867786878697870787178727873787478757876787778787879788078817882788378847885788678877888788978907891789278937894789578967897789878997900790179027903790479057906790779087909791079117912791379147915791679177918791979207921792279237924792579267927792879297930793179327933793479357936793779387939794079417942794379447945794679477948794979507951795279537954795579567957795879597960796179627963796479657966796779687969797079717972797379747975797679777978797979807981798279837984798579867987798879897990799179927993799479957996799779987999800080018002800380048005800680078008800980108011801280138014801580168017801880198020802180228023802480258026802780288029803080318032803380348035803680378038803980408041804280438044804580468047804880498050805180528053805480558056805780588059806080618062806380648065806680678068806980708071807280738074807580768077807880798080808180828083808480858086808780888089809080918092809380948095809680978098809981008101810281038104810581068107810881098110811181128113811481158116811781188119812081218122812381248125812681278128812981308131813281338134813581368137813881398140814181428143814481458146814781488149815081518152815381548155815681578158815981608161816281638164816581668167816881698170817181728173817481758176817781788179818081818182818381848185818681878188818981908191819281938194819581968197819881998200820182028203820482058206820782088209821082118212821382148215821682178218821982208221822282238224822582268227822882298230823182328233823482358236823782388239824082418242824382448245&#123; &quot;annotations&quot;: &#123; &quot;list&quot;: [ &#123; &quot;builtIn&quot;: 1, &quot;datasource&quot;: &quot;-- Grafana --&quot;, &quot;enable&quot;: true, &quot;hide&quot;: true, &quot;iconColor&quot;: &quot;rgba(0, 211, 255, 1)&quot;, &quot;name&quot;: &quot;Annotations &amp; Alerts&quot;, &quot;type&quot;: &quot;dashboard&quot; &#125; ] &#125;, &quot;description&quot;: &quot;Dashboard for Cilium (https://cilium.io/) metrics&quot;, &quot;editable&quot;: true, &quot;gnetId&quot;: null, &quot;graphTooltip&quot;: 1, &quot;iteration&quot;: 1606309591568, &quot;links&quot;: [], &quot;panels&quot;: [ &#123; &quot;aliasColors&quot;: &#123; &quot;error&quot;: &quot;#890f02&quot;, &quot;warning&quot;: &quot;#c15c17&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 0 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 76, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;error&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_errors_warnings_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, level) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;level&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Errors &amp; Warnings&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;avg&quot;: &quot;#cffaff&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 0, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 0 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 96, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(irate(cilium_process_cpu_seconds_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod) * 100&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(irate(cilium_process_cpu_seconds_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod) * 100&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(irate(cilium_process_cpu_seconds_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod) * 100&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;CPU Usage per node&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;percent&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;collapsed&quot;: false, &quot;datasource&quot;: null, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 5 &#125;, &quot;id&quot;: 161, &quot;panels&quot;: [], &quot;title&quot;: &quot;Generic&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;AVG_virtual_memory_bytes&quot;: &quot;#508642&quot;, &quot;Average Virtual Memory&quot;: &quot;#f9d9f9&quot;, &quot;MAX_virtual_memory_bytes&quot;: &quot;#e5ac0e&quot;, &quot;Max Virtual Memory&quot;: &quot;#584477&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 0, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 8, &quot;x&quot;: 0, &quot;y&quot;: 6 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 26, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;Max Virtual Memory&quot;, &quot;fillBelowTo&quot;: &quot;Min Virtual Memory&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;Min Virtual Memory&quot;, &quot;lines&quot;: false &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(cilium_process_virtual_memory_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Min Virtual Memory&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_process_virtual_memory_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Average Virtual Memory&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_process_virtual_memory_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Max Virtual Memory&quot;, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Virtual Memory Bytes&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;bytes&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;MAX_resident_memory_bytes_max&quot;: &quot;#e5ac0e&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 8, &quot;x&quot;: 8, &quot;y&quot;: 6 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 24, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(cilium_process_resident_memory_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;AVG_resident_memory_bytes&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_process_resident_memory_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;MAX_resident_memory_bytes_max&quot;, &quot;refId&quot;: &quot;D&quot; &#125;, &#123; &quot;expr&quot;: &quot;min(cilium_process_resident_memory_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;MIN_resident_memory_bytes_min&quot;, &quot;refId&quot;: &quot;E&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Resident memory status&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;bytes&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;all nodes&quot;: &quot;#e5a8e2&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 8, &quot;x&quot;: 16, &quot;y&quot;: 6 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 98, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;all nodes&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(cilium_process_open_fds&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;all nodes&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;min(cilium_process_open_fds&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min/node&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_process_open_fds&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg/node&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_process_open_fds&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max/node&quot;, &quot;refId&quot;: &quot;D&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Open file descriptors&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;MAX_resident_memory_bytes_max&quot;: &quot;#e5ac0e&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;description&quot;: &quot;BPF memory usage in the entire system including components not managed by Cilium.&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 11 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 178, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(cilium_bpf_maps_virtual_memory_max_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125; + cilium_bpf_progs_virtual_memory_max_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;hide&quot;: false, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;AVG_bpf_memory_bytes_avg&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_bpf_maps_virtual_memory_max_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125; + cilium_bpf_progs_virtual_memory_max_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;hide&quot;: false, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;MAX_bpf_memory_bytes_max&quot;, &quot;refId&quot;: &quot;D&quot; &#125;, &#123; &quot;expr&quot;: &quot;min(cilium_bpf_maps_virtual_memory_max_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125; + cilium_bpf_progs_virtual_memory_max_bytes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;hide&quot;: false, &quot;instant&quot;: false, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;MIN_bpf_memory_bytes_min&quot;, &quot;refId&quot;: &quot;E&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;System-wide BPF memory usage&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;$$hashKey&quot;: &quot;object:136&quot;, &quot;format&quot;: &quot;bytes&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;$$hashKey&quot;: &quot;object:137&quot;, &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;description&quot;: &quot;Fill percentage of BPF maps, tagged by map name&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 11 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 194, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;cilium_bpf_map_pressure&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;&quot;, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;BPF map pressure&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;$$hashKey&quot;: &quot;object:230&quot;, &quot;format&quot;: &quot;percentunit&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: &quot;1.0&quot;, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;$$hashKey&quot;: &quot;object:231&quot;, &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;collapsed&quot;: false, &quot;datasource&quot;: null, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 17 &#125;, &quot;id&quot;: 155, &quot;panels&quot;: [], &quot;title&quot;: &quot;API&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 18 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 152, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_agent_api_process_time_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])/rate(cilium_agent_api_process_time_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, path)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125; &#123;&#123;path&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;API call latency (average node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 18 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 153, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;max(rate(cilium_agent_api_process_time_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])/rate(cilium_agent_api_process_time_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, path)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125; &#123;&#123;path&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;API call latency (max node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 24 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 156, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_agent_api_process_time_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, path)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125; &#123;&#123;path&#125;&#125; &quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;# API calls (average node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 24 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 157, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;max(rate(cilium_agent_api_process_time_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, path)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125; &#123;&#123;path&#125;&#125; &quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;# API calls (max node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 30 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 159, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_agent_api_process_time_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, path, return_code)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;return_code&#125;&#125; (&#123;&#123;method&#125;&#125; &#123;&#123;path&#125;&#125; )&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;API return codes (average node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 30 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 158, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_agent_api_process_time_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, path, return_code)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;return_code&#125;&#125; (&#123;&#123;method&#125;&#125; &#123;&#123;path&#125;&#125; )&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;API return codes (sum all nodes)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;collapsed&quot;: false, &quot;datasource&quot;: null, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 36 &#125;, &quot;id&quot;: 72, &quot;panels&quot;: [], &quot;title&quot;: &quot;Cilium&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;content&quot;: &quot;&quot;, &quot;datasource&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 37 &#125;, &quot;id&quot;: 144, &quot;links&quot;: [], &quot;mode&quot;: &quot;markdown&quot;, &quot;title&quot;: &quot;BPF&quot;, &quot;type&quot;: &quot;text&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 38 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 146, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_bpf_syscall_duration_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, operation)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;operation&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;# system calls (average node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;decimals&quot;: 2, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 38 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 145, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;max(rate(cilium_bpf_syscall_duration_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, operation)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;operation&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;# system calls (max node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 2, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 0, &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: false &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 46 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 140, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_bpf_syscall_duration_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])/ rate(cilium_bpf_syscall_duration_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, operation)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;operation&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;system call latency (avg node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 46 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 148, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;max(rate(cilium_bpf_syscall_duration_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])/ rate(cilium_bpf_syscall_duration_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, operation)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;operation&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;system call latency (max node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 8, &quot;x&quot;: 0, &quot;y&quot;: 52 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 142, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;hideEmpty&quot;: false, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;topk(5, avg(rate(cilium_bpf_map_ops_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m])) by (pod, map_name, operation))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;map_name&#125;&#125; &#123;&#123;operation&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;map ops (average node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 8, &quot;x&quot;: 8, &quot;y&quot;: 52 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 147, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;hideEmpty&quot;: false, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;topk(5, max(rate(cilium_bpf_map_ops_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m])) by (pod, map_name, operation))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;map_name&#125;&#125; &#123;&#123;operation&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;map ops (max node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 8, &quot;x&quot;: 16, &quot;y&quot;: 52 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 143, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_bpf_map_ops_total&#123;k8s_app=\\&quot;cilium\\&quot;,outcome=\\&quot;fail\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m])) by (pod, map_name, operation)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;map_name&#125;&#125; &#123;&#123;operation&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;map ops (sum failures)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;content&quot;: &quot;&quot;, &quot;datasource&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 58 &#125;, &quot;id&quot;: 182, &quot;links&quot;: [], &quot;mode&quot;: &quot;markdown&quot;, &quot;title&quot;: &quot;kvstore&quot;, &quot;type&quot;: &quot;text&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;decimals&quot;: 2, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 59 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 184, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(kvstore_operations_total&#123;pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope, action)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;scope&#125;&#125; &#123;&#123;action&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;# operations (sum all nodes)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 2, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 0, &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;decimals&quot;: 2, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 59 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 186, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;max(rate(kvstore_operations_total&#123;pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope, action)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;scope&#125;&#125; &#123;&#123;action&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;# operations (max node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 2, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 0, &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 64 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 188, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;topk(5, avg(rate(cilium_kvstore_operations_duration_seconds_sum&#123;pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action, scope) / avg(rate(cilium_kvstore_operations_duration_seconds_count&#123;pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action, scope))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; &#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;latency (average node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 64 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 190, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;topk(5, max(rate(cilium_kvstore_operations_duration_seconds_sum&#123;pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action, scope) / avg(rate(cilium_kvstore_operations_duration_seconds_count&#123;pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action, scope))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; &#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;latency (max node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 69 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 192, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_kvstore_events_queue_seconds_count&#123;pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope, action)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; &#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Events received (average node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;content&quot;: &quot;&quot;, &quot;datasource&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 75 &#125;, &quot;id&quot;: 47, &quot;links&quot;: [], &quot;mode&quot;: &quot;markdown&quot;, &quot;title&quot;: &quot;Cilium network information&quot;, &quot;type&quot;: &quot;text&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 76 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 81, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_forward_count_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, direction)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;direction&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Forwarded Packets&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 76 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 111, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;EGRESS&quot;, &quot;yaxis&quot;: 1 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_forward_bytes_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, direction) * 8&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;direction&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Forwarded Traffic&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;bps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Alive ipv4&quot;: &quot;#0a50a1&quot;, &quot;Alive ipv4 non-TCP&quot;: &quot;#f9d9f9&quot;, &quot;Alive ipv6&quot;: &quot;#614d93&quot;, &quot;Alive ipv6 TCP&quot;: &quot;#806eb7&quot;, &quot;Alive ipv6 non-TCP&quot;: &quot;#614d93&quot;, &quot;Alive CT entries ipv6&quot;: &quot;#badff4&quot;, &quot;Deleted CT entries ipv4&quot;: &quot;#bf1b00&quot;, &quot;Deleted ipv4&quot;: &quot;#890f02&quot;, &quot;Deleted ipv4 non-TCP&quot;: &quot;#890f02&quot;, &quot;Deleted ipv6&quot;: &quot;#bf1b00&quot;, &quot;L7 denied request&quot;: &quot;#890f02&quot;, &quot;L7 forwarded request&quot;: &quot;#7eb26d&quot;, &quot;avg&quot;: &quot;#e0f9d7&quot;, &quot;deleted&quot;: &quot;#6ed0e0&quot;, &quot;deleted max&quot;: &quot;#447ebc&quot;, &quot;max&quot;: &quot;#629e51&quot;, &quot;min&quot;: &quot;#629e51&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 82 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 56, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;deleted&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;deleted max&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;deleted min&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;deleted\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;deleted&quot;, &quot;refId&quot;: &quot;D&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;deleted\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;deleted max&quot;, &quot;refId&quot;: &quot;E&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;IPv4 Conntrack TCP&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Alive ipv4&quot;: &quot;#0a50a1&quot;, &quot;Alive ipv4 non-TCP&quot;: &quot;#f9d9f9&quot;, &quot;Alive ipv6&quot;: &quot;#614d93&quot;, &quot;Alive ipv6 TCP&quot;: &quot;#806eb7&quot;, &quot;Alive ipv6 non-TCP&quot;: &quot;#614d93&quot;, &quot;Alive CT entries ipv6&quot;: &quot;#badff4&quot;, &quot;Deleted CT entries ipv4&quot;: &quot;#bf1b00&quot;, &quot;Deleted ipv4&quot;: &quot;#890f02&quot;, &quot;Deleted ipv4 non-TCP&quot;: &quot;#890f02&quot;, &quot;Deleted ipv6&quot;: &quot;#bf1b00&quot;, &quot;L7 denied request&quot;: &quot;#890f02&quot;, &quot;L7 forwarded request&quot;: &quot;#7eb26d&quot;, &quot;avg&quot;: &quot;#e0f9d7&quot;, &quot;deleted&quot;: &quot;#6ed0e0&quot;, &quot;deleted max&quot;: &quot;#447ebc&quot;, &quot;max&quot;: &quot;#629e51&quot;, &quot;min&quot;: &quot;#629e51&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 82 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 128, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;deleted&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;deleted max&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;deleted min&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;deleted\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;deleted&quot;, &quot;refId&quot;: &quot;D&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;deleted\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;deleted max&quot;, &quot;refId&quot;: &quot;E&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;IPv6 Conntrack TCP&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Alive ipv4&quot;: &quot;#0a50a1&quot;, &quot;Alive ipv4 non-TCP&quot;: &quot;#f9d9f9&quot;, &quot;Alive ipv6&quot;: &quot;#614d93&quot;, &quot;Alive ipv6 TCP&quot;: &quot;#806eb7&quot;, &quot;Alive ipv6 non-TCP&quot;: &quot;#614d93&quot;, &quot;Alive CT entries ipv6&quot;: &quot;#badff4&quot;, &quot;Deleted CT entries ipv4&quot;: &quot;#bf1b00&quot;, &quot;Deleted ipv4&quot;: &quot;#890f02&quot;, &quot;Deleted ipv4 non-TCP&quot;: &quot;#890f02&quot;, &quot;Deleted ipv6&quot;: &quot;#bf1b00&quot;, &quot;L7 denied request&quot;: &quot;#890f02&quot;, &quot;L7 forwarded request&quot;: &quot;#7eb26d&quot;, &quot;avg&quot;: &quot;#e0f9d7&quot;, &quot;deleted&quot;: &quot;#6ed0e0&quot;, &quot;deleted max&quot;: &quot;#447ebc&quot;, &quot;max&quot;: &quot;#629e51&quot;, &quot;min&quot;: &quot;#629e51&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 88 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 129, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;deleted&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;deleted max&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;deleted min&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;deleted\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;deleted&quot;, &quot;refId&quot;: &quot;D&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;deleted\\&quot;, family=\\&quot;ipv4\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;deleted max&quot;, &quot;refId&quot;: &quot;E&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;IPv4 Conntrack Non-TCP&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Alive ipv4&quot;: &quot;#0a50a1&quot;, &quot;Alive ipv4 non-TCP&quot;: &quot;#f9d9f9&quot;, &quot;Alive ipv6&quot;: &quot;#614d93&quot;, &quot;Alive ipv6 TCP&quot;: &quot;#806eb7&quot;, &quot;Alive ipv6 non-TCP&quot;: &quot;#614d93&quot;, &quot;Alive CT entries ipv6&quot;: &quot;#badff4&quot;, &quot;Deleted CT entries ipv4&quot;: &quot;#bf1b00&quot;, &quot;Deleted ipv4&quot;: &quot;#890f02&quot;, &quot;Deleted ipv4 non-TCP&quot;: &quot;#890f02&quot;, &quot;Deleted ipv6&quot;: &quot;#bf1b00&quot;, &quot;L7 denied request&quot;: &quot;#890f02&quot;, &quot;L7 forwarded request&quot;: &quot;#7eb26d&quot;, &quot;avg&quot;: &quot;#e0f9d7&quot;, &quot;deleted&quot;: &quot;#6ed0e0&quot;, &quot;deleted max&quot;: &quot;#447ebc&quot;, &quot;max&quot;: &quot;#629e51&quot;, &quot;min&quot;: &quot;#629e51&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 88 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 130, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;deleted&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;deleted max&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;deleted min&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;alive\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;deleted\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;deleted&quot;, &quot;refId&quot;: &quot;D&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_datapath_conntrack_gc_entries&#123;k8s_app=\\&quot;cilium\\&quot;, status=\\&quot;deleted\\&quot;, family=\\&quot;ipv6\\&quot;, protocol=\\&quot;non-TCP\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (family,status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;deleted max&quot;, &quot;refId&quot;: &quot;E&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;IPv6 Conntrack Non-TCP&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;ipv4&quot;: &quot;#5195ce&quot;, &quot;ipv6&quot;: &quot;#6d1f62&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;decimals&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 0, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 94 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 87, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: true, &quot;max&quot;: true, &quot;min&quot;: true, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;&quot; &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(cilium_ip_addresses&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod, family)\\n&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;family&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Allocated Addresses&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;dump_interrupts conntrack ipv4&quot;: &quot;#ea6460&quot;, &quot;dump_interrupts conntrack ipv6&quot;: &quot;#58140c&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 94 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 79, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(cilium_datapath_conntrack_dump_resets_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod, area, family, name)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;name&#125;&#125; &#123;&#123;area&#125;&#125; &#123;&#123;family&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Datapath Conntrack Dump Resets&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 99 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 106, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_services_events_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Service Updates&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 99 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 89, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;avg(cilium_unreachable_health_endpoints) by (pod)&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;average unreachable health endpoints&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(cilium_unreachable_nodes&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;unreachable nodes&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;sum(cilium_unreachable_health_endpoints&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;unreachable health endpoints&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Connectivity Health&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 104 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 39, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_drop_count_total&#123;direction=\\&quot;EGRESS\\&quot;, k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (reason)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;reason&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Dropped Egress Packets&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Avg&quot;: &quot;#cca300&quot;, &quot;Max&quot;: &quot;rgb(167, 150, 111)&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 0, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 104 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 93, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;Max&quot;, &quot;fillBelowTo&quot;: &quot;Min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;Min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;add k8s&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;delete k8s&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;update k8s&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;add local-node&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_nodes_all_events_received_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, event_type, source) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;eventType&#125;&#125; &#123;&#123;source&#125;&#125;&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Node Events&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 109 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 113, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_drop_bytes_total&#123;direction=\\&quot;EGRESS\\&quot;, k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (reason) * 8&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;reason&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Dropped Egress Traffic&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;bps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Average Nodes&quot;: &quot;#eab839&quot;, &quot;Max Nodes&quot;: &quot;#c15c17&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 0, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 109 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 91, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;Max Nodes&quot;, &quot;fillBelowTo&quot;: &quot;Min Nodes&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;Min Nodes&quot;, &quot;lines&quot;: false &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(cilium_nodes_all_num&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Average Nodes&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;min(cilium_nodes_all_num&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Min Nodes&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_nodes_all_num&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Max Nodes&quot;, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Nodes&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;content&quot;: &quot;&quot;, &quot;datasource&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 114 &#125;, &quot;id&quot;: 28, &quot;links&quot;: [], &quot;mode&quot;: &quot;markdown&quot;, &quot;title&quot;: &quot;Policy&quot;, &quot;type&quot;: &quot;text&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;L7 denied request&quot;: &quot;#ea6460&quot;, &quot;L7 forwarded request&quot;: &quot;#7eb26d&quot;, &quot;denied&quot;: &quot;#bf1b00&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 115 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 53, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;L7 denied request&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;denied&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_policy_l7_denied_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m]))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;denied&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;sum(rate(cilium_policy_l7_forwarded_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m]))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;forwarded&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;sum(rate(cilium_policy_l7_received_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m]))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;received&quot;, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;L7 forwarded request&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;reqps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;reqps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 115 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 37, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_drop_count_total&#123;direction=\\&quot;INGRESS\\&quot;, k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m])) by (reason)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;reason&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Cilium drops Ingress&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Max per node processingTime&quot;: &quot;#e24d42&quot;, &quot;Max per node upstreamTime&quot;: &quot;#58140c&quot;, &quot;avg(cilium_policy_l7_parse_errors_total&#123;pod=~\\&quot;cilium.*\\&quot;&#125;)&quot;: &quot;#bf1b00&quot;, &quot;parse errors&quot;: &quot;#bf1b00&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 120 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 94, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;Max per node processingTime&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;Max per node upstreamTime&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;avg(cilium_policy_l7_parse_errors_total&#123;pod=~\\&quot;cilium.*\\&quot;&#125;)&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;parse errors&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_proxy_upstream_reply_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope) / sum(rate(cilium_proxy_upstream_reply_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;interval&quot;: &quot;&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_policy_l7_parse_errors_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;parse errors&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Proxy response time (Avg)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 120 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 114, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_drop_bytes_total&#123;direction=\\&quot;INGRESS\\&quot;, k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (reason) * 8&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;reason&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Dropped Ingress Traffic&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;bps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;avg&quot;: &quot;#64b0c8&quot;, &quot;count&quot;: &quot;#9ac48a&quot;, &quot;max&quot;: &quot;#5195ce&quot;, &quot;min&quot;: &quot;#6ed0e0&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 0, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 125 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 104, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;avg count&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;max count&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;avg count&quot; &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(rate(cilium_triggers_policy_update_call_duration_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope) / sum(rate(cilium_triggers_policy_update_call_duration_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(rate(cilium_triggers_policy_update_call_duration_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope) / sum(rate(cilium_triggers_policy_update_call_duration_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(rate(cilium_triggers_policy_update_call_duration_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope) / sum(rate(cilium_triggers_policy_update_call_duration_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Policy Trigger Duration&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Max per node processingTime&quot;: &quot;#e24d42&quot;, &quot;Max per node upstreamTime&quot;: &quot;#58140c&quot;, &quot;parse errors&quot;: &quot;#bf1b00&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 125 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 66, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;parse errors&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;max(rate(cilium_proxy_upstream_reply_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope) / sum(rate(cilium_proxy_upstream_reply_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Max &#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(rate(cilium_policy_l7_parse_errors_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;parse errors&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Proxy response time (Max)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;both&quot;: &quot;#7eb26d&quot;, &quot;egress&quot;: &quot;#e5ac0e&quot;, &quot;ingress&quot;: &quot;#e0752d&quot;, &quot;none&quot;: &quot;#bf1b00&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 6, &quot;x&quot;: 0, &quot;y&quot;: 130 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 33, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;sideWidth&quot;: null, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(cilium_policy_endpoint_enforcement_status&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (enforcement)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;hide&quot;: false, &quot;instant&quot;: true, &quot;interval&quot;: &quot;1s&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;enforcement&#125;&#125;&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Endpoints policy enforcement status&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: false, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;series&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [ &quot;total&quot; ] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;avg&quot;: &quot;#b7dbab&quot;, &quot;max&quot;: &quot;rgba(89, 132, 76, 0.54)&quot;, &quot;min&quot;: &quot;#2f575e&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 6, &quot;x&quot;: 6, &quot;y&quot;: 130 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 100, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(cilium_proxy_redirects&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_proxy_redirects&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_proxy_redirects&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Proxy Redirects&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;average duration&quot;: &quot;#d683ce&quot;, &quot;folds&quot;: &quot;#614d93&quot;, &quot;max duration&quot;: &quot;#614d93&quot;, &quot;max trigger&quot;: &quot;#967302&quot;, &quot;min duration&quot;: &quot;#584477&quot;, &quot;min trigger&quot;: &quot;#fceaca&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 2, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 130 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 102, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min trigger&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min trigger&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;folds&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(rate(cilium_triggers_policy_update_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min trigger&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(rate(cilium_triggers_policy_update_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;average trigger&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(rate(cilium_triggers_policy_update_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max trigger&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(rate(cilium_triggers_policy_update_folds&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;folds&quot;, &quot;refId&quot;: &quot;D&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Policy Trigger Runs&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;max&quot;: &quot;#f2c96d&quot;, &quot;policy errors&quot;: &quot;#bf1b00&quot;, &quot;policy change errors&quot;: &quot;#bf1b00&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 0, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 135 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 85, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;policy errors&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;policy change errors&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(cilium_policy&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by(pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_policy&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by(pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_policy&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by(pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125;, &#123; &quot;expr&quot;: &quot;sum(cilium_policy_change_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;, outcome=\\&quot;fail\\&quot;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;policy change errors&quot;, &quot;refId&quot;: &quot;D&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Policies Per Node&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Max per node processingTime&quot;: &quot;#e24d42&quot;, &quot;Max per node upstreamTime&quot;: &quot;#58140c&quot;, &quot;parse errors&quot;: &quot;#bf1b00&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 135 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 123, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;parse errors&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_proxy_upstream_reply_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, scope)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;DNS proxy requests&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: false &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;avg&quot;: &quot;#f9d9f9&quot;, &quot;max&quot;: &quot;#806eb7&quot;, &quot;min&quot;: &quot;#806eb7&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 0, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 140 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 117, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;min(cilium_policy_max_revision&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;avg(cilium_policy_max_revision&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(cilium_policy_max_revision&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Policy Revision&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;content&quot;: &quot;&quot;, &quot;datasource&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 145 &#125;, &quot;id&quot;: 73, &quot;links&quot;: [], &quot;mode&quot;: &quot;markdown&quot;, &quot;title&quot;: &quot;Endpoints&quot;, &quot;type&quot;: &quot;text&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;decimals&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 9, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 146 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 55, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(histogram_quantile(0.90, rate(cilium_endpoint_regeneration_time_stats_seconds_bucket&#123;k8s_app=\\&quot;cilium\\&quot;, scope!=\\&quot;total\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m]))) by (scope)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Endpoint regeneration time (90th percentile)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;decimals&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 9, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 146 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 115, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(histogram_quantile(0.99, rate(cilium_endpoint_regeneration_time_stats_seconds_bucket&#123;k8s_app=\\&quot;cilium\\&quot;, scope!=\\&quot;total\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m]))) by (scope)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Endpoint regeneration time (99th percentile)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;fail&quot;: &quot;#bf1b00&quot;, &quot;fail/min&quot;: &quot;#890f02&quot;, &quot;success&quot;: &quot;#447ebc&quot;, &quot;success/min&quot;: &quot;#3f6833&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 3, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 155 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 49, &quot;legend&quot;: &#123; &quot;avg&quot;: true, &quot;current&quot;: false, &quot;max&quot;: true, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 2, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;fail&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;success&quot; &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_endpoint_regenerations_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[30s])) by(outcome)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;instant&quot;: false, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;outcome&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Endpoint regenerations&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: false, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;disconnecting&quot;: &quot;#614d93&quot;, &quot;ready&quot;: &quot;rgba(81, 220, 95, 0.52)&quot;, &quot;waiting-to-regenerate&quot;: &quot;#0a50a1&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 155 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 51, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 2, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;connected&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(cilium_endpoint_state&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by (endpoint_state)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;endpoint_state&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Cilium endpoint state&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: false, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;cumulative&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;content&quot;: &quot;&quot;, &quot;datasource&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 160 &#125;, &quot;id&quot;: 74, &quot;links&quot;: [], &quot;mode&quot;: &quot;markdown&quot;, &quot;title&quot;: &quot;Controllers&quot;, &quot;type&quot;: &quot;text&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;Failed&quot;: &quot;#bf1b00&quot;, &quot;Failing&quot;: &quot;#890f02&quot;, &quot;Runs&quot;: &quot;#5195ce&quot; &#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 3, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 161 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 70, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;max&quot;: true, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;Failing&quot;, &quot;yaxis&quot;: 1 &#125;, &#123; &quot;alias&quot;: &quot;Failed&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_controllers_runs_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Runs&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;sum(cilium_controllers_failing&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;) by(pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Failed&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Controllers&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;duration failure&quot;: &quot;#890f02&quot;, &quot;duration success&quot;: &quot;#508642&quot;, &quot;failure&quot;: &quot;#890f02&quot;, &quot;runs failure&quot;: &quot;#890f02&quot;, &quot;runs success&quot;: &quot;#7eb26d&quot;, &quot;success&quot;: &quot;#508642&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 161 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 68, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: false, &quot;max&quot;: true, &quot;min&quot;: true, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;repeat&quot;: null, &quot;repeatDirection&quot;: &quot;h&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;success&quot;, &quot;yaxis&quot;: 1 &#125;, &#123; &quot;alias&quot;: &quot;failure&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_controllers_runs_duration_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, status) / sum(rate(cilium_controllers_runs_duration_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;status&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Controller Durations&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: &quot;&quot;, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: &quot;&quot;, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;content&quot;: &quot;&quot;, &quot;datasource&quot;: null, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 166 &#125;, &quot;id&quot;: 60, &quot;links&quot;: [], &quot;mode&quot;: &quot;markdown&quot;, &quot;title&quot;: &quot;Kubernetes integration&quot;, &quot;type&quot;: &quot;text&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 167 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 163, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_k8s_client_api_latency_time_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])/rate(cilium_k8s_client_api_latency_time_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, path)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125; &#123;&#123;path&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;apiserver latency (average node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 167 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 165, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;max(rate(cilium_k8s_client_api_latency_time_seconds_sum&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])/rate(cilium_k8s_client_api_latency_time_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, path)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125; &#123;&#123;path&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;apiserver latency (max node)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 174 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 168, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_k8s_client_api_latency_time_seconds_count&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, path)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125; &#123;&#123;path&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;apiserver #calls (sum all nodes)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 174 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 166, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: true, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_k8s_client_api_calls_total&#123;k8s_app=\\&quot;cilium\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, method, return_code)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125; &#123;&#123;return_code&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;apiserver calls (sum all nodes)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 182 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 172, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_kubernetes_events_received_total&#123;k8s_app=\\&quot;cilium\\&quot;, equal=\\&quot;true\\&quot;, valid=\\&quot;true\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m])) by (pod, scope, action)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; &#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Valid, Unnecessary K8s Events Received&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 182 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 174, &quot;legend&quot;: &#123; &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_kubernetes_events_received_total&#123;k8s_app=\\&quot;cilium\\&quot;, equal=\\&quot;true\\&quot;, valid=\\&quot;false\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m])) by (pod, scope, action)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; &#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Invalid, Unnecessary K8s Events Received&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 188 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 175, &quot;legend&quot;: &#123; &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_kubernetes_events_received_total&#123;k8s_app=\\&quot;cilium\\&quot;, equal=\\&quot;false\\&quot;, valid=\\&quot;true\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m])) by (pod, scope, action, valid)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; &#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Valid, Necessary K8s Events Received&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 8, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 188 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 173, &quot;legend&quot;: &#123; &quot;avg&quot;: true, &quot;current&quot;: false, &quot;hideEmpty&quot;: true, &quot;hideZero&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(cilium_kubernetes_events_received_total&#123;k8s_app=\\&quot;cilium\\&quot;, equal=\\&quot;false\\&quot;, valid=\\&quot;false\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[5m])) by (pod, scope, action)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; &#123;&#123;scope&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Invalid, Necessary K8s Events Received&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 196 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 108, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_kubernetes_events_total&#123;k8s_app=\\&quot;cilium\\&quot;, scope=\\&quot;CiliumNetworkPolicy\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;CiliumNetworkPolicy Events&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: false &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;create avg&quot;: &quot;#70dbed&quot;, &quot;delete avg&quot;: &quot;#e24d42&quot;, &quot;update avg&quot;: &quot;#e0f9d7&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 196 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 119, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_kubernetes_events_total&#123;k8s_app=\\&quot;cilium\\&quot;, scope=\\&quot;NetworkPolicy\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;NetworkPolicy Events&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: false &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;create avg&quot;: &quot;#70dbed&quot;, &quot;delete avg&quot;: &quot;#e24d42&quot;, &quot;update avg&quot;: &quot;#e0f9d7&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 203 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 109, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_kubernetes_events_total&#123;k8s_app=\\&quot;cilium\\&quot;, scope=\\&quot;Pod\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Pod Events&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: false &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123; &quot;create avg&quot;: &quot;#70dbed&quot;, &quot;delete avg&quot;: &quot;#e24d42&quot;, &quot;update avg&quot;: &quot;#e0f9d7&quot; &#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 203 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 122, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_kubernetes_events_total&#123;k8s_app=\\&quot;cilium\\&quot;, scope=\\&quot;Node\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125; avg&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Node Events&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: false &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 210 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 118, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_kubernetes_events_total&#123;k8s_app=\\&quot;cilium\\&quot;, scope=\\&quot;Service\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125;&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Service Events&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: false &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 210 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 120, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_kubernetes_events_total&#123;k8s_app=\\&quot;cilium\\&quot;, scope=\\&quot;Endpoint\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125;&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Endpoints Events&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: false &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: true, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;custom&quot;: &#123;&#125; &#125;, &quot;overrides&quot;: [] &#125;, &quot;fill&quot;: 1, &quot;fillGradient&quot;: 0, &quot;gridPos&quot;: &#123; &quot;h&quot;: 7, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 217 &#125;, &quot;hiddenSeries&quot;: false, &quot;id&quot;: 121, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: false, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123; &quot;dataLinks&quot;: [] &#125;, &quot;paceLength&quot;: 10, &quot;percentage&quot;: false, &quot;pointradius&quot;: 5, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(rate(cilium_kubernetes_events_total&#123;k8s_app=\\&quot;cilium\\&quot;, scope=\\&quot;Namespace\\&quot;, pod=~\\&quot;$pod\\&quot;&#125;[1m])) by (pod, action) * 60&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;action&#125;&#125;&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Namespace Events&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;opm&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: false &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125; ], &quot;refresh&quot;: false, &quot;schemaVersion&quot;: 25, &quot;style&quot;: &quot;dark&quot;, &quot;tags&quot;: [], &quot;templating&quot;: &#123; &quot;list&quot;: [ &#123; &quot;allValue&quot;: &quot;cilium.*&quot;, &quot;current&quot;: &#123; &quot;selected&quot;: false, &quot;text&quot;: &quot;All&quot;, &quot;value&quot;: &quot;$__all&quot; &#125;, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;definition&quot;: &quot;label_values(cilium_version, pod)&quot;, &quot;hide&quot;: 0, &quot;includeAll&quot;: true, &quot;label&quot;: null, &quot;multi&quot;: false, &quot;name&quot;: &quot;pod&quot;, &quot;options&quot;: [], &quot;query&quot;: &quot;label_values(cilium_version, pod)&quot;, &quot;refresh&quot;: 2, &quot;regex&quot;: &quot;&quot;, &quot;skipUrlSync&quot;: false, &quot;sort&quot;: 1, &quot;tagValuesQuery&quot;: &quot;&quot;, &quot;tags&quot;: [], &quot;tagsQuery&quot;: &quot;&quot;, &quot;type&quot;: &quot;query&quot;, &quot;useTags&quot;: false &#125; ] &#125;, &quot;time&quot;: &#123; &quot;from&quot;: &quot;now-30m&quot;, &quot;to&quot;: &quot;now&quot; &#125;, &quot;timepicker&quot;: &#123; &quot;refresh_intervals&quot;: [ &quot;10s&quot;, &quot;30s&quot;, &quot;1m&quot;, &quot;5m&quot;, &quot;15m&quot;, &quot;30m&quot;, &quot;1h&quot;, &quot;2h&quot;, &quot;1d&quot; ], &quot;time_options&quot;: [ &quot;5m&quot;, &quot;15m&quot;, &quot;1h&quot;, &quot;6h&quot;, &quot;12h&quot;, &quot;24h&quot;, &quot;2d&quot;, &quot;7d&quot;, &quot;30d&quot; ] &#125;, &quot;timezone&quot;: &quot;utc&quot;, &quot;title&quot;: &quot;Cilium Metrics&quot;, &quot;uid&quot;: &quot;vtuWtdumz&quot;, &quot;version&quot;: 1&#125; Hubble Metrics 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000100110021003100410051006100710081009101010111012101310141015101610171018101910201021102210231024102510261027102810291030103110321033103410351036103710381039104010411042104310441045104610471048104910501051105210531054105510561057105810591060106110621063106410651066106710681069107010711072107310741075107610771078107910801081108210831084108510861087108810891090109110921093109410951096109710981099110011011102110311041105110611071108110911101111111211131114111511161117111811191120112111221123112411251126112711281129113011311132113311341135113611371138113911401141114211431144114511461147114811491150115111521153115411551156115711581159116011611162116311641165116611671168116911701171117211731174117511761177117811791180118111821183118411851186118711881189119011911192119311941195119611971198119912001201120212031204120512061207120812091210121112121213121412151216121712181219122012211222122312241225122612271228122912301231123212331234123512361237123812391240124112421243124412451246124712481249125012511252125312541255125612571258125912601261126212631264126512661267126812691270127112721273127412751276127712781279128012811282128312841285128612871288128912901291129212931294129512961297129812991300130113021303130413051306130713081309131013111312131313141315131613171318131913201321132213231324132513261327132813291330133113321333133413351336133713381339134013411342134313441345134613471348134913501351135213531354135513561357135813591360136113621363136413651366136713681369137013711372137313741375137613771378137913801381138213831384138513861387138813891390139113921393139413951396139713981399140014011402140314041405140614071408140914101411141214131414141514161417141814191420142114221423142414251426142714281429143014311432143314341435143614371438143914401441144214431444144514461447144814491450145114521453145414551456145714581459146014611462146314641465146614671468146914701471147214731474147514761477147814791480148114821483148414851486148714881489149014911492149314941495149614971498149915001501150215031504150515061507150815091510151115121513151415151516151715181519152015211522152315241525152615271528152915301531153215331534153515361537153815391540154115421543154415451546154715481549155015511552155315541555155615571558155915601561156215631564156515661567156815691570157115721573157415751576157715781579158015811582158315841585158615871588158915901591159215931594159515961597159815991600160116021603160416051606160716081609161016111612161316141615161616171618161916201621162216231624162516261627162816291630163116321633163416351636163716381639164016411642164316441645164616471648164916501651165216531654165516561657165816591660166116621663166416651666166716681669167016711672167316741675167616771678167916801681168216831684168516861687168816891690169116921693169416951696169716981699170017011702170317041705170617071708170917101711171217131714171517161717171817191720172117221723172417251726172717281729173017311732173317341735173617371738173917401741174217431744174517461747174817491750175117521753175417551756175717581759176017611762176317641765176617671768176917701771177217731774177517761777177817791780178117821783178417851786178717881789179017911792179317941795179617971798179918001801180218031804180518061807180818091810181118121813181418151816181718181819182018211822182318241825182618271828182918301831183218331834183518361837183818391840184118421843184418451846184718481849185018511852185318541855185618571858185918601861186218631864186518661867186818691870187118721873187418751876187718781879188018811882188318841885188618871888188918901891189218931894189518961897189818991900190119021903190419051906190719081909191019111912191319141915191619171918191919201921192219231924192519261927192819291930193119321933193419351936193719381939194019411942194319441945194619471948194919501951195219531954195519561957195819591960196119621963196419651966196719681969197019711972197319741975197619771978197919801981198219831984198519861987198819891990199119921993199419951996199719981999200020012002200320042005200620072008200920102011201220132014201520162017201820192020202120222023202420252026202720282029203020312032203320342035203620372038203920402041204220432044204520462047204820492050205120522053205420552056205720582059206020612062206320642065206620672068206920702071207220732074207520762077207820792080208120822083208420852086208720882089209020912092209320942095209620972098209921002101210221032104210521062107210821092110211121122113211421152116211721182119212021212122212321242125212621272128212921302131213221332134213521362137213821392140214121422143214421452146214721482149215021512152215321542155215621572158215921602161216221632164216521662167216821692170217121722173217421752176217721782179218021812182218321842185218621872188218921902191219221932194219521962197219821992200220122022203220422052206220722082209221022112212221322142215221622172218221922202221222222232224222522262227222822292230223122322233223422352236223722382239224022412242224322442245224622472248224922502251225222532254225522562257225822592260226122622263226422652266226722682269227022712272227322742275227622772278227922802281228222832284228522862287228822892290229122922293229422952296229722982299230023012302230323042305230623072308230923102311231223132314231523162317231823192320232123222323232423252326232723282329233023312332233323342335233623372338233923402341234223432344234523462347234823492350235123522353235423552356235723582359236023612362236323642365236623672368236923702371237223732374237523762377237823792380238123822383238423852386238723882389239023912392239323942395239623972398239924002401240224032404240524062407240824092410241124122413241424152416241724182419242024212422242324242425242624272428242924302431243224332434243524362437243824392440244124422443244424452446244724482449245024512452245324542455245624572458245924602461246224632464246524662467246824692470247124722473247424752476247724782479248024812482248324842485248624872488248924902491249224932494249524962497249824992500250125022503250425052506250725082509251025112512251325142515251625172518251925202521252225232524252525262527252825292530253125322533253425352536253725382539254025412542254325442545254625472548254925502551255225532554255525562557255825592560256125622563256425652566256725682569257025712572257325742575257625772578257925802581258225832584258525862587258825892590259125922593259425952596259725982599260026012602260326042605260626072608260926102611261226132614261526162617261826192620262126222623262426252626262726282629263026312632263326342635263626372638263926402641264226432644264526462647264826492650265126522653265426552656265726582659266026612662266326642665266626672668266926702671267226732674267526762677267826792680268126822683268426852686268726882689269026912692269326942695269626972698269927002701270227032704270527062707270827092710271127122713271427152716271727182719272027212722272327242725272627272728272927302731273227332734273527362737273827392740274127422743274427452746274727482749275027512752275327542755275627572758275927602761276227632764276527662767276827692770277127722773277427752776277727782779278027812782278327842785278627872788278927902791279227932794279527962797279827992800280128022803280428052806280728082809281028112812281328142815281628172818281928202821282228232824282528262827282828292830283128322833283428352836283728382839284028412842284328442845284628472848284928502851285228532854285528562857285828592860286128622863286428652866286728682869287028712872287328742875287628772878287928802881288228832884288528862887288828892890289128922893289428952896289728982899290029012902290329042905290629072908290929102911291229132914291529162917291829192920292129222923292429252926292729282929293029312932293329342935293629372938293929402941294229432944294529462947294829492950295129522953295429552956295729582959296029612962296329642965296629672968296929702971297229732974297529762977297829792980298129822983298429852986298729882989299029912992299329942995299629972998299930003001300230033004300530063007300830093010301130123013301430153016301730183019302030213022302330243025302630273028302930303031303230333034303530363037303830393040304130423043304430453046304730483049305030513052305330543055305630573058305930603061306230633064306530663067306830693070307130723073307430753076307730783079308030813082308330843085308630873088308930903091309230933094309530963097309830993100310131023103310431053106310731083109311031113112311331143115311631173118311931203121312231233124312531263127312831293130313131323133313431353136313731383139314031413142314331443145314631473148314931503151315231533154315531563157315831593160316131623163316431653166316731683169317031713172317331743175317631773178317931803181318231833184318531863187318831893190319131923193319431953196319731983199320032013202320332043205320632073208320932103211321232133214321532163217321832193220322132223223322432253226322732283229323032313232&#123; &quot;annotations&quot;: &#123; &quot;list&quot;: [ &#123; &quot;builtIn&quot;: 1, &quot;datasource&quot;: &quot;-- Grafana --&quot;, &quot;enable&quot;: true, &quot;hide&quot;: true, &quot;iconColor&quot;: &quot;rgba(0, 211, 255, 1)&quot;, &quot;name&quot;: &quot;Annotations &amp; Alerts&quot;, &quot;type&quot;: &quot;dashboard&quot; &#125; ] &#125;, &quot;editable&quot;: true, &quot;gnetId&quot;: null, &quot;graphTooltip&quot;: 0, &quot;id&quot;: 3, &quot;links&quot;: [], &quot;panels&quot;: [ &#123; &quot;collapsed&quot;: false, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 0 &#125;, &quot;id&quot;: 14, &quot;panels&quot;: [], &quot;title&quot;: &quot;General Processing&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 1 &#125;, &quot;id&quot;: 12, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;max&quot;, &quot;fillBelowTo&quot;: &quot;avg&quot;, &quot;lines&quot;: false &#125;, &#123; &quot;alias&quot;: &quot;avg&quot;, &quot;fill&quot;: 0, &quot;fillBelowTo&quot;: &quot;min&quot; &#125;, &#123; &quot;alias&quot;: &quot;min&quot;, &quot;lines&quot;: false &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;avg(sum(rate(hubble_flows_processed_total[1m])) by (pod))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;avg&quot;, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;expr&quot;: &quot;min(sum(rate(hubble_flows_processed_total[1m])) by (pod))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;min&quot;, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;expr&quot;: &quot;max(sum(rate(hubble_flows_processed_total[1m])) by (pod))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;max&quot;, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Flows processed Per Node&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 1, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 1 &#125;, &quot;id&quot;: 32, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_flows_processed_total[1m])) by (pod, type)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;type&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Flows Types&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 2, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 6 &#125;, &quot;id&quot;: 59, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_flows_processed_total&#123;type=\\&quot;L7\\&quot;&#125;[1m])) by (pod, subtype)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;subtype&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;L7 Flow Distribution&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 2, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 6 &#125;, &quot;id&quot;: 60, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_flows_processed_total&#123;type=\\&quot;Trace\\&quot;&#125;[1m])) by (pod, subtype)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;subtype&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Trace Flow Distribution&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 2, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;collapsed&quot;: false, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 11 &#125;, &quot;id&quot;: 16, &quot;panels&quot;: [], &quot;title&quot;: &quot;Network&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 12 &#125;, &quot;id&quot;: 33, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_flows_processed_total[1m])) by (pod, verdict)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;verdict&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Forwarded vs Dropped&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;ops&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 12 &#125;, &quot;id&quot;: 8, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_drop_total[1m])) by (pod, reason)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;reason&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Drop Reason&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 17 &#125;, &quot;id&quot;: 34, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: true, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum (rate(hubble_port_distribution_total[1m])) by (pod, protocol)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;protocol&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Protocol Usage&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 2, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 17 &#125;, &quot;id&quot;: 18, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: false, &quot;current&quot;: true, &quot;hideEmpty&quot;: false, &quot;hideZero&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;sort&quot;: &quot;current&quot;, &quot;sortDesc&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;topk(10, sum (rate(hubble_port_distribution_total&#123;port!=\\&quot;0\\&quot;&#125;[1m])) by (pod, port, protocol))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;port&#125;&#125;/&#123;&#123;protocol&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Top 10 Port Distribution&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 2, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 22 &#125;, &quot;id&quot;: 10, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;fin&quot;, &quot;yaxis&quot;: 1 &#125;, &#123; &quot;alias&quot;: &quot;FIN&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;RST&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_tcp_flags_total&#123;family=\\&quot;IPv4\\&quot;&#125;[1m])) by (pod, flag)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;flag&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;TCPv4&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;alert&quot;: &#123; &quot;conditions&quot;: [ &#123; &quot;evaluator&quot;: &#123; &quot;params&quot;: [ 0.2 ], &quot;type&quot;: &quot;gt&quot; &#125;, &quot;operator&quot;: &#123; &quot;type&quot;: &quot;and&quot; &#125;, &quot;query&quot;: &#123; &quot;params&quot;: [ &quot;B&quot;, &quot;5m&quot;, &quot;now&quot; ] &#125;, &quot;reducer&quot;: &#123; &quot;params&quot;: [], &quot;type&quot;: &quot;avg&quot; &#125;, &quot;type&quot;: &quot;query&quot; &#125; ], &quot;executionErrorState&quot;: &quot;alerting&quot;, &quot;for&quot;: &quot;5m&quot;, &quot;frequency&quot;: &quot;1m&quot;, &quot;handler&quot;: 1, &quot;name&quot;: &quot;Missing TCP SYN-ACK&quot;, &quot;noDataState&quot;: &quot;no_data&quot;, &quot;notifications&quot;: [] &#125;, &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 22 &#125;, &quot;id&quot;: 62, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;fin&quot;, &quot;yaxis&quot;: 1 &#125;, &#123; &quot;alias&quot;: &quot;FIN&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;RST&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_tcp_flags_total&#123;family=\\&quot;IPv4\\&quot;, flag=\\&quot;SYN\\&quot;&#125;[1m])) by (pod) - sum(rate(hubble_tcp_flags_total&#123;family=\\&quot;IPv4\\&quot;, flag=\\&quot;SYN-ACK\\&quot;&#125;[1m])) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;hide&quot;: false, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Missing SYN-ACK&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [ &#123; &quot;colorMode&quot;: &quot;critical&quot;, &quot;fill&quot;: true, &quot;line&quot;: true, &quot;op&quot;: &quot;gt&quot;, &quot;value&quot;: 0.2 &#125; ], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Missing TCPv4 SYN-ACKs&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 27 &#125;, &quot;id&quot;: 35, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;fin&quot;, &quot;yaxis&quot;: 1 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_tcp_flags_total&#123;family=\\&quot;IPv6\\&quot;&#125;[1m])) by (pod, flag)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;flag&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;TCPv6&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;alert&quot;: &#123; &quot;conditions&quot;: [ &#123; &quot;evaluator&quot;: &#123; &quot;params&quot;: [ 0.2 ], &quot;type&quot;: &quot;gt&quot; &#125;, &quot;operator&quot;: &#123; &quot;type&quot;: &quot;and&quot; &#125;, &quot;query&quot;: &#123; &quot;params&quot;: [ &quot;B&quot;, &quot;5m&quot;, &quot;now&quot; ] &#125;, &quot;reducer&quot;: &#123; &quot;params&quot;: [], &quot;type&quot;: &quot;avg&quot; &#125;, &quot;type&quot;: &quot;query&quot; &#125; ], &quot;executionErrorState&quot;: &quot;alerting&quot;, &quot;for&quot;: &quot;5m&quot;, &quot;frequency&quot;: &quot;1m&quot;, &quot;handler&quot;: 1, &quot;name&quot;: &quot;Missing TCPv6 SYN-ACKs alert&quot;, &quot;noDataState&quot;: &quot;no_data&quot;, &quot;notifications&quot;: [] &#125;, &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 27 &#125;, &quot;id&quot;: 63, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [ &#123; &quot;alias&quot;: &quot;fin&quot;, &quot;yaxis&quot;: 1 &#125;, &#123; &quot;alias&quot;: &quot;FIN&quot;, &quot;yaxis&quot;: 2 &#125;, &#123; &quot;alias&quot;: &quot;RST&quot;, &quot;yaxis&quot;: 2 &#125; ], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_tcp_flags_total&#123;family=\\&quot;IPv6\\&quot;, flag=\\&quot;SYN\\&quot;&#125;[1m])) by (pod) - sum(rate(hubble_tcp_flags_total&#123;family=\\&quot;IPv6\\&quot;, flag=\\&quot;SYN-ACK\\&quot;&#125;[1m])) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;hide&quot;: false, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Missing SYN-ACK&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [ &#123; &quot;colorMode&quot;: &quot;critical&quot;, &quot;fill&quot;: true, &quot;line&quot;: true, &quot;op&quot;: &quot;gt&quot;, &quot;value&quot;: 0.2 &#125; ], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Missing TCPv6 SYN-ACKs&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 32 &#125;, &quot;id&quot;: 31, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_icmp_total&#123;family=\\&quot;IPv4\\&quot;&#125;[1m])) by (pod, type)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;type&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;ICMPv4&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;alert&quot;: &#123; &quot;conditions&quot;: [ &#123; &quot;evaluator&quot;: &#123; &quot;params&quot;: [ 0.1 ], &quot;type&quot;: &quot;gt&quot; &#125;, &quot;operator&quot;: &#123; &quot;type&quot;: &quot;and&quot; &#125;, &quot;query&quot;: &#123; &quot;params&quot;: [ &quot;B&quot;, &quot;5m&quot;, &quot;now&quot; ] &#125;, &quot;reducer&quot;: &#123; &quot;params&quot;: [], &quot;type&quot;: &quot;avg&quot; &#125;, &quot;type&quot;: &quot;query&quot; &#125; ], &quot;executionErrorState&quot;: &quot;alerting&quot;, &quot;for&quot;: &quot;5m&quot;, &quot;frequency&quot;: &quot;1m&quot;, &quot;handler&quot;: 1, &quot;name&quot;: &quot;Missing ICMPv4 Echo-Reply alert&quot;, &quot;noDataState&quot;: &quot;no_data&quot;, &quot;notifications&quot;: [] &#125;, &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 32 &#125;, &quot;id&quot;: 64, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_icmp_total&#123;family=\\&quot;IPv4\\&quot;, type=\\&quot;EchoRequest\\&quot;&#125;[1m])) by (pod) - sum(rate(hubble_icmp_total&#123;family=\\&quot;IPv4\\&quot;, type=\\&quot;EchoReply\\&quot;&#125;[1m])) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;hide&quot;: false, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Missing ICMP Echo-Reply&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [ &#123; &quot;colorMode&quot;: &quot;critical&quot;, &quot;fill&quot;: true, &quot;line&quot;: true, &quot;op&quot;: &quot;gt&quot;, &quot;value&quot;: 0.1 &#125; ], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Missing ICMPv4 Echo-Reply&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 37 &#125;, &quot;id&quot;: 36, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_icmp_total&#123;family=\\&quot;IPv6\\&quot;&#125;[1m])) by (pod, type)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;type&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;ICMPv6&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 37 &#125;, &quot;id&quot;: 65, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_icmp_total&#123;family=\\&quot;IPv6\\&quot;, type=\\&quot;EchoRequest\\&quot;&#125;[1m])) by (pod) - sum(rate(hubble_icmp_total&#123;family=\\&quot;IPv6\\&quot;, type=\\&quot;EchoReply\\&quot;&#125;[1m])) by (pod)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;hide&quot;: false, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;Missing ICMP Echo-Reply&quot;, &quot;refId&quot;: &quot;B&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Missing ICMPv6 Echo-Reply&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;collapsed&quot;: false, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 42 &#125;, &quot;id&quot;: 42, &quot;panels&quot;: [], &quot;title&quot;: &quot;Network Policy&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 4, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 43 &#125;, &quot;id&quot;: 43, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_drop_total&#123;reason=\\&quot;POLICY_DENIED\\&quot;&#125;[1m])) by (pod, reason)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;reason&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Denies by Reason&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 4, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 43 &#125;, &quot;id&quot;: 61, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_drop_total&#123;reason=\\&quot;POLICY_DENIED\\&quot;&#125;[1m])) by (pod, protocol)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;protocol&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Denied Packets by Protocol&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 47 &#125;, &quot;id&quot;: 55, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;topk(10, sum(rate(hubble_drop_total&#123;reason=\\&quot;POLICY_DENIED\\&quot;&#125;[1m])) by (pod, source))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;source&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Top 10 Source Pods with Denied Packets&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 47 &#125;, &quot;id&quot;: 54, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;topk(10, sum(rate(hubble_drop_total&#123;reason=\\&quot;POLICY_DENIED\\&quot;&#125;[1m])) by (pod, destination))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;destination&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Top 10 Destination Pods with Denied Packets&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;pps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;collapsed&quot;: false, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 52 &#125;, &quot;id&quot;: 47, &quot;panels&quot;: [], &quot;title&quot;: &quot;HTTP&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 53 &#125;, &quot;id&quot;: 45, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_http_requests_total[1m])) by (pod, method)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;HTTP Requests&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 1, &quot;format&quot;: &quot;reqps&quot;, &quot;label&quot;: &quot;&quot;, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 53 &#125;, &quot;id&quot;: 49, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_http_responses_total[1m])) by (pod, status)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;status&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;HTTP responses&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 1, &quot;format&quot;: &quot;reqps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 59 &#125;, &quot;id&quot;: 51, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;histogram_quantile(0.5, rate(hubble_http_request_duration_seconds_bucket[1m]))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;HTTP Request/Response Latency (p50)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 59 &#125;, &quot;id&quot;: 58, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;histogram_quantile(0.99, rate(hubble_http_request_duration_seconds_bucket[1m]))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;method&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;HTTP Request/Response Latency (p99)&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;s&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 64 &#125;, &quot;id&quot;: 53, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: true, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: true, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_http_requests_total[5m])) by (pod, protocol)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;protocol&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;HTTP Protocol Usage&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 0, &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;collapsed&quot;: false, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 69 &#125;, &quot;id&quot;: 6, &quot;panels&quot;: [], &quot;title&quot;: &quot;DNS&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 8, &quot;x&quot;: 0, &quot;y&quot;: 70 &#125;, &quot;id&quot;: 2, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_dns_queries_total[1m])) by (pod, qtypes)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;qtypes&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;DNS Requests&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;reqps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 8, &quot;x&quot;: 8, &quot;y&quot;: 70 &#125;, &quot;id&quot;: 4, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_dns_responses_total&#123;rcode=\\&quot;No Error\\&quot;&#125;[1m])) by (pod, qtypes)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;qtypes&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;DNS responses&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 1, &quot;format&quot;: &quot;reqps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;alert&quot;: &#123; &quot;conditions&quot;: [ &#123; &quot;evaluator&quot;: &#123; &quot;params&quot;: [ 0.5 ], &quot;type&quot;: &quot;gt&quot; &#125;, &quot;operator&quot;: &#123; &quot;type&quot;: &quot;and&quot; &#125;, &quot;query&quot;: &#123; &quot;params&quot;: [ &quot;A&quot;, &quot;5m&quot;, &quot;now&quot; ] &#125;, &quot;reducer&quot;: &#123; &quot;params&quot;: [], &quot;type&quot;: &quot;avg&quot; &#125;, &quot;type&quot;: &quot;query&quot; &#125; ], &quot;executionErrorState&quot;: &quot;alerting&quot;, &quot;for&quot;: &quot;5m&quot;, &quot;frequency&quot;: &quot;1m&quot;, &quot;handler&quot;: 1, &quot;name&quot;: &quot;DNS Request/Response Symmetry alert&quot;, &quot;noDataState&quot;: &quot;no_data&quot;, &quot;notifications&quot;: [] &#125;, &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 8, &quot;x&quot;: 16, &quot;y&quot;: 70 &#125;, &quot;id&quot;: 66, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_dns_queries_total[1m])) by (pod, qtypes) - sum(rate(hubble_dns_responses_total[1m])) by (pod, qtypes)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;qtypes&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [ &#123; &quot;colorMode&quot;: &quot;critical&quot;, &quot;fill&quot;: true, &quot;line&quot;: true, &quot;op&quot;: &quot;gt&quot;, &quot;value&quot;: 0.5 &#125; ], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Missing DNS Responses&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;reqps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 75 &#125;, &quot;id&quot;: 40, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_dns_response_types_total[1m])) by (pod, type)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;type&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;DNS Response Record Type&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 1, &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 75 &#125;, &quot;id&quot;: 57, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_dns_responses_total&#123;rcode=\\&quot;No Error\\&quot;&#125;[1m])) by (pod,ips_returned)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;ips_returned&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;DNS Response IPs Returned&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 1, &quot;format&quot;: &quot;reqps&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 80 &#125;, &quot;id&quot;: 28, &quot;legend&quot;: &#123; &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;show&quot;: true, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;sum(rate(hubble_dns_responses_total&#123;rcode!=\\&quot;No Error\\&quot;&#125;[1m])) by (pod, qtypes, rcode)&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;rcode&#125;&#125; (&#123;&#123;qtypes&#125;&#125;)&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;DNS Errors&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 4, &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 80 &#125;, &quot;id&quot;: 56, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: false, &quot;avg&quot;: false, &quot;current&quot;: false, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: false, &quot;show&quot;: true, &quot;sideWidth&quot;: null, &quot;total&quot;: false, &quot;values&quot;: false &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;topk(10,sum(rate(hubble_dns_responses_total&#123;rcode!=\\&quot;No Error\\&quot;&#125;[1m])) by (pod, destination))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;destination&#125;&#125;&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Pods with DNS errors&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 0, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;decimals&quot;: 4, &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125;, &#123; &quot;aliasColors&quot;: &#123;&#125;, &quot;bars&quot;: false, &quot;dashLength&quot;: 10, &quot;dashes&quot;: false, &quot;datasource&quot;: &quot;Cilium-Prometheus&quot;, &quot;fill&quot;: 1, &quot;gridPos&quot;: &#123; &quot;h&quot;: 6, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 85 &#125;, &quot;id&quot;: 20, &quot;legend&quot;: &#123; &quot;alignAsTable&quot;: true, &quot;avg&quot;: false, &quot;current&quot;: true, &quot;max&quot;: false, &quot;min&quot;: false, &quot;rightSide&quot;: true, &quot;show&quot;: true, &quot;sort&quot;: &quot;current&quot;, &quot;sortDesc&quot;: true, &quot;total&quot;: false, &quot;values&quot;: true &#125;, &quot;lines&quot;: true, &quot;linewidth&quot;: 1, &quot;links&quot;: [], &quot;nullPointMode&quot;: &quot;null&quot;, &quot;options&quot;: &#123;&#125;, &quot;percentage&quot;: false, &quot;pointradius&quot;: 2, &quot;points&quot;: false, &quot;renderer&quot;: &quot;flot&quot;, &quot;seriesOverrides&quot;: [], &quot;spaceLength&quot;: 10, &quot;stack&quot;: false, &quot;steppedLine&quot;: false, &quot;targets&quot;: [ &#123; &quot;expr&quot;: &quot;topk(10, sum(rate(hubble_dns_queries_total[10m])*60) by (query, qtypes))&quot;, &quot;format&quot;: &quot;time_series&quot;, &quot;intervalFactor&quot;: 1, &quot;legendFormat&quot;: &quot;&#123;&#123;query&#125;&#125; (&#123;&#123;qtypes&#125;&#125;)&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;thresholds&quot;: [], &quot;timeFrom&quot;: null, &quot;timeRegions&quot;: [], &quot;timeShift&quot;: null, &quot;title&quot;: &quot;Top 10 DNS Queries per minute&quot;, &quot;tooltip&quot;: &#123; &quot;shared&quot;: true, &quot;sort&quot;: 2, &quot;value_type&quot;: &quot;individual&quot; &#125;, &quot;type&quot;: &quot;graph&quot;, &quot;xaxis&quot;: &#123; &quot;buckets&quot;: null, &quot;mode&quot;: &quot;time&quot;, &quot;name&quot;: null, &quot;show&quot;: true, &quot;values&quot;: [] &#125;, &quot;yaxes&quot;: [ &#123; &quot;format&quot;: &quot;none&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125;, &#123; &quot;format&quot;: &quot;short&quot;, &quot;label&quot;: null, &quot;logBase&quot;: 1, &quot;max&quot;: null, &quot;min&quot;: null, &quot;show&quot;: true &#125; ], &quot;yaxis&quot;: &#123; &quot;align&quot;: false, &quot;alignLevel&quot;: null &#125; &#125; ], &quot;refresh&quot;: &quot;30s&quot;, &quot;schemaVersion&quot;: 18, &quot;style&quot;: &quot;dark&quot;, &quot;tags&quot;: [], &quot;templating&quot;: &#123; &quot;list&quot;: [] &#125;, &quot;time&quot;: &#123; &quot;from&quot;: &quot;now-6h&quot;, &quot;to&quot;: &quot;now&quot; &#125;, &quot;timepicker&quot;: &#123; &quot;refresh_intervals&quot;: [ &quot;5s&quot;, &quot;10s&quot;, &quot;30s&quot;, &quot;1m&quot;, &quot;5m&quot;, &quot;15m&quot;, &quot;30m&quot;, &quot;1h&quot;, &quot;2h&quot;, &quot;1d&quot; ], &quot;time_options&quot;: [ &quot;5m&quot;, &quot;15m&quot;, &quot;1h&quot;, &quot;6h&quot;, &quot;12h&quot;, &quot;24h&quot;, &quot;2d&quot;, &quot;7d&quot;, &quot;30d&quot; ] &#125;, &quot;timezone&quot;: &quot;&quot;, &quot;title&quot;: &quot;Hubble Metrics&quot;, &quot;uid&quot;: &quot;5HftnJAWz&quot;, &quot;version&quot;: 24&#125; Hubble L7 HTTP Metrics by Workload 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867868869870871872873874875876877878879880881882883884885886887888889890891892893894895896897898899900901902903904905906907908909910911912913914915916917918919920921922923924925926927928929930931932933934935936937938939940941942943944945946947948949950951952953954955956957958959960961962963964965966967968969970971972973974975976977978979980981982983984985986987988989990991992993994995996997998999100010011002100310041005100610071008100910101011101210131014101510161017101810191020102110221023102410251026102710281029103010311032103310341035103610371038103910401041104210431044104510461047104810491050105110521053105410551056105710581059106010611062106310641065106610671068106910701071107210731074107510761077107810791080108110821083108410851086108710881089109010911092109310941095109610971098109911001101110211031104110511061107110811091110111111121113111411151116111711181119112011211122112311241125112611271128112911301131113211331134113511361137113811391140114111421143114411451146114711481149115011511152115311541155115611571158115911601161116211631164116511661167116811691170&#123; &quot;__inputs&quot;: [], &quot;__elements&quot;: &#123;&#125;, &quot;__requires&quot;: [ &#123; &quot;type&quot;: &quot;grafana&quot;, &quot;id&quot;: &quot;grafana&quot;, &quot;name&quot;: &quot;Grafana&quot;, &quot;version&quot;: &quot;9.0.5&quot; &#125;, &#123; &quot;type&quot;: &quot;datasource&quot;, &quot;id&quot;: &quot;prometheus&quot;, &quot;name&quot;: &quot;Prometheus&quot;, &quot;version&quot;: &quot;1.0.0&quot; &#125;, &#123; &quot;type&quot;: &quot;panel&quot;, &quot;id&quot;: &quot;stat&quot;, &quot;name&quot;: &quot;Stat&quot;, &quot;version&quot;: &quot;&quot; &#125;, &#123; &quot;type&quot;: &quot;panel&quot;, &quot;id&quot;: &quot;timeseries&quot;, &quot;name&quot;: &quot;Time series&quot;, &quot;version&quot;: &quot;&quot; &#125; ], &quot;annotations&quot;: &#123; &quot;list&quot;: [ &#123; &quot;builtIn&quot;: 1, &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;grafana&quot;, &quot;uid&quot;: &quot;-- Grafana --&quot; &#125;, &quot;enable&quot;: true, &quot;hide&quot;: true, &quot;iconColor&quot;: &quot;rgba(0, 211, 255, 1)&quot;, &quot;name&quot;: &quot;Annotations &amp; Alerts&quot;, &quot;target&quot;: &#123; &quot;limit&quot;: 100, &quot;matchAny&quot;: false, &quot;tags&quot;: [], &quot;type&quot;: &quot;dashboard&quot; &#125;, &quot;type&quot;: &quot;dashboard&quot; &#125; ] &#125;, &quot;editable&quot;: true, &quot;fiscalYearStartMonth&quot;: 0, &quot;graphTooltip&quot;: 1, &quot;id&quot;: null, &quot;links&quot;: [], &quot;liveNow&quot;: false, &quot;panels&quot;: [ &#123; &quot;collapsed&quot;: false, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 0 &#125;, &quot;id&quot;: 14, &quot;panels&quot;: [], &quot;title&quot;: &quot;General&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;Cilium-Prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;color&quot;: &#123; &quot;mode&quot;: &quot;thresholds&quot; &#125;, &quot;mappings&quot;: [], &quot;thresholds&quot;: &#123; &quot;mode&quot;: &quot;absolute&quot;, &quot;steps&quot;: [ &#123; &quot;color&quot;: &quot;green&quot;, &quot;value&quot;: null &#125;, &#123; &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 80 &#125; ] &#125;, &quot;unit&quot;: &quot;reqps&quot; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 8, &quot;x&quot;: 0, &quot;y&quot;: 1 &#125;, &quot;id&quot;: 16, &quot;options&quot;: &#123; &quot;colorMode&quot;: &quot;value&quot;, &quot;graphMode&quot;: &quot;area&quot;, &quot;justifyMode&quot;: &quot;auto&quot;, &quot;orientation&quot;: &quot;auto&quot;, &quot;reduceOptions&quot;: &#123; &quot;calcs&quot;: [ &quot;lastNotNull&quot; ], &quot;fields&quot;: &quot;&quot;, &quot;values&quot;: false &#125;, &quot;textMode&quot;: &quot;auto&quot; &#125;, &quot;pluginVersion&quot;: &quot;9.0.5&quot;, &quot;targets&quot;: [ &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;expr&quot;: &quot;round(sum(rate(hubble_http_requests_total&#123;reporter=~\\&quot;$&#123;reporter&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;&#125;[$__rate_interval])), 0.001)&quot;, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;title&quot;: &quot;Incoming Request Volume&quot;, &quot;type&quot;: &quot;stat&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;Cilium-Prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;color&quot;: &#123; &quot;mode&quot;: &quot;thresholds&quot; &#125;, &quot;mappings&quot;: [], &quot;min&quot;: 0, &quot;thresholds&quot;: &#123; &quot;mode&quot;: &quot;absolute&quot;, &quot;steps&quot;: [ &#123; &quot;color&quot;: &quot;green&quot;, &quot;value&quot;: null &#125;, &#123; &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 80 &#125; ] &#125;, &quot;unit&quot;: &quot;percentunit&quot; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 8, &quot;x&quot;: 8, &quot;y&quot;: 1 &#125;, &quot;id&quot;: 17, &quot;options&quot;: &#123; &quot;colorMode&quot;: &quot;value&quot;, &quot;graphMode&quot;: &quot;area&quot;, &quot;justifyMode&quot;: &quot;auto&quot;, &quot;orientation&quot;: &quot;auto&quot;, &quot;reduceOptions&quot;: &#123; &quot;calcs&quot;: [ &quot;lastNotNull&quot; ], &quot;fields&quot;: &quot;&quot;, &quot;values&quot;: false &#125;, &quot;textMode&quot;: &quot;auto&quot; &#125;, &quot;pluginVersion&quot;: &quot;9.0.5&quot;, &quot;targets&quot;: [ &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: false, &quot;expr&quot;: &quot;sum(rate(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, status!~\\&quot;5.*\\&quot;&#125;[$__rate_interval]))\\n/\\nsum(rate(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;&#125;[$__rate_interval]))&quot;, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; method &#125;&#125; &#123;&#123; source_namespace &#125;&#125;/&#123;&#123; source_workload &#125;&#125;&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;title&quot;: &quot;Incoming Request Success Rate (non-5xx responses)&quot;, &quot;type&quot;: &quot;stat&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;Cilium-Prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;color&quot;: &#123; &quot;mode&quot;: &quot;palette-classic&quot; &#125;, &quot;custom&quot;: &#123; &quot;axisLabel&quot;: &quot;&quot;, &quot;axisPlacement&quot;: &quot;auto&quot;, &quot;barAlignment&quot;: 0, &quot;drawStyle&quot;: &quot;line&quot;, &quot;fillOpacity&quot;: 0, &quot;gradientMode&quot;: &quot;none&quot;, &quot;hideFrom&quot;: &#123; &quot;legend&quot;: false, &quot;tooltip&quot;: false, &quot;viz&quot;: false &#125;, &quot;lineInterpolation&quot;: &quot;linear&quot;, &quot;lineWidth&quot;: 1, &quot;pointSize&quot;: 5, &quot;scaleDistribution&quot;: &#123; &quot;type&quot;: &quot;linear&quot; &#125;, &quot;showPoints&quot;: &quot;auto&quot;, &quot;spanNulls&quot;: false, &quot;stacking&quot;: &#123; &quot;group&quot;: &quot;A&quot;, &quot;mode&quot;: &quot;none&quot; &#125;, &quot;thresholdsStyle&quot;: &#123; &quot;mode&quot;: &quot;off&quot; &#125; &#125;, &quot;mappings&quot;: [], &quot;min&quot;: 0, &quot;thresholds&quot;: &#123; &quot;mode&quot;: &quot;absolute&quot;, &quot;steps&quot;: [ &#123; &quot;color&quot;: &quot;green&quot;, &quot;value&quot;: null &#125;, &#123; &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 80 &#125; ] &#125;, &quot;unit&quot;: &quot;s&quot; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 5, &quot;w&quot;: 8, &quot;x&quot;: 16, &quot;y&quot;: 1 &#125;, &quot;id&quot;: 18, &quot;options&quot;: &#123; &quot;legend&quot;: &#123; &quot;calcs&quot;: [ &quot;lastNotNull&quot; ], &quot;displayMode&quot;: &quot;list&quot;, &quot;placement&quot;: &quot;bottom&quot; &#125;, &quot;tooltip&quot;: &#123; &quot;mode&quot;: &quot;single&quot;, &quot;sort&quot;: &quot;none&quot; &#125; &#125;, &quot;pluginVersion&quot;: &quot;9.0.5&quot;, &quot;targets&quot;: [ &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: false, &quot;expr&quot;: &quot;histogram_quantile(0.50, sum(rate(hubble_http_request_duration_seconds_bucket&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;&#125;[$__rate_interval])) by (le))&quot;, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;P50&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: false, &quot;expr&quot;: &quot;histogram_quantile(0.95, sum(rate(hubble_http_request_duration_seconds_bucket&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;&#125;[$__rate_interval])) by (le))&quot;, &quot;hide&quot;: false, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;P95&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: false, &quot;expr&quot;: &quot;histogram_quantile(0.99, sum(rate(hubble_http_request_duration_seconds_bucket&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;&#125;[$__rate_interval])) by (le))&quot;, &quot;hide&quot;: false, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;P99&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;title&quot;: &quot;Request Duration&quot;, &quot;type&quot;: &quot;timeseries&quot; &#125;, &#123; &quot;collapsed&quot;: false, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 6 &#125;, &quot;id&quot;: 6, &quot;panels&quot;: [], &quot;title&quot;: &quot;Requests by Source&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;Cilium-Prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;color&quot;: &#123; &quot;mode&quot;: &quot;palette-classic&quot; &#125;, &quot;custom&quot;: &#123; &quot;axisLabel&quot;: &quot;&quot;, &quot;axisPlacement&quot;: &quot;auto&quot;, &quot;barAlignment&quot;: 0, &quot;drawStyle&quot;: &quot;line&quot;, &quot;fillOpacity&quot;: 0, &quot;gradientMode&quot;: &quot;none&quot;, &quot;hideFrom&quot;: &#123; &quot;legend&quot;: false, &quot;tooltip&quot;: false, &quot;viz&quot;: false &#125;, &quot;lineInterpolation&quot;: &quot;linear&quot;, &quot;lineWidth&quot;: 1, &quot;pointSize&quot;: 5, &quot;scaleDistribution&quot;: &#123; &quot;type&quot;: &quot;linear&quot; &#125;, &quot;showPoints&quot;: &quot;auto&quot;, &quot;spanNulls&quot;: false, &quot;stacking&quot;: &#123; &quot;group&quot;: &quot;A&quot;, &quot;mode&quot;: &quot;none&quot; &#125;, &quot;thresholdsStyle&quot;: &#123; &quot;mode&quot;: &quot;off&quot; &#125; &#125;, &quot;mappings&quot;: [], &quot;min&quot;: 0, &quot;thresholds&quot;: &#123; &quot;mode&quot;: &quot;absolute&quot;, &quot;steps&quot;: [ &#123; &quot;color&quot;: &quot;green&quot;, &quot;value&quot;: null &#125;, &#123; &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 80 &#125; ] &#125;, &quot;unit&quot;: &quot;reqps&quot; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 10, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 7 &#125;, &quot;id&quot;: 3, &quot;options&quot;: &#123; &quot;legend&quot;: &#123; &quot;calcs&quot;: [ &quot;max&quot;, &quot;mean&quot;, &quot;sum&quot;, &quot;lastNotNull&quot; ], &quot;displayMode&quot;: &quot;table&quot;, &quot;placement&quot;: &quot;bottom&quot; &#125;, &quot;tooltip&quot;: &#123; &quot;mode&quot;: &quot;single&quot;, &quot;sort&quot;: &quot;none&quot; &#125; &#125;, &quot;targets&quot;: [ &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: false, &quot;expr&quot;: &quot;round(sum(rate(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, source_namespace, source_workload, status), 0.001)&quot;, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; method &#125;&#125; &#123;&#123; source_namespace &#125;&#125;/&#123;&#123; source_workload &#125;&#125;: &#123;&#123; status &#125;&#125;&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;title&quot;: &quot;Incoming Requests by Source and Response Code&quot;, &quot;type&quot;: &quot;timeseries&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;Cilium-Prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;color&quot;: &#123; &quot;mode&quot;: &quot;palette-classic&quot; &#125;, &quot;custom&quot;: &#123; &quot;axisLabel&quot;: &quot;&quot;, &quot;axisPlacement&quot;: &quot;auto&quot;, &quot;barAlignment&quot;: 0, &quot;drawStyle&quot;: &quot;line&quot;, &quot;fillOpacity&quot;: 0, &quot;gradientMode&quot;: &quot;none&quot;, &quot;hideFrom&quot;: &#123; &quot;legend&quot;: false, &quot;tooltip&quot;: false, &quot;viz&quot;: false &#125;, &quot;lineInterpolation&quot;: &quot;linear&quot;, &quot;lineWidth&quot;: 1, &quot;pointSize&quot;: 5, &quot;scaleDistribution&quot;: &#123; &quot;type&quot;: &quot;linear&quot; &#125;, &quot;showPoints&quot;: &quot;auto&quot;, &quot;spanNulls&quot;: false, &quot;stacking&quot;: &#123; &quot;group&quot;: &quot;A&quot;, &quot;mode&quot;: &quot;none&quot; &#125;, &quot;thresholdsStyle&quot;: &#123; &quot;mode&quot;: &quot;off&quot; &#125; &#125;, &quot;mappings&quot;: [], &quot;min&quot;: 0, &quot;thresholds&quot;: &#123; &quot;mode&quot;: &quot;absolute&quot;, &quot;steps&quot;: [ &#123; &quot;color&quot;: &quot;green&quot;, &quot;value&quot;: null &#125;, &#123; &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 80 &#125; ] &#125;, &quot;unit&quot;: &quot;percentunit&quot; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 10, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 7 &#125;, &quot;id&quot;: 7, &quot;options&quot;: &#123; &quot;legend&quot;: &#123; &quot;calcs&quot;: [ &quot;mean&quot;, &quot;min&quot;, &quot;max&quot;, &quot;lastNotNull&quot; ], &quot;displayMode&quot;: &quot;table&quot;, &quot;placement&quot;: &quot;bottom&quot; &#125;, &quot;tooltip&quot;: &#123; &quot;mode&quot;: &quot;single&quot;, &quot;sort&quot;: &quot;none&quot; &#125; &#125;, &quot;targets&quot;: [ &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: false, &quot;expr&quot;: &quot;sum(rate(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;,status!~\\&quot;5.*\\&quot;&#125;[$__rate_interval])) by (cluster, source_namespace, source_workload)\\n/\\nsum(rate(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, source_namespace, source_workload)&quot;, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; method &#125;&#125; &#123;&#123; source_namespace &#125;&#125;/&#123;&#123; source_workload &#125;&#125;&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;title&quot;: &quot;Incoming Request Success Rate (non-5xx responses) By Source&quot;, &quot;type&quot;: &quot;timeseries&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;Cilium-Prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;color&quot;: &#123; &quot;mode&quot;: &quot;palette-classic&quot; &#125;, &quot;custom&quot;: &#123; &quot;axisLabel&quot;: &quot;&quot;, &quot;axisPlacement&quot;: &quot;auto&quot;, &quot;barAlignment&quot;: 0, &quot;drawStyle&quot;: &quot;line&quot;, &quot;fillOpacity&quot;: 0, &quot;gradientMode&quot;: &quot;none&quot;, &quot;hideFrom&quot;: &#123; &quot;legend&quot;: false, &quot;tooltip&quot;: false, &quot;viz&quot;: false &#125;, &quot;lineInterpolation&quot;: &quot;linear&quot;, &quot;lineWidth&quot;: 1, &quot;pointSize&quot;: 5, &quot;scaleDistribution&quot;: &#123; &quot;type&quot;: &quot;linear&quot; &#125;, &quot;showPoints&quot;: &quot;auto&quot;, &quot;spanNulls&quot;: false, &quot;stacking&quot;: &#123; &quot;group&quot;: &quot;A&quot;, &quot;mode&quot;: &quot;none&quot; &#125;, &quot;thresholdsStyle&quot;: &#123; &quot;mode&quot;: &quot;off&quot; &#125; &#125;, &quot;mappings&quot;: [], &quot;min&quot;: 0, &quot;thresholds&quot;: &#123; &quot;mode&quot;: &quot;absolute&quot;, &quot;steps&quot;: [ &#123; &quot;color&quot;: &quot;green&quot;, &quot;value&quot;: null &#125;, &#123; &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 80 &#125; ] &#125;, &quot;unit&quot;: &quot;s&quot; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 10, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 17 &#125;, &quot;id&quot;: 4, &quot;options&quot;: &#123; &quot;legend&quot;: &#123; &quot;calcs&quot;: [ &quot;min&quot;, &quot;max&quot;, &quot;mean&quot;, &quot;lastNotNull&quot; ], &quot;displayMode&quot;: &quot;table&quot;, &quot;placement&quot;: &quot;bottom&quot; &#125;, &quot;tooltip&quot;: &#123; &quot;mode&quot;: &quot;single&quot;, &quot;sort&quot;: &quot;none&quot; &#125; &#125;, &quot;targets&quot;: [ &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: true, &quot;expr&quot;: &quot;histogram_quantile(0.50, sum(rate(hubble_http_request_duration_seconds_bucket&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, source_namespace, source_workload, le))&quot;, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; source_namespace &#125;&#125;/&#123;&#123; source_workload &#125;&#125; P50&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: true, &quot;expr&quot;: &quot;histogram_quantile(0.95, sum(rate(hubble_http_request_duration_seconds_bucket&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, source_namespace, source_workload, le))&quot;, &quot;hide&quot;: false, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; source_namespace &#125;&#125;/&#123;&#123; source_workload &#125;&#125; P95&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: true, &quot;expr&quot;: &quot;histogram_quantile(0.99, sum(rate(hubble_http_request_duration_seconds_bucket&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, source_namespace, source_workload, le))&quot;, &quot;hide&quot;: false, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; source_namespace &#125;&#125;/&#123;&#123; source_workload &#125;&#125; P99&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;title&quot;: &quot;HTTP Request Duration by Source&quot;, &quot;type&quot;: &quot;timeseries&quot; &#125;, &#123; &quot;collapsed&quot;: false, &quot;gridPos&quot;: &#123; &quot;h&quot;: 1, &quot;w&quot;: 24, &quot;x&quot;: 0, &quot;y&quot;: 27 &#125;, &quot;id&quot;: 9, &quot;panels&quot;: [], &quot;title&quot;: &quot;Requests by Destination&quot;, &quot;type&quot;: &quot;row&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;Cilium-Prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;color&quot;: &#123; &quot;mode&quot;: &quot;palette-classic&quot; &#125;, &quot;custom&quot;: &#123; &quot;axisLabel&quot;: &quot;&quot;, &quot;axisPlacement&quot;: &quot;auto&quot;, &quot;barAlignment&quot;: 0, &quot;drawStyle&quot;: &quot;line&quot;, &quot;fillOpacity&quot;: 0, &quot;gradientMode&quot;: &quot;none&quot;, &quot;hideFrom&quot;: &#123; &quot;legend&quot;: false, &quot;tooltip&quot;: false, &quot;viz&quot;: false &#125;, &quot;lineInterpolation&quot;: &quot;linear&quot;, &quot;lineWidth&quot;: 1, &quot;pointSize&quot;: 5, &quot;scaleDistribution&quot;: &#123; &quot;type&quot;: &quot;linear&quot; &#125;, &quot;showPoints&quot;: &quot;auto&quot;, &quot;spanNulls&quot;: false, &quot;stacking&quot;: &#123; &quot;group&quot;: &quot;A&quot;, &quot;mode&quot;: &quot;none&quot; &#125;, &quot;thresholdsStyle&quot;: &#123; &quot;mode&quot;: &quot;off&quot; &#125; &#125;, &quot;mappings&quot;: [], &quot;min&quot;: 0, &quot;thresholds&quot;: &#123; &quot;mode&quot;: &quot;absolute&quot;, &quot;steps&quot;: [ &#123; &quot;color&quot;: &quot;green&quot;, &quot;value&quot;: null &#125;, &#123; &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 80 &#125; ] &#125;, &quot;unit&quot;: &quot;reqps&quot; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 10, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 28 &#125;, &quot;id&quot;: 10, &quot;options&quot;: &#123; &quot;legend&quot;: &#123; &quot;calcs&quot;: [ &quot;max&quot;, &quot;mean&quot;, &quot;sum&quot;, &quot;lastNotNull&quot; ], &quot;displayMode&quot;: &quot;table&quot;, &quot;placement&quot;: &quot;bottom&quot; &#125;, &quot;tooltip&quot;: &#123; &quot;mode&quot;: &quot;single&quot;, &quot;sort&quot;: &quot;none&quot; &#125; &#125;, &quot;targets&quot;: [ &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: false, &quot;expr&quot;: &quot;round(sum(rate(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, destination_namespace, destination_workload, status), 0.001)&quot;, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; method &#125;&#125; &#123;&#123; destination_namespace &#125;&#125;/&#123;&#123; destination_workload &#125;&#125;: &#123;&#123; status &#125;&#125;&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;title&quot;: &quot;Incoming Requests by Destination and Response Code&quot;, &quot;type&quot;: &quot;timeseries&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;Cilium-Prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;color&quot;: &#123; &quot;mode&quot;: &quot;palette-classic&quot; &#125;, &quot;custom&quot;: &#123; &quot;axisLabel&quot;: &quot;&quot;, &quot;axisPlacement&quot;: &quot;auto&quot;, &quot;barAlignment&quot;: 0, &quot;drawStyle&quot;: &quot;line&quot;, &quot;fillOpacity&quot;: 0, &quot;gradientMode&quot;: &quot;none&quot;, &quot;hideFrom&quot;: &#123; &quot;legend&quot;: false, &quot;tooltip&quot;: false, &quot;viz&quot;: false &#125;, &quot;lineInterpolation&quot;: &quot;linear&quot;, &quot;lineWidth&quot;: 1, &quot;pointSize&quot;: 5, &quot;scaleDistribution&quot;: &#123; &quot;type&quot;: &quot;linear&quot; &#125;, &quot;showPoints&quot;: &quot;auto&quot;, &quot;spanNulls&quot;: false, &quot;stacking&quot;: &#123; &quot;group&quot;: &quot;A&quot;, &quot;mode&quot;: &quot;none&quot; &#125;, &quot;thresholdsStyle&quot;: &#123; &quot;mode&quot;: &quot;off&quot; &#125; &#125;, &quot;mappings&quot;: [], &quot;min&quot;: 0, &quot;thresholds&quot;: &#123; &quot;mode&quot;: &quot;absolute&quot;, &quot;steps&quot;: [ &#123; &quot;color&quot;: &quot;green&quot;, &quot;value&quot;: null &#125;, &#123; &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 80 &#125; ] &#125;, &quot;unit&quot;: &quot;percentunit&quot; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 10, &quot;w&quot;: 12, &quot;x&quot;: 12, &quot;y&quot;: 28 &#125;, &quot;id&quot;: 11, &quot;options&quot;: &#123; &quot;legend&quot;: &#123; &quot;calcs&quot;: [ &quot;mean&quot;, &quot;min&quot;, &quot;max&quot;, &quot;lastNotNull&quot; ], &quot;displayMode&quot;: &quot;table&quot;, &quot;placement&quot;: &quot;bottom&quot; &#125;, &quot;tooltip&quot;: &#123; &quot;mode&quot;: &quot;single&quot;, &quot;sort&quot;: &quot;none&quot; &#125; &#125;, &quot;targets&quot;: [ &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: false, &quot;expr&quot;: &quot;sum(rate(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;,status!~\\&quot;5.*\\&quot;&#125;[$__rate_interval])) by (cluster, destination_namespace, destination_workload)\\n/\\nsum(rate(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, destination_namespace, destination_workload)&quot;, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; method &#125;&#125; &#123;&#123; destination_namespace &#125;&#125;/&#123;&#123; destination_workload &#125;&#125;&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;A&quot; &#125; ], &quot;title&quot;: &quot;Incoming Request Success Rate (non-5xx responses) By Destination&quot;, &quot;type&quot;: &quot;timeseries&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;Cilium-Prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;fieldConfig&quot;: &#123; &quot;defaults&quot;: &#123; &quot;color&quot;: &#123; &quot;mode&quot;: &quot;palette-classic&quot; &#125;, &quot;custom&quot;: &#123; &quot;axisLabel&quot;: &quot;&quot;, &quot;axisPlacement&quot;: &quot;auto&quot;, &quot;barAlignment&quot;: 0, &quot;drawStyle&quot;: &quot;line&quot;, &quot;fillOpacity&quot;: 0, &quot;gradientMode&quot;: &quot;none&quot;, &quot;hideFrom&quot;: &#123; &quot;legend&quot;: false, &quot;tooltip&quot;: false, &quot;viz&quot;: false &#125;, &quot;lineInterpolation&quot;: &quot;linear&quot;, &quot;lineWidth&quot;: 1, &quot;pointSize&quot;: 5, &quot;scaleDistribution&quot;: &#123; &quot;type&quot;: &quot;linear&quot; &#125;, &quot;showPoints&quot;: &quot;auto&quot;, &quot;spanNulls&quot;: false, &quot;stacking&quot;: &#123; &quot;group&quot;: &quot;A&quot;, &quot;mode&quot;: &quot;none&quot; &#125;, &quot;thresholdsStyle&quot;: &#123; &quot;mode&quot;: &quot;off&quot; &#125; &#125;, &quot;mappings&quot;: [], &quot;min&quot;: 0, &quot;thresholds&quot;: &#123; &quot;mode&quot;: &quot;absolute&quot;, &quot;steps&quot;: [ &#123; &quot;color&quot;: &quot;green&quot; &#125;, &#123; &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 80 &#125; ] &#125;, &quot;unit&quot;: &quot;s&quot; &#125;, &quot;overrides&quot;: [] &#125;, &quot;gridPos&quot;: &#123; &quot;h&quot;: 10, &quot;w&quot;: 12, &quot;x&quot;: 0, &quot;y&quot;: 38 &#125;, &quot;id&quot;: 12, &quot;options&quot;: &#123; &quot;legend&quot;: &#123; &quot;calcs&quot;: [ &quot;min&quot;, &quot;max&quot;, &quot;mean&quot;, &quot;lastNotNull&quot; ], &quot;displayMode&quot;: &quot;table&quot;, &quot;placement&quot;: &quot;bottom&quot; &#125;, &quot;tooltip&quot;: &#123; &quot;mode&quot;: &quot;single&quot;, &quot;sort&quot;: &quot;none&quot; &#125; &#125;, &quot;targets&quot;: [ &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: true, &quot;expr&quot;: &quot;histogram_quantile(0.50, sum(rate(hubble_http_request_duration_seconds_bucket&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, destination_namespace, destination_workload, le))&quot;, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; destination_namespace &#125;&#125;/&#123;&#123; destination_workload &#125;&#125; P50&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;A&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: true, &quot;expr&quot;: &quot;histogram_quantile(0.95, sum(rate(hubble_http_request_duration_seconds_bucket&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, destination_namespace, destination_workload, le))&quot;, &quot;hide&quot;: false, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; destination_namespace &#125;&#125;/&#123;&#123; destination_workload &#125;&#125; P95&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;B&quot; &#125;, &#123; &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;editorMode&quot;: &quot;code&quot;, &quot;exemplar&quot;: true, &quot;expr&quot;: &quot;histogram_quantile(0.99, sum(rate(hubble_http_request_duration_seconds_bucket&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, reporter=\\&quot;$&#123;reporter&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;, source_workload=~\\&quot;$&#123;source_workload&#125;\\&quot;&#125;[$__rate_interval])) by (cluster, destination_namespace, destination_workload, le))&quot;, &quot;hide&quot;: false, &quot;interval&quot;: &quot;&quot;, &quot;legendFormat&quot;: &quot;&#123;&#123; cluster &#125;&#125; &#123;&#123; destination_namespace &#125;&#125;/&#123;&#123; destination_workload &#125;&#125; P99&quot;, &quot;range&quot;: true, &quot;refId&quot;: &quot;C&quot; &#125; ], &quot;title&quot;: &quot;HTTP Request Duration by Destination&quot;, &quot;type&quot;: &quot;timeseries&quot; &#125; ], &quot;refresh&quot;: &quot;30s&quot;, &quot;schemaVersion&quot;: 36, &quot;style&quot;: &quot;dark&quot;, &quot;tags&quot;: [], &quot;templating&quot;: &#123; &quot;list&quot;: [ &#123; &quot;current&quot;: &#123;&#125;, &quot;hide&quot;: 0, &quot;includeAll&quot;: false, &quot;label&quot;: &quot;Prometheus&quot;, &quot;multi&quot;: false, &quot;name&quot;: &quot;DS_PROMETHEUS&quot;, &quot;options&quot;: [], &quot;query&quot;: &quot;prometheus&quot;, &quot;queryValue&quot;: &quot;&quot;, &quot;refresh&quot;: 1, &quot;regex&quot;: &quot;&quot;, &quot;skipUrlSync&quot;: false, &quot;type&quot;: &quot;datasource&quot; &#125;, &#123; &quot;current&quot;: &#123;&#125;, &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;definition&quot;: &quot;label_values(hubble_http_requests_total, cluster)&quot;, &quot;hide&quot;: 0, &quot;includeAll&quot;: false, &quot;label&quot;: &quot;Cluster&quot;, &quot;multi&quot;: false, &quot;name&quot;: &quot;cluster&quot;, &quot;options&quot;: [], &quot;query&quot;: &#123; &quot;query&quot;: &quot;label_values(hubble_http_requests_total, cluster)&quot;, &quot;refId&quot;: &quot;StandardVariableQuery&quot; &#125;, &quot;refresh&quot;: 1, &quot;regex&quot;: &quot;&quot;, &quot;skipUrlSync&quot;: false, &quot;sort&quot;: 2, &quot;type&quot;: &quot;query&quot; &#125;, &#123; &quot;current&quot;: &#123;&#125;, &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;definition&quot;: &quot;label_values(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;&#125;, destination_namespace)&quot;, &quot;description&quot;: &quot;&quot;, &quot;hide&quot;: 0, &quot;includeAll&quot;: false, &quot;label&quot;: &quot;Destination Namespace&quot;, &quot;multi&quot;: false, &quot;name&quot;: &quot;destination_namespace&quot;, &quot;options&quot;: [], &quot;query&quot;: &#123; &quot;query&quot;: &quot;label_values(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;&#125;, destination_namespace)&quot;, &quot;refId&quot;: &quot;StandardVariableQuery&quot; &#125;, &quot;refresh&quot;: 2, &quot;regex&quot;: &quot;&quot;, &quot;skipUrlSync&quot;: false, &quot;sort&quot;: 2, &quot;type&quot;: &quot;query&quot; &#125;, &#123; &quot;current&quot;: &#123;&#125;, &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;definition&quot;: &quot;label_values(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;&#125;, destination_workload)&quot;, &quot;hide&quot;: 0, &quot;includeAll&quot;: false, &quot;label&quot;: &quot;Destination Workload&quot;, &quot;multi&quot;: false, &quot;name&quot;: &quot;destination_workload&quot;, &quot;options&quot;: [], &quot;query&quot;: &#123; &quot;query&quot;: &quot;label_values(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;&#125;, destination_workload)&quot;, &quot;refId&quot;: &quot;StandardVariableQuery&quot; &#125;, &quot;refresh&quot;: 1, &quot;regex&quot;: &quot;&quot;, &quot;skipUrlSync&quot;: false, &quot;sort&quot;: 2, &quot;type&quot;: &quot;query&quot; &#125;, &#123; &quot;current&quot;: &#123;&#125;, &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;definition&quot;: &quot;label_values(hubble_http_requests_total, reporter)&quot;, &quot;hide&quot;: 0, &quot;includeAll&quot;: false, &quot;label&quot;: &quot;Reporter&quot;, &quot;multi&quot;: false, &quot;name&quot;: &quot;reporter&quot;, &quot;options&quot;: [], &quot;query&quot;: &#123; &quot;query&quot;: &quot;label_values(hubble_http_requests_total, reporter)&quot;, &quot;refId&quot;: &quot;StandardVariableQuery&quot; &#125;, &quot;refresh&quot;: 1, &quot;regex&quot;: &quot;&quot;, &quot;skipUrlSync&quot;: false, &quot;sort&quot;: 0, &quot;type&quot;: &quot;query&quot; &#125;, &#123; &quot;current&quot;: &#123;&#125;, &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;definition&quot;: &quot;label_values(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;&#125;, source_namespace)&quot;, &quot;hide&quot;: 0, &quot;includeAll&quot;: true, &quot;label&quot;: &quot;Source Namespace&quot;, &quot;multi&quot;: true, &quot;name&quot;: &quot;source_namespace&quot;, &quot;options&quot;: [], &quot;query&quot;: &#123; &quot;query&quot;: &quot;label_values(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;&#125;, source_namespace)&quot;, &quot;refId&quot;: &quot;StandardVariableQuery&quot; &#125;, &quot;refresh&quot;: 1, &quot;regex&quot;: &quot;&quot;, &quot;skipUrlSync&quot;: false, &quot;sort&quot;: 0, &quot;type&quot;: &quot;query&quot; &#125;, &#123; &quot;current&quot;: &#123;&#125;, &quot;datasource&quot;: &#123; &quot;type&quot;: &quot;prometheus&quot;, &quot;uid&quot;: &quot;$&#123;DS_PROMETHEUS&#125;&quot; &#125;, &quot;definition&quot;: &quot;label_values(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;&#125;, source_workload)&quot;, &quot;hide&quot;: 0, &quot;includeAll&quot;: true, &quot;label&quot;: &quot;Source Workload&quot;, &quot;multi&quot;: true, &quot;name&quot;: &quot;source_workload&quot;, &quot;options&quot;: [], &quot;query&quot;: &#123; &quot;query&quot;: &quot;label_values(hubble_http_requests_total&#123;cluster=~\\&quot;$&#123;cluster&#125;\\&quot;, destination_namespace=~\\&quot;$&#123;destination_namespace&#125;\\&quot;, destination_workload=~\\&quot;$&#123;destination_workload&#125;\\&quot;, source_namespace=~\\&quot;$&#123;source_namespace&#125;\\&quot;&#125;, source_workload)&quot;, &quot;refId&quot;: &quot;StandardVariableQuery&quot; &#125;, &quot;refresh&quot;: 1, &quot;regex&quot;: &quot;&quot;, &quot;skipUrlSync&quot;: false, &quot;sort&quot;: 0, &quot;type&quot;: &quot;query&quot; &#125; ] &#125;, &quot;time&quot;: &#123; &quot;from&quot;: &quot;now-6h&quot;, &quot;to&quot;: &quot;now&quot; &#125;, &quot;timepicker&quot;: &#123;&#125;, &quot;timezone&quot;: &quot;&quot;, &quot;title&quot;: &quot;Hubble L7 HTTP Metrics by Workload&quot;, &quot;uid&quot;: &quot;3g264CZVz&quot;, &quot;version&quot;: 2, &quot;weekStart&quot;: &quot;&quot;&#125; 然后就可以在Grafana里打开仪表盘看监控细节。","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/categories/kubernetes/"}],"tags":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/tags/kubernetes/"},{"name":"cilium","slug":"cilium","permalink":"https://www.mardan.wiki/tags/cilium/"}]},{"title":"制作nginx的rpm包","slug":"制作nginx的rpm包","date":"2023-02-23T14:02:54.000Z","updated":"2025-04-13T06:16:05.657Z","comments":true,"path":"website/2023/02/23/制作nginx的rpm包.html","permalink":"https://www.mardan.wiki/website/2023/02/23/%E5%88%B6%E4%BD%9Cnginx%E7%9A%84rpm%E5%8C%85.html","excerpt":"概览: 准备 依赖安装 工具包 源码及依赖 rpm打包配置 配置源码以及依赖 编写rpm打包配置 开始构建 enjoy","text":"概览: 准备 依赖安装 工具包 源码及依赖 rpm打包配置 配置源码以及依赖 编写rpm打包配置 开始构建 enjoy 准备 具体细节以及说明可以参考这位作者的How to Build Your Own Nginx RPM from Source 依赖安装 工具包 12yum install --enablerepo=epel yum-utils rpmdevtoolsyum groupinstall --enablerepo=epel &#x27;Development Tools&#x27; 源码及依赖 nginx 1wget http://nginx.org/download/nginx-1.23.3.tar.gz openssl 1wget https://www.openssl.org/source/openssl-3.0.8.tar.gz nginx-module-vts check latest version github.com/vozlt 12wget https://github.com/vozlt/nginx-module-vts/archive/refs/tags/v0.2.1.tar.gzmv v0.2.1.tar.gz nginx-module-vts-0.2.1.tar.gz 依赖 nginx zlib-devel pcre2-devel openssl perl-FindBin (or full install perl) rpm打包配置 配置源码以及依赖 vim ~/.rpmmacros,根据自己的需求可以修改第一行的topdir的值，指向你想要的工作目录，我设置的是家目录下的rpmbuild。 12345[root@workspace ~]# cat ~/.rpmmacros %_topdir %(echo $HOME)/rpmbuild%_smp_mflags -j2%__arch_install_post /usr/lib/rpm/check-rpaths /usr/lib/rpm/check-buildroot%_query_all_fmt %%&#123;name&#125;-%%&#123;version&#125;-%%&#123;release&#125;.%%&#123;arch&#125; 然后进入到工作目录并初始化工作空间,初始化后回生成一些目录。 12cd $(echo $HOME)/rpmbuildrpmdev-setuptree 生成的目录结构如下 123456-- rpmbuild |-- BUILD |-- RPMS |-- SOURCES |-- SPECS |-- SRPMS 现阶段，主要是SOURCES，现在讲上一章下载好的压缩包复制到该目录下。我还将我需要的有关nginx的systemctl配置文件和日志切割的配置也放进来了。 123456-- rpmbuild/SOURCES |-- nginx-1.23.3.tar.gz |-- openssl-3.0.8.tar.gz |-- nginx-module-vts-0.2.1.tar.gz |-- nginx.service |-- nginx.logrotate nginx.service 1234567891011121314151617[Unit]Description=The NGINX HTTP and reverse proxy serverAfter=syslog.target network-online.target remote-fs.target nss-lookup.targetWants=network-online.target[Service]Type=forkingPIDFile=/run/nginx.pidExecStartPre=/bin/mkdir -p /var/tmp/nginxExecStartPre=/usr/local/nginx/sbin/nginx -tExecStart=/usr/local/nginx/sbin/nginxExecReload=/usr/local/nginx/sbin/nginx -s reloadExecStop=/bin/kill -s QUIT $MAINPIDPrivateTmp=true[Install]WantedBy=multi-user.target nginx.logrotate 123456789101112/usr/local/nginx/logs/*.log &#123; daily rotate 180 missingok notifempty compress dateext sharedscripts postrotate [ ! -f /var/run/nginx.pid ] || /bin/kill -USR1 $(cat /var/run/nginx.pid) endscript&#125; 编写rpm打包配置 rpmbuild/SPECS/nginx.spec 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129%define nginx_user nginx%define nginx_group nginx%define nginx_home %&#123;_localstatedir&#125;/cache/nginx%define nginx_version 1.23.4%define openssl_version 3.0.8%define nginx_vts_version 0.2.1# distribution specific definitions%define use_systemd (0%&#123;?rhel&#125; &amp;&amp; 0%&#123;?rhel&#125; &gt;= 7)%if 0%&#123;?rhel&#125; == 7Group: System Environment/DaemonsRequires(pre): shadow-utilsRequires: systemdBuildRequires: systemdBuildRequires: perl, zlib-devel, pcre2-devel%define with_spdy 1%endifName: nginxVersion: %&#123;nginx_version&#125;Release: el9Summary: Nginx %&#123;nginx_version&#125; High performance web serverGroup: System Environment/DaemonsLicense: 2-clause BSD-like licenseSource0: nginx-%&#123;nginx_version&#125;.tar.gzSource1: openssl-%&#123;openssl_version&#125;.tar.gzSource2: nginx-module-vts-%&#123;nginx_vts_version&#125;.tar.gzSource3: nginx.confSource4: default.confSource5: nginx.serviceSource6: nginx.logrotateProvides: webserver%descriptionnginx [engine x] is an HTTP and reverse proxy server, a mail proxy server, and a generic TCP/UDP proxy server, originally written by Igor Sysoev.%prep%&#123;__tar&#125; zxf %&#123;SOURCE0&#125;%&#123;__tar&#125; zxf %&#123;SOURCE1&#125;%&#123;__tar&#125; zxf %&#123;SOURCE2&#125;%setup -T -D -a 0%build./configure --prefix=/usr/local/nginx \\ --sbin-path=/usr/local/nginx/sbin/nginx \\ --conf-path=/usr/local/nginx/conf/nginx.conf \\ --error-log-path=/usr/local/nginx/logs/error.log \\ --http-log-path=/usr/local/nginx/logs/access.log \\ --pid-path=/var/run/nginx.pid \\ --user=%&#123;nginx_user&#125; \\ --group=%&#123;nginx_group&#125; \\ --lock-path=/var/lock/nginx.lock \\ --http-client-body-temp-path=%&#123;_localstatedir&#125;/cache/nginx/client \\ --http-proxy-temp-path=%&#123;_localstatedir&#125;/cache/nginx/proxy \\ --http-fastcgi-temp-path=%&#123;_localstatedir&#125;/cache/nginx/fcgi \\ --http-uwsgi-temp-path=%&#123;_localstatedir&#125;/cache/nginx/uwsgi \\ --http-scgi-temp-path=%&#123;_localstatedir&#125;/cache/nginx/scgi \\ --with-openssl=%&#123;_builddir&#125;/openssl-%&#123;openssl_version&#125; \\ --add-module=%&#123;_builddir&#125;/nginx-module-vts-%&#123;nginx_vts_version&#125; \\ --with-http_realip_module \\ --with-http_ssl_module \\ --with-http_stub_status_module \\ --with-http_addition_module \\ --with-http_gzip_static_module \\ --with-http_sub_module \\ --with-http_auth_request_module \\ --with-pcre --with-http_v2_module --with-file-aiomake %&#123;?_smp_mflags&#125; OPTIMIZE=&quot;%&#123;optflags&#125;&quot; %install%&#123;__rm&#125; -rf $RPM_BUILD_ROOT%&#123;__make&#125; DESTDIR=$RPM_BUILD_ROOT install%&#123;__mkdir&#125; -p $RPM_BUILD_ROOT/%&#123;_localstatedir&#125;/cache/nginx%&#123;__rm&#125; $RPM_BUILD_ROOT/usr/local/nginx/conf/nginx.conf%&#123;__install&#125; -m644 -p %&#123;SOURCE3&#125; $RPM_BUILD_ROOT/usr/local/nginx/conf/nginx.conf%&#123;__mkdir&#125; -p $RPM_BUILD_ROOT/usr/local/nginx/conf.d%&#123;__mkdir&#125; -p $RPM_BUILD_ROOT/usr/local/nginx/conf.d/certs%&#123;__mkdir&#125; -p $RPM_BUILD_ROOT/usr/local/nginx/conf.d/vhost%&#123;__install&#125; -m644 -p %&#123;SOURCE4&#125; $RPM_BUILD_ROOT/usr/local/nginx/conf.d/default.conf%&#123;__mkdir&#125; -p $RPM_BUILD_ROOT%&#123;_unitdir&#125;%&#123;__install&#125; -m644 %SOURCE5 $RPM_BUILD_ROOT%&#123;_unitdir&#125;/nginx.service%&#123;__mkdir&#125; -p $RPM_BUILD_ROOT%&#123;_sysconfdir&#125;/logrotate.d%&#123;__install&#125; -m644 -p %&#123;SOURCE6&#125; $RPM_BUILD_ROOT%&#123;_sysconfdir&#125;/logrotate.d/nginx%clean%&#123;__rm&#125; -rf $RPM_BUILD_ROOT%files%defattr(-,root,root)/usr/local/nginx/*%&#123;_unitdir&#125;/nginx.service%&#123;_localstatedir&#125;/cache/nginx%config(noreplace) %&#123;_sysconfdir&#125;/logrotate.d/nginx%pre# Add the &quot;nginx&quot; usergetent group %&#123;nginx_group&#125; &gt;/dev/null || groupadd -r %&#123;nginx_group&#125;getent passwd %&#123;nginx_user&#125; &gt;/dev/null || \\ useradd -r -g %&#123;nginx_group&#125; -s /sbin/nologin \\ -d %&#123;nginx_home&#125; -c &quot;nginx user&quot; %&#123;nginx_user&#125;exit 0%post# Register the nginx service/usr/bin/systemctl preset nginx.service &gt;/dev/null 2&gt;&amp;1 ||:%changelog 最终工作空间目录如下 注意⚠️ SOURCES里面的文件就是构建rpm包所需要的所有原材料。 12345678910111213141516171819202122rpmbuild├── BUILD├── BUILDROOT├── RPMS│ └── x86_64│ ├── nginx-1.23.3-el9.x86_64.rpm│ ├── nginx-debuginfo-1.23.3-el9.x86_64.rpm│ └── nginx-debugsource-1.23.3-el9.x86_64.rpm├── SOURCES│ ├── default.conf│ ├── nginx-1.23.4.tar.gz│ ├── nginx-module-vts-0.2.1.tar.gz│ ├── nginx.conf│ ├── nginx.logrotate│ ├── nginx.service│ └── openssl-3.0.8.tar.gz├── SPECS│ └── nginx.spec└── SRPMS └── nginx-1.23.3-1.23.3.src.rpm8 directories, 12 files 开始构建 1rpmbuild -bb ~/rpmbuild/SPECS/nginx.spec 然后等待即可，如有报错，根据报错信息解决即可。 enjoy 最后会在rpmbuild/RPMS里面会生成当前CPU架构的rpm包，一般只需要取没有debug信息的那个即可。","categories":[{"name":"rpm","slug":"rpm","permalink":"https://www.mardan.wiki/categories/rpm/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"https://www.mardan.wiki/tags/nginx/"},{"name":"rpm","slug":"rpm","permalink":"https://www.mardan.wiki/tags/rpm/"}]},{"title":"wireguard在家庭网络的妙用","slug":"wireguard在家庭网络的妙用","date":"2023-02-21T15:12:38.000Z","updated":"2025-04-13T06:16:05.653Z","comments":true,"path":"website/2023/02/21/wireguard在家庭网络的妙用.html","permalink":"https://www.mardan.wiki/website/2023/02/21/wireguard%E5%9C%A8%E5%AE%B6%E5%BA%AD%E7%BD%91%E7%BB%9C%E7%9A%84%E5%A6%99%E7%94%A8.html","excerpt":"概览： 介绍 安装 网络架构 高阶 安装 生成钥匙 配置虚拟网卡 安装依赖 配置网卡以及转发","text":"概览： 介绍 安装 网络架构 高阶 安装 生成钥匙 配置虚拟网卡 安装依赖 配置网卡以及转发 介绍 众所周知，你需要的时候就知道了。 安装 若linux内核版本高于5.x的话。 1yum install wireguard-tools 网络架构 请注意⚠️wireguard本身是不存在server和client的概念，每一个wireguard节点都是平等的。为了方便说明，我们假定下图的pc作为访问方，HomeLabs作为被访问方，ECS作为中转方。 sequenceDiagram participant HomeLabs participant ECS HomeLabs->>ECS: HomeLabs in there? loop ->ECS route HomeLabs->>ECS: TCP/IP & UDP end loop HomeLabs route ECS->>HomeLabs: TCP/IP & UDP end participant PC PC-->>ECS: I`am online! ECS->>PC: ok! loop PC->ECS route PC->>ECS: TCP/IP & UDP end loop ECS->PC route ECS->>PC: TCP/IP & UDP end PC-->>HomeLabs: PC可以访问HomeLabs啦! 安装以及配置可以参考wireguard 笔记 高阶 若家庭中不止一台设备需要访问，但是设备又很多，不方便各安装一个。那么此时就需要有一台wireguard的主机去做转发。我选择的是openwrt路由去做转发，因为设置起来比较快捷，pve搞起来也快。 sequenceDiagram participant ECS participant openwrt participant HomeLabs HomeLabs->>ECS: HomeLabs in there? loop ->ECS route openwrt->>ECS: TCP/IP & UDP HomeLabs->>ECS: TCP/IP & UDP end loop HomeLabs route ECS->>openwrt: TCP/IP & UDP ECS->>HomeLabs: TCP/IP & UDP end participant PC PC-->>ECS: I`am online! ECS->>PC: ok! loop PC->ECS route PC->>ECS: TCP/IP & UDP end loop ECS->PC route ECS->>PC: TCP/IP & UDP end PC-->>openwrt: PC可以访问openwrt啦! PC-->>HomeLabs: PC可以访问HomeLabs啦! 安装 12opkg updateopkg install wireguard-tools 生成钥匙 建议统一在ECS操作，再分发到openwrt来。 1wg genkey | tee wrt-privatekey | wg pubkey &gt; wrt-publickey 配置虚拟网卡 建议统一在ECS操作，再分发到openwrt来。 123456789101112131415161718cat &gt;&gt; /etc/wireguard/wrt.conf &lt;&lt;EOF# openwrt[Peer]PublicKey = $(cat wrt-publickey)AllowedIPs = 10.3.6.4/32, 192.168.6.0/24EOFcat &gt; openwrt.conf &lt;&lt;EOF[Interface]PrivateKey = $(cat wrt-privatekey)Address = 10.3.6.4/24 #wg之前通信组网的内网ip和段，主机位每个得不一样[Peer]PublicKey = $(cat gw-publickey) # gateway的公钥AllowedIPs = 10.3.6.0/24Endpoint = $(curl -s ip.sb):28000 # gateway 公网ip和端口PersistentKeepalive = 10 # 心跳时间EOF 安装依赖 在界面 系统&gt;&gt;软件 搜索安装以下软件即可 luci-app-wireguard luci-proto-wireguard 然后重启软路由。 配置网卡以及转发 重启成功后，在界面 网络&gt;&gt;网口,下方选择新增网卡。 协议选择Wireguard,可以在下方看到导入配置，导入先前的/etc/wireguard/wrt.conf配置，剩下的再根据自己的需求填写。ip地址哪里，需要填写允许访问的ip列表。 然后在网络&gt;&gt;防火墙&gt;&gt;NAT规则 新增一条规则开启转发。 enjoy","categories":[{"name":"wireguard","slug":"wireguard","permalink":"https://www.mardan.wiki/categories/wireguard/"}],"tags":[{"name":"wireguard","slug":"wireguard","permalink":"https://www.mardan.wiki/tags/wireguard/"}]},{"title":"pve安装openwrt软路由","slug":"pve安装openwrt软路由","date":"2023-02-21T14:14:35.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2023/02/21/pve安装openwrt软路由.html","permalink":"https://www.mardan.wiki/website/2023/02/21/pve%E5%AE%89%E8%A3%85openwrt%E8%BD%AF%E8%B7%AF%E7%94%B1.html","excerpt":"概览： 介绍 下载 安装 扩容 配置 修改ip 镜像源 问题 无法上网","text":"概览： 介绍 下载 安装 扩容 配置 修改ip 镜像源 问题 无法上网 介绍 官网openwrt The OpenWrt Project is a Linux operating system targeting embedded devices. Instead of trying to create a single, static firmware, OpenWrt provides a fully writable filesystem with package management. This frees you from the application selection and configuration provided by the vendor and allows you to customize the device through the use of packages to suit any application. For developers, OpenWrt is the framework to build an application without having to build a complete firmware around it; for users this means the ability for full customization, to use the device in ways never envisioned. 下载 下载网址：https://downloads.openwrt.org https://downloads.openwrt.org/releases/22.03.3/targets/x86/generic/ 注意⚠️ 之后操作都在pve的shell操作。 12wget https://downloads.openwrt.org/releases/22.03.3/targets/x86/generic/openwrt-22.03.3-x86-generic-generic-squashfs-combined.img.gzgzip -dk openwrt-22.03.3-x86-generic-generic-squashfs-combined.img.gz 安装 此操作可以参考该文章。建议在第16步（即启动之前扩容），扩容完成后再继续。 扩容 由于openwrt原始镜像空间很小，如火需要安装其他的软件，会使得空间比较紧张。所以可以提前进行扩容。 1qemu-img resize openwrt-22.03.3-x86-generic-generic-squashfs-combined.img 2048M 然后可以参考这篇文章进行操作。 配置 修改ip 由于我是把openwrt没有作为主路由，所以需要手动设置LAN的静态IP。 注意⚠️ 若不需要，可以跳过该小节。 输入默认用户名密码，一般用户为root，密码password 在命令行输入：后面的ip根据=实际情况修改 12uci set network.lan.ipaddr=&#x27;192.168.123.1&#x27;uci commit network 修改密码 1passwd 镜像源 我是用的源: https://mirrors.ustc.edu.cn/help/openwrt.html 1sed -i &#x27;s/downloads.openwrt.org/mirrors.ustc.edu.cn\\/openwrt/g&#x27; /etc/opkg/distfeeds.conf 问题 无法上网 方法：手动设置openwrt的DNS。 我设置的是114.114.114.114 设置interface LAN的网关地址为上游路由的地址。","categories":[{"name":"openwrt","slug":"openwrt","permalink":"https://www.mardan.wiki/categories/openwrt/"}],"tags":[{"name":"pve","slug":"pve","permalink":"https://www.mardan.wiki/tags/pve/"},{"name":"openwrt","slug":"openwrt","permalink":"https://www.mardan.wiki/tags/openwrt/"}]},{"title":"Proxmox Virtual Environment基本教程","slug":"Proxmox-Virtual-Environment基本教程","date":"2023-02-21T13:31:01.000Z","updated":"2025-04-13T06:16:05.527Z","comments":true,"path":"website/2023/02/21/Proxmox-Virtual-Environment基本教程.html","permalink":"https://www.mardan.wiki/website/2023/02/21/Proxmox-Virtual-Environment%E5%9F%BA%E6%9C%AC%E6%95%99%E7%A8%8B.html","excerpt":"概览： pve介绍 pve安装 宿主机 选择和购买（可选） 开始安装 安装效果一览 进行配置 换镜像源 更新一下 自定义 界面添加CPUs温度显示 添加数据源 添加显示格式 取消订阅提醒警告 修改lxc(CT)的源 磁盘配置 格式化 添加新盘 硬件直通 编辑grub 更新grub 添加模块","text":"概览： pve介绍 pve安装 宿主机 选择和购买（可选） 开始安装 安装效果一览 进行配置 换镜像源 更新一下 自定义 界面添加CPUs温度显示 添加数据源 添加显示格式 取消订阅提醒警告 修改lxc(CT)的源 磁盘配置 格式化 添加新盘 硬件直通 编辑grub 更新grub 添加模块 pve介绍 官网 proxmox Proxmox Virtual Environment is an open source server virtualization management solution based on QEMU/KVM and LXC. You can manage virtual machines, containers, highly available clusters, storage and networks with an integrated, easy-to-use web interface or via CLI. Proxmox VE code is licensed under the GNU Affero General Public License, version 3. The project is developed and maintained by Proxmox Server Solutions GmbH. 简单来说，pve是一个开源的虚拟化管理解决方案。pve是一个软件包，但目前为止只提供debian的软件包，如果没有特殊需求，可以直接下载官方镜像（下一章节会说到）。 首先安装pve需要有一个物理机器（推荐做法） pve安装 下载rufus,创建可引导的USB驱动器。 下载pve ISO，pve的基础得便镜像。 还需要准备一个u盘，注意⚠️该过程会格式化u盘，所以需要注意及时备份U盘数据方可继续下一步。 宿主机 选择和购买（可选） 若已经有机器安装pve，可以跳过该小节。 首先先上需求 虚拟机 TrueNas * 1，存储池，统一管理其他电脑以及k8s集群的共享存储。 远程编程环境 * 1，该机器上面部署好各类工具，方便远程构建以及其他事项。 Kubernetes集群 * 4，逐步学习及使用k8s的相关知识并了解云原生，并在该环境进行研究。 通过查询以上系统的主机要求和对以后的扩展性综合考虑，我选择了（俗尘洋垃圾）的E5-2683 v4这款，intel官网说明，基本配置如下，主板 * 1，CPU * 1，内存 * 4，机械硬盘若干，nvme硬盘若干。 CPU E5-2683 v4 16核32线程 频率2.1~3.0 TDP功耗120W 主板 X10SRL-F 内存 三星 DDR4-2400 REG ECC 32G 其他 机械硬盘，pcie扩展卡等 开始安装 我的配置如下 安装可以参考B站UP主 司波图 选择网卡时请注意，pve会绑定一个网卡，如果后期要更改很慢饭，所以请配置好后再开始，如配置静态ip等。 安装效果一览 注意⚠️ 上图中的CPUs温度时需要自己添加的，接下来就会讲到。 进行配置 换镜像源 进入shell，在shell中操作。 覆盖系统镜像 nano /etc/apt/sources.list 1234567deb https://mirrors.ustc.edu.cn/debian/ bullseye main contribdeb https://mirrors.ustc.edu.cn/debian/ bullseye-updates main contribdeb https://mirrors.ustc.edu.cn/debian/ bullseye-backports main contribdeb https://mirrors.ustc.edu.cn/debian-security/ bullseye-security main contrib pve源更换（未订阅） 1mv /etc/apt/sources.list.d/pve-enterprise.list /etc/apt/sources.list.d/pve-no-subscription.list nano /etc/apt/sources.list.d/pve-no-subscription.list 1deb https://mirrors.ustc.edu.cn/proxmox/debian/pve bullseye pve-no-subscription 更新一下 12345apt update # 更新镜像源缓存apt upgrade # 开始下载更新软件包以及依赖apt install locales locales-all # 安装国际化相关的包，ssh远程时应该会更加易用apt install vim tar socat net-tools wget mlocate bash-completion tree # 安装下一些基本工具，可以自行选择reboot # 重启pve系统，等待应用变更,可能需要自己刷新pve网页页面. 自定义 界面添加CPUs温度显示 12apt install lm-sensorssensors # 检查下你想要的监控参数是否有识别到,若未识别到或有其他异常可以尝试`sensors-detect`,然后一路Enter确认，再次查看。 添加数据源 vim /usr/share/perl5/PVE/API2/Nodes.pm 位置大概在 head -n +410 /usr/share/perl5/PVE/API2/Nodes.pm | tail -n 30 123456$res-&gt;&#123;pveversion&#125; = PVE::pvecfg::package() . &quot;/&quot; . PVE::pvecfg::version_text();$res-&gt;&#123;thermalstate&#125; = `sensors`; // 新增内容my $dinfo = df(&#x27;/&#x27;, 1); # output is bytes 添加显示格式 vim /usr/share/pve-manager/js/pvemanagerlib.js 位置大概在 head -n +38656 /usr/share/pve-manager/js/pvemanagerlib.js | tail -n 30 12345678910111213141516171819202122232425&#123; itemId: &#x27;version&#x27;, colspan: 2, printBar: false, title: gettext(&#x27;PVE Manager Version&#x27;), textField: &#x27;pveversion&#x27;, value: &#x27;&#x27;, &#125;, // 新增内容开始 &#123; itemId: &#x27;thermal&#x27;, colspan: 2, printBar: false, title: gettext(&#x27;CPUs温度&#x27;), textField: &#x27;thermalstate&#x27;, renderer:function(value)&#123; const p0 = value.match(/Package id 0.*?\\+([\\d\\.]+)?/)[1]; const c0 = value.match(/Core 0.*?\\+([\\d\\.]+)?/)[1]; const c1 = value.match(/Core 4.*?\\+([\\d\\.]+)?/)[1]; const c2 = value.match(/Core 8.*?\\+([\\d\\.]+)?/)[1]; const c3 = value.match(/Core 12.*?\\+([\\d\\.]+)?/)[1]; return `Package: $&#123;p0&#125; ℃ || CPUs: $&#123;c0&#125; ℃ | $&#123;c1&#125; ℃ | $&#123;c2&#125; ℃ | $&#123;c3&#125; ℃` &#125; &#125;, // 新增内容结束 取消订阅提醒警告 vim /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js 位置大概在 head -n +539 /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js | tail -n 30 1234567891011121314151617181920212223242526272829303132 Proxmox.Utils.API2Request( &#123; url: &#x27;/nodes/localhost/subscription&#x27;, method: &#x27;GET&#x27;, failure: function(response, opts) &#123; Ext.Msg.alert(gettext(&#x27;Error&#x27;), response.htmlStatus); &#125;, success: function(response, opts) &#123; let res = response.result; // 修改内容开始 if (res === null || res === undefined || !res || res .data.status.toLowerCase() !== &#x27;active&#x27;) &#123; Ext.Msg.show(&#123; // 修改内容结束 title: gettext(&#x27;No valid subscription&#x27;), icon: Ext.Msg.WARNING, message: Proxmox.Utils.getNoSubKeyHtml(res.data.url), buttons: Ext.Msg.OK, callback: function(btn) &#123; if (btn !== &#x27;ok&#x27;) &#123; return; &#125; orig_cmd(); &#125;, &#125;); &#125; else &#123; orig_cmd(); &#125; &#125;, &#125;, );&#125;, 修改为一下内容 1234//if (res === null || res === undefined || !res || res //.data.status.toLowerCase() !== &#x27;active&#x27;) &#123;if (false) &#123; void(&#123; //Ext.Msg.show(&#123; 修改lxc(CT)的源 1234cd /usr/share/perl5/PVE/cp APLInfo.pm APLInfo.pm.baksed -i &#x27;s|http://download.proxmox.com|https://mirrors.ustc.edu.cn/proxmox|g&#x27; /usr/share/perl5/PVE/APLInfo.pmreboot 注意⚠️：添加CPUs温度显示，取消订阅提醒告警等操作，需要重启pve系统或执行systemctl restart pveproxy.service方可生效,然后一定要清理浏览器缓存，否则页面不会显示新变化。如若有异常情况，请根据实际情况排查,提醒可以sensors-detect再重启一下pve。 磁盘配置 磁盘规划，默认情况下会有local和local-lvm。 我去掉了local的内容里的VZDump备份文件。由于我准备将备份放置于另外一块硬盘。 如果虚拟机数量不多，就按默认的分配进行就可，可以跳过本小节。 格式化 我是准备了IT的nvme盘作为虚拟机的系统磁盘（注意：不是pve的系统盘，是给安装在pve上的虚拟机使用） 挂载1T新硬盘盘到/VMs步骤 : cfdisk新建分区(删除多余的分区) 格式化新分区mkfs.xfs -f /dev/nvme1n1p1 -L VMs lsblk查看nvme名称与大小对应关系 然后blkid | grep &lt;nvme名称&gt;获取UUID 然后填写到/etc/fstab文件,如下所示 1UUID=9ef40821-a3d6-415a-82d3-76c22caf33d3 /VMs xfs defaults 0 0 检查是否正确mount -a，然后df -h | grep VMs,如下所示挂载成功。 1234root@labs:~# mkdir /VMsroot@labs:~# mount -aroot@labs:~# df -h | grep VMs/dev/nvme1n1p1 932G 6.6G 925G 1% /VMs 添加新盘 数据中心 &gt; 存储 &gt; 选择 | 添加 &gt; 选择 | 目录 1ID: VMs, 目录: /VMs, 内容: 磁盘映像，VZDump备份文件 硬件直通 因为，有时考虑到需要给TrueNas虚拟机需要直通像SATA硬盘等，以期最好的性能。因为pve是在debian（一个linux发行版）上的系统，所以还是进入shell操作。 编辑grub 1234vi /etc/default/grub在里面找到：GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet&quot;然后修改为：GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet intel_iommu=on&quot;如果是amd cpu请改为：GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet amd_iommu=on&quot; 更新grub 1update-grub2 添加模块 1234echo vfio &gt;&gt; /etc/modulesecho vfio_iommu_type1 &gt;&gt; /etc/modulesecho vfio_pci &gt;&gt; /etc/modulesecho vfio_virqfd &gt;&gt; /etc/modules 重启pve后生效","categories":[{"name":"pve","slug":"pve","permalink":"https://www.mardan.wiki/categories/pve/"}],"tags":[{"name":"pve","slug":"pve","permalink":"https://www.mardan.wiki/tags/pve/"}]},{"title":"k8s cri-o浅尝","slug":"k8s-cri-o浅尝","date":"2022-12-25T14:21:13.000Z","updated":"2025-04-13T06:16:05.534Z","comments":true,"path":"website/2022/12/25/k8s-cri-o浅尝.html","permalink":"https://www.mardan.wiki/website/2022/12/25/k8s-cri-o%E6%B5%85%E5%B0%9D.html","excerpt":"概览： cri-o 安装cri-o 添加镜像源 开始安装 安装kubernetes 优化 关闭SELinux 内核模块 内核优化 开始安装 添加镜像源 安装并启动 启动k8s 初始化k8s 下载cilium 安装cni网络 结束 检查","text":"概览： cri-o 安装cri-o 添加镜像源 开始安装 安装kubernetes 优化 关闭SELinux 内核模块 内核优化 开始安装 添加镜像源 安装并启动 启动k8s 初始化k8s 下载cilium 安装cni网络 结束 检查 cri-o Kubernetes的轻量级容器运行时 安装cri-o 添加镜像源 /etc/yum.repo.d/cri-o.repo 12345678910111213141516[devel_kubic_libcontainers_stable]name=Stable Releases of Upstream github.com/containers packages (CentOS_7)type=rpm-mdbaseurl=https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/CentOS_7/gpgcheck=1gpgkey=https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/CentOS_7/repodata/repomd.xml.keyenabled=1[devel_kubic_libcontainers_stable_cri-o_1.24]name=devel:kubic:libcontainers:stable:cri-o:1.24 (CentOS_7)type=rpm-mdbaseurl=https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable:/cri-o:/1.24/CentOS_7/gpgcheck=1gpgkey=https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable:/cri-o:/1.24/CentOS_7/repodata/repomd.xml.keyenabled=1 开始安装 1yum install cri-o 安装kubernetes 优化 关闭SELinux 123# Set SELinux in permissive mode (effectively disabling it)setenforce 0sed -i &#x27;s/^SELINUX=enforcing$/SELINUX=permissive/&#x27; /etc/selinux/config 内核模块 1234567cat &lt;&lt;EOF | tee /etc/modules-load.d/k8s.confoverlaybr_netfilterEOFmodprobe overlaymodprobe br_netfilter 内核优化 12345678910# sysctl params required by setup, params persist across rebootscat &lt;&lt;EOF | tee /etc/sysctl.d/k8s.confnet.bridge.bridge-nf-call-iptables = 1net.bridge.bridge-nf-call-ip6tables = 1net.ipv4.ip_forward = 1net.ipv4.conf.all.rp_filter = 0EOF# Apply sysctl params without rebootsysctl --system 开始安装 添加镜像源 123456789cat &lt;&lt;EOF | tee /etc/yum.repos.d/kubernetes.repo[kubernetes]name=Kubernetesbaseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-\\$basearchenabled=1gpgcheck=1gpgkey=https://packages.cloud.google.com/yum/doc/rpm-package-key.gpgexclude=kubelet kubeadm kubectlEOF 安装并启动 123456yum install kubelet-1.24.7 kubeadm-1.24.7 kubectl-1.24.7 --disableexcludes=kubernetessysctl -p /etc/sysctl.d/k8s.confsystemctl enable --now criosystemctl enable --now kubelet 启动k8s 初始化k8s --skip-phases=addon/kube-proxy,这个根据自己的要求来。我是因为使用cilium替代了k8s的kube-proxy。 1kubeadm init --kubernetes-version=v1.24.7 --pod-network-cidr=$CIDR --cri-socket=unix:///var/run/crio/crio.sock --skip-phases=addon/kube-proxy 下载cilium 1234567CILIUM_CLI_VERSION=$(curl -s https://raw.githubusercontent.com/cilium/cilium-cli/master/stable.txt)CLI_ARCH=amd64if [ &quot;$(uname -m)&quot; = &quot;aarch64&quot; ]; then CLI_ARCH=arm64; ficurl -L --fail --remote-name-all https://github.com/cilium/cilium-cli/releases/download/$&#123;CILIUM_CLI_VERSION&#125;/cilium-linux-$&#123;CLI_ARCH&#125;.tar.gz&#123;,.sha256sum&#125;sha256sum --check cilium-linux-$&#123;CLI_ARCH&#125;.tar.gz.sha256sumsudo tar xzvfC cilium-linux-$&#123;CLI_ARCH&#125;.tar.gz /usr/local/binrm cilium-linux-$&#123;CLI_ARCH&#125;.tar.gz&#123;,.sha256sum&#125; 安装cni网络 1cilium install --helm-set tunnel=disabled --helm-set bpf.masquerade=true --helm-set bpf.clockProbe=true --helm-set bpf.waitForMount=true --helm-set bpf.preallocateMaps=true --helm-set bpf.tproxy=true --helm-set bpf.hostRouting=false --helm-set autoDirectNodeRoutes=true --helm-set localRedirectPolicy=true --helm-set enableCiliumEndpointSlice=true --helm-set enableK8sEventHandover=true --helm-set enableK8sEndpointSlice=true --helm-set wellKnownIdentities.enabled=true --helm-set sockops.enabled=true --helm-set bandwidthManager=true --helm-set hubble.enabled=false --helm-set installNoConntrackIptablesRules=true --helm-set egressGateway.enabled=true --helm-set endpointRoutes.enabled=false --helm-set kubeProxyReplacement=strict --helm-set loadBalancer.mode=dsr --helm-set nodePort.mode=dsr --helm-set nodePort.directRoutingDevice=eth0 --helm-set devices=eth0 --helm-set k8sServiceHost=10.0.0.3 --helm-set k8sServicePort=6443 --helm-set ipv4NativeRoutingCIDR=172.26.131.117/32 结束 检查 1kubectl get pod -A","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/categories/kubernetes/"}],"tags":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/tags/kubernetes/"},{"name":"cri-o","slug":"cri-o","permalink":"https://www.mardan.wiki/tags/cri-o/"}]},{"title":"Golang线程(协程)池的一种设计与实现","slug":"Golang线程(协程)池的一种设计与实现","date":"2022-09-21T03:21:13.000Z","updated":"2025-04-13T06:16:05.515Z","comments":true,"path":"website/2022/09/21/Golang线程(协程)池的一种设计与实现.html","permalink":"https://www.mardan.wiki/website/2022/09/21/Golang%E7%BA%BF%E7%A8%8B(%E5%8D%8F%E7%A8%8B)%E6%B1%A0%E7%9A%84%E4%B8%80%E7%A7%8D%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0.html","excerpt":"概览： 协程 goroutine 要素 代码 效果测试","text":"概览： 协程 goroutine 要素 代码 效果测试 协程 goroutine Go 语言的协程实现被称之为 goroutine，由 Go 运行时管理，在 Go 语言中通过协程实现并发编程非常简单：我们可以在一个处理进程中通过关键字 go 启用多个协程，然后在不同的协程中完成不同的子任务，这些用户在代码中创建和维护的协程本质上是用户级线程，Go 语言运行时会在底层通过调度器将用户级线程交给操作系统的系统级线程去处理，如果在运行过程中遇到某个 IO 操作而暂停运行，调度器会将用户级线程和系统级线程分离，以便让系统级线程去处理其他用户级线程，而当 IO 操作完成，需要恢复运行，调度器又会调度空闲的系统级线程来处理这个用户级线程，从而达到并发处理多个协程的目的。 要素 池大小 工作基本单元 组织协调工作单元 代码 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465package mainimport ( &quot;errors&quot; &quot;log&quot; &quot;runtime&quot; &quot;sync&quot; &quot;time&quot; &quot;golang.org/x/sync/errgroup&quot;)// define pool size: runtime.NumCPU()var goroutineMaxProcess = make(chan bool, runtime.NumCPU())func boss(eg *errgroup.Group, wg *sync.WaitGroup) &#123; for i := 0; i &lt; 40; i++ &#123; // re use id value: if you use this value in goroutine ,you must be do this. idx := i + 1 // count waitgroup counter wg.Add(1) // update pool size: start using goroutineMaxProcess &lt;- true // start goroutine process and capture inside error eg.Go(func() error &#123; // define if return do this // waitgroup counter -- // update pool size: release using defer wg.Done() defer func() &#123; &lt;-goroutineMaxProcess &#125;() // worker start work if err := worker(idx); err != nil &#123; return err &#125; return nil &#125;) &#125; // check err err := eg.Wait() if err != nil &#123; // ^-^ pannic log.Panic(err) &#125;&#125;func worker(idx int) error &#123; // log print log.Printf(&quot;%d worker working...\\n&quot;, idx) // check goroutine error if idx == 33 &#123; return errors.New(&quot;sorry 33&quot;) &#125; // work simulation time.Sleep(time.Second * 1) return nil&#125;func main() &#123; var eg errgroup.Group var wg sync.WaitGroup // start work boss(&amp;eg, &amp;wg)&#125; 效果测试 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152# go run main.go2022/09/21 23:49:29 8 worker working...2022/09/21 23:49:29 3 worker working...2022/09/21 23:49:29 5 worker working...2022/09/21 23:49:29 1 worker working...2022/09/21 23:49:29 6 worker working...2022/09/21 23:49:29 4 worker working...2022/09/21 23:49:29 7 worker working...2022/09/21 23:49:29 2 worker working...2022/09/21 23:49:30 9 worker working...2022/09/21 23:49:30 11 worker working...2022/09/21 23:49:30 15 worker working...2022/09/21 23:49:30 13 worker working...2022/09/21 23:49:30 12 worker working...2022/09/21 23:49:30 16 worker working...2022/09/21 23:49:30 10 worker working...2022/09/21 23:49:30 14 worker working...2022/09/21 23:49:31 22 worker working...2022/09/21 23:49:31 21 worker working...2022/09/21 23:49:31 24 worker working...2022/09/21 23:49:31 23 worker working...2022/09/21 23:49:31 18 worker working...2022/09/21 23:49:31 20 worker working...2022/09/21 23:49:31 17 worker working...2022/09/21 23:49:31 19 worker working...2022/09/21 23:49:32 25 worker working...2022/09/21 23:49:32 30 worker working...2022/09/21 23:49:32 28 worker working...2022/09/21 23:49:32 26 worker working...2022/09/21 23:49:32 31 worker working...2022/09/21 23:49:32 27 worker working...2022/09/21 23:49:32 29 worker working...2022/09/21 23:49:32 32 worker working...2022/09/21 23:49:33 33 worker working...2022/09/21 23:49:33 35 worker working...2022/09/21 23:49:33 34 worker working...2022/09/21 23:49:33 36 worker working...2022/09/21 23:49:33 39 worker working...2022/09/21 23:49:33 37 worker working...2022/09/21 23:49:33 38 worker working...2022/09/21 23:49:33 40 worker working...2022/09/21 23:49:34 sorry 33panic: sorry 33goroutine 1 [running]:log.Panic(&#123;0xc000072f38?, 0xc000094090?, 0xc00006c000?&#125;) /Volumes/axe/tools/runtime/golang/go/src/log/log.go:388 +0x65main.boss(0x0?, 0xc00001a0d0) /Users/mardan/T/worker/main.go:43 +0xf2main.main() /Users/mardan/T/worker/main.go:64 +0x45exit status 2 时间计时：go run main.go 5.22 real 0.14 user 0.11 sys 若按正常的串行方式40*1s，至少需要40s才可执行完成，现在仅需5s左右。下面我们再打印goroutine数，发现是正常的，因为我电脑是8核的，符合预期。 出现9是因为，8个goroutine加上main自己就是8+1=9，main也算一个，我们这个goroutine池排除了main，为对这个进行管理。你也可以将main纳入到，但是我觉得没必要。 123456789101112132022/09/21 23:54:02 8 worker working... -&gt; goroutine: 92022/09/21 23:54:02 2 worker working... -&gt; goroutine: 7···2022/09/21 23:54:02 5 worker working... -&gt; goroutine: 92022/09/21 23:54:03 11 worker working... -&gt; goroutine: 72022/09/21 23:54:03 9 worker working... -&gt; goroutine: 42022/09/21 23:54:03 10 worker working... -&gt; goroutine: 92022/09/21 23:54:03 12 worker working... -&gt; goroutine: 92022/09/21 23:54:03 13 worker working... -&gt; goroutine: 9···2022/09/21 23:54:06 34 worker working... -&gt; goroutine: 92022/09/21 23:54:06 37 worker working... -&gt; goroutine: 82022/09/21 23:54:06 39 worker working... -&gt; goroutine: 8","categories":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/categories/golang/"}],"tags":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/tags/golang/"},{"name":"goroutine","slug":"goroutine","permalink":"https://www.mardan.wiki/tags/goroutine/"}]},{"title":"macOS添加自启动配置","slug":"macOS添加自启动配置","date":"2022-08-25T14:45:13.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2022/08/25/macOS添加自启动配置.html","permalink":"https://www.mardan.wiki/website/2022/08/25/macOS%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%90%AF%E5%8A%A8%E9%85%8D%E7%BD%AE.html","excerpt":"概览： 缘由 配置 启用","text":"概览： 缘由 配置 启用 缘由 近期看到一个在osx下在菜单栏显示流量的小软件ITraffic-monitor，没找到启用自动启动的配置。所以自己写了个自启动配置，方便后续使用。 配置 ITraffic.plist 1234567891011121314151617181920212223&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;&lt;plist version=&quot;1.0&quot;&gt;&lt;dict&gt; &lt;key&gt;Label&lt;/key&gt; &lt;string&gt;com.foamzou.ITraffic&lt;/string&gt; &lt;key&gt;EnvironmentVariables&lt;/key&gt; &lt;dict&gt; &lt;key&gt;PATH&lt;/key&gt; &lt;string&gt;/usr/local/bin:/usr/bin:/bin&lt;/string&gt; &lt;/dict&gt; &lt;key&gt;ProgramArguments&lt;/key&gt; &lt;array&gt; &lt;string&gt;/Applications/ITraffic.app/Contents/MacOS/ITraffic&lt;/string&gt; &lt;/array&gt; &lt;key&gt;RunAtLoad&lt;/key&gt; &lt;true/&gt; &lt;key&gt;KeepAlive&lt;/key&gt; &lt;false/&gt; &lt;key&gt;LaunchOnlyOnce&lt;/key&gt; &lt;true/&gt;&lt;/dict&gt;&lt;/plist&gt; 启用 最后将配置文件ITraffic.plist复制到~/Library/LaunchAgents/ITraffic.plist。 12# reference commandcp ITraffic.plist ~/Library/LaunchAgents/ITraffic.plist","categories":[{"name":"macOS","slug":"macOS","permalink":"https://www.mardan.wiki/categories/macOS/"}],"tags":[{"name":"macOS","slug":"macOS","permalink":"https://www.mardan.wiki/tags/macOS/"},{"name":"startup","slug":"startup","permalink":"https://www.mardan.wiki/tags/startup/"}]},{"title":"docker hub中继k8s镜像","slug":"docker-hub中继k8s镜像","date":"2022-08-24T04:12:13.000Z","updated":"2025-04-13T06:16:05.532Z","comments":true,"path":"website/2022/08/24/docker-hub中继k8s镜像.html","permalink":"https://www.mardan.wiki/website/2022/08/24/docker-hub%E4%B8%AD%E7%BB%A7k8s%E9%95%9C%E5%83%8F.html","excerpt":"概览： 先决条件 镜像列表 actions配置 关联docker hub 验证镜像 传送门","text":"概览： 先决条件 镜像列表 actions配置 关联docker hub 验证镜像 传送门 先决条件 docker hub账号 Github账号，（需要使用github actions） 镜像列表 格式: 源镜像地址 自定义镜像名称前缀 images.txt，以nfs-subdir-external-provisioner为例。 1k8s.gcr.io/sig-storage/nfs-subdir-external-provisioner:v4.0.2 sig-storage actions配置 12345678910111213141516171819202122232425262728293031name: docker image wrapperon: push: branches: [ &quot;master&quot; ]jobs: build: runs-on: ubuntu-latest steps: - name: Checkout repository uses: actions/checkout@v3 - name: Login to Docker Hub uses: docker/login-action@v1 with: username: $&#123;&#123; secrets.DOCKER_HUB_USERNAME &#125;&#125; password: $&#123;&#123; secrets.DOCKER_HUB_ACCESS_TOKEN &#125;&#125; - name: Set up Docker Buildx uses: docker/setup-buildx-action@v1 - name: Pull &amp; Rename Images run: | IFS=$&#x27;\\n\\n&#x27; &amp;&amp; for img in $(cat images.txt);do echo $img | awk &#x27;&#123;print $1&#125;&#x27;| xargs -I &#123;&#125; docker pull &#123;&#125;;done IFS=$&#x27;\\n\\n&#x27; &amp;&amp; for img in $(cat images.txt);do echo $img | awk &#x27;&#123;print $1&#125;&#x27; | awk -F/ &#x27;&#123;print $NF&#125;&#x27; | xargs -I &#123;&#125; docker tag $(echo $img | awk &#x27;&#123;print $1&#125;&#x27;) ka1i137/$(echo $img | awk &#x27;&#123;print $2&#125;&#x27;)-&#123;&#125; ;done - name: Show Images run: | docker images docker images| grep ka1i137 - name: Push Images run: | for img in $(docker images| grep ka1i137 | awk -v OFS=&#x27;:&#x27; &#x27;&#123;print $1,$2&#125;&#x27;);do docker push $img ;done 关联docker hub docker官方文档: github-actions 验证镜像 传送门 代码仓库: image-wrapper 镜像仓库: ka1i137","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/categories/kubernetes/"}],"tags":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/tags/kubernetes/"},{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"}]},{"title":"k8s之traefik ingress的使用","slug":"k8s之traefik-ingress的使用","date":"2022-08-24T04:12:13.000Z","updated":"2025-04-13T06:16:05.534Z","comments":true,"path":"website/2022/08/24/k8s之traefik-ingress的使用.html","permalink":"https://www.mardan.wiki/website/2022/08/24/k8s%E4%B9%8Btraefik-ingress%E7%9A%84%E4%BD%BF%E7%94%A8.html","excerpt":"概览： kubernetes traefik 使用traefik ingress 配置文件 crd-rbac.yaml traefik.yaml ingress示例 开始部署 检查验证 traefik仪表盘 Traffic 进阶 参考","text":"概览： kubernetes traefik 使用traefik ingress 配置文件 crd-rbac.yaml traefik.yaml ingress示例 开始部署 检查验证 traefik仪表盘 Traffic 进阶 参考 kubernetes Kubernetes, also known as K8s, is an open-source system for automating deployment, scaling, and management of containerized applications. traefik Traefik is an open-source Edge Router that makes publishing your services a fun and easy experience. It receives requests on behalf of your system and finds out which components are responsible for handling them. 使用traefik ingress 配置文件 traefik proxy 注意：我配置了域名，如没有域名。可以用过hosts文件提供。 crd-rbac.yaml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRolemetadata: name: traefik-ingress-controllerrules: - apiGroups: - &quot;&quot; resources: - services - endpoints - secrets verbs: - get - list - watch - apiGroups: - extensions - networking.k8s.io resources: - ingresses - ingressclasses verbs: - get - list - watch - apiGroups: - extensions resources: - ingresses/status verbs: - update - apiGroups: - traefik.containo.us resources: - middlewares - middlewaretcps - ingressroutes - traefikservices - ingressroutetcps - ingressrouteudps - tlsoptions - tlsstores - serverstransports verbs: - get - list - watch---apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRoleBindingmetadata: name: traefik-ingress-controllerroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: traefik-ingress-controllersubjects: - kind: ServiceAccount name: traefik-ingress-controller namespace: default traefik.yaml 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576apiVersion: v1kind: ServiceAccountmetadata: name: traefik-ingress-controller---apiVersion: apps/v1kind: DaemonSetmetadata: name: traefik labels: app: traefikspec: selector: matchLabels: app: traefik template: metadata: labels: app: traefik spec: serviceAccountName: traefik-ingress-controller tolerations: - operator: &quot;Exists&quot; effect: &quot;NoSchedule&quot; nodeSelector: kubernetes.io/hostname: k8s-m1 containers: - name: traefik image: traefik:v2.9.9 args: - --api - --accesslog - --api.insecure - --api.dashboard - --log.level=INFO - --entrypoints.web.address=:80 - --entrypoints.websecure.address=:443 - --providers.kubernetescrd - --providers.kubernetesingress - --entryPoints.web.forwardedHeaders.trustedIPs=192.168.6.7 ports: - name: web hostPort: 80 containerPort: 80 - name: websecure hostPort: 443 containerPort: 443 - name: admin hostPort: 8080 containerPort: 8080 securityContext: capabilities: drop: - ALL add: - NET_BIND_SERVICE---apiVersion: v1kind: Servicemetadata: name: traefikspec: selector: app: traefik ports: - protocol: TCP port: 80 name: web - protocol: TCP port: 443 name: websecure - protocol: TCP port: 8080 name: admin ingress示例 whoami.yaml 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758apiVersion: apps/v1kind: Deploymentmetadata: name: whoami namespace: app labels: app: whoamispec: replicas: 2 selector: matchLabels: app: whoami template: metadata: labels: app: whoami spec: containers: - name: whoami image: traefik/whoami ports: - containerPort: 80---apiVersion: v1kind: Servicemetadata: name: whoami namespace: appspec: ports: - name: http-80 port: 80 selector: app: whoami---apiVersion: networking.k8s.io/v1kind: Ingressmetadata: name: whoami-ingress namespace: app annotations: traefik.ingress.kubernetes.io/router.entrypoints: webspec: rules: - host: www.guzal.cc http: paths: - path: /whoami pathType: Exact backend: service: name: whoami port: number: 80 开始部署 12kubectl apply -f crd-rbac.yml -f traefik.ymlkubectl apply -f whoami.yaml 检查验证 因为traefik是hostPort暴露端口，所以直接访问k8s集群80端口即可。 1234567891011[root@k8s-master-01 app]# kubectl get pod -A | grep -E &quot;traefik|whoami&quot;app whoami-6bbfdbb69c-d446q 1/1 Running 0 81sapp whoami-6bbfdbb69c-wrc4b 1/1 Running 0 81sdefault traefik-b4mff 1/1 Running 0 2m8s[root@k8s-master-01 app]# kubectl get svc -A | grep -E &quot;traefik|whoami&quot;app whoami ClusterIP 10.96.2.2 &lt;none&gt; 80/TCP 106sdefault traefik ClusterIP 10.96.1.14 &lt;none&gt; 80/TCP,443/TCP,8080/TCP 2m33s[root@k8s-master-01 app]# kubectl get ingress -A | grep -E &quot;traefik|whoami&quot;app whoami-ingress &lt;none&gt; www.guzal.cc 80 2m6s 我是用nginx代理了k8s，所以有ssl证书，若没有代理，直接访问80端口的whoami上下文即可。 1234567891011121314151617181920(base) mardan@Mardans-Mac-mini exec: 25/1793 current: 0 status: [ ok ]ttys005 k8s %⚑ &lt;&lt;&lt; curl https://www.example.cc/whoamiHostname: whoami-6bbfdbb69c-d446qIP: 127.0.0.1IP: ::1IP: 10.0.1.249IP: fe80::18c8:7cff:fe53:37d2RemoteAddr: 10.0.0.23:33254GET /whoami HTTP/1.1Host: www.example.ccUser-Agent: curl/7.64.1Accept: */*Accept-Encoding: gzipX-Forwarded-For: 192.168.137.101, 192.168.137.3X-Forwarded-Host: www.example.ccX-Forwarded-Port: 80X-Forwarded-Proto: httpX-Forwarded-Server: traefik-b4mffX-Real-Ip: 192.168.137.101X-Real-Port: 51898 traefik仪表盘 在traefik里面已经启用过dashboard，所以可以直接访问k8s_ip:8080来访问traefik仪表盘。我在这里使用了ingress来导出。 1234567891011121314151617181920apiVersion: networking.k8s.io/v1kind: Ingressmetadata: name: traefik-dashboard-ingress namespace: default annotations: traefik.ingress.kubernetes.io/router.entrypoints: webspec: rules: - host: traefik.example.cc http: paths: - path: / pathType: Prefix backend: service: name: traefik port: number: 8080 ip:端口访问 域名访问，注意这个才是使用的ingress。 Traffic 进阶 ingress-extension.yml， traefik的高级ingress类型apiVersion: traefik.containo.us/v1alpha1 , kind: IngressRoute，可以提供更复杂的支持。 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513613713813914014114214314414514614714814915015115215315415515615715815916016116216316416516616716816917017117217317417517617717817918018118218318418518618718818919019119219319419519619719819920020120220320420520620720820921021121221321421521621721821922022122222322422522622722822923023123223323423523623723823924024124224324424524624724824925025125225325425525625725825926026126226326426526626726826927027127227327427527627727827928028128228328428528628728828929029129229329429529629729829930030130230330430530630730830931031131231331431531631731831932032132232332432532632732832933033133233333433533633733833934034134234334434534634734834935035135235335435535635735835936036136236336436536636736836937037137237337437537637737837938038138238338438538638738838939039139239339439539639739839940040140240340440540640740840941041141241341441541641741841942042142242342442542642742842943043143243343443543643743843944044144244344444544644744844945045145245345445545645745845946046146246346446546646746846947047147247347447547647747847948048148248348448548648748848949049149249349449549649749849950050150250350450550650750850951051151251351451551651751851952052152252352452552652752852953053153253353453553653753853954054154254354454554654754854955055155255355455555655755855956056156256356456556656756856957057157257357457557657757857958058158258358458558658758858959059159259359459559659759859960060160260360460560660760860961061161261361461561661761861962062162262362462562662762862963063163263363463563663763863964064164264364464564664764864965065165265365465565665765865966066166266366466566666766866967067167267367467567667767867968068168268368468568668768868969069169269369469569669769869970070170270370470570670770870971071171271371471571671771871972072172272372472572672772872973073173273373473573673773873974074174274374474574674774874975075175275375475575675775875976076176276376476576676776876977077177277377477577677777877978078178278378478578678778878979079179279379479579679779879980080180280380480580680780880981081181281381481581681781881982082182282382482582682782882983083183283383483583683783883984084184284384484584684784884985085185285385485585685785885986086186286386486586686786886987087187287387487587687787887988088188288388488588688788888989089189289389489589689789889990090190290390490590690790890991091191291391491591691791891992092192292392492592692792892993093193293393493593693793893994094194294394494594694794894995095195295395495595695795895996096196296396496596696796896997097197297397497597697797897998098198298398498598698798898999099199299399499599699799899910001001100210031004100510061007100810091010101110121013101410151016101710181019102010211022102310241025102610271028102910301031103210331034103510361037103810391040104110421043104410451046104710481049105010511052105310541055105610571058105910601061106210631064106510661067106810691070107110721073107410751076107710781079108010811082108310841085108610871088108910901091109210931094109510961097109810991100110111021103110411051106110711081109111011111112111311141115111611171118111911201121112211231124112511261127112811291130113111321133113411351136113711381139114011411142114311441145114611471148114911501151115211531154115511561157115811591160116111621163116411651166116711681169117011711172117311741175117611771178117911801181118211831184118511861187118811891190119111921193119411951196119711981199120012011202120312041205120612071208120912101211121212131214121512161217121812191220122112221223122412251226122712281229123012311232123312341235123612371238123912401241124212431244124512461247124812491250125112521253125412551256125712581259126012611262126312641265126612671268126912701271127212731274127512761277127812791280128112821283128412851286128712881289129012911292129312941295129612971298129913001301130213031304130513061307130813091310131113121313131413151316131713181319132013211322132313241325132613271328132913301331133213331334133513361337133813391340134113421343134413451346134713481349135013511352135313541355135613571358135913601361136213631364136513661367136813691370137113721373137413751376137713781379138013811382138313841385138613871388138913901391139213931394139513961397139813991400140114021403140414051406140714081409141014111412141314141415141614171418141914201421142214231424142514261427142814291430143114321433143414351436143714381439144014411442144314441445144614471448144914501451145214531454145514561457145814591460146114621463146414651466146714681469147014711472147314741475147614771478147914801481148214831484148514861487148814891490149114921493149414951496149714981499150015011502150315041505150615071508150915101511151215131514151515161517151815191520152115221523152415251526152715281529153015311532153315341535153615371538153915401541154215431544154515461547154815491550155115521553155415551556155715581559156015611562156315641565156615671568156915701571157215731574157515761577157815791580158115821583158415851586158715881589159015911592159315941595159615971598159916001601160216031604160516061607160816091610161116121613161416151616161716181619162016211622162316241625162616271628162916301631163216331634163516361637163816391640164116421643164416451646164716481649165016511652165316541655165616571658165916601661166216631664166516661667166816691670167116721673167416751676167716781679168016811682168316841685168616871688168916901691169216931694169516961697169816991700170117021703170417051706170717081709171017111712171317141715171617171718171917201721172217231724172517261727172817291730173117321733173417351736173717381739174017411742174317441745174617471748174917501751175217531754175517561757175817591760176117621763176417651766176717681769177017711772177317741775177617771778177917801781178217831784178517861787178817891790179117921793179417951796179717981799180018011802180318041805180618071808180918101811181218131814181518161817181818191820182118221823182418251826182718281829183018311832183318341835183618371838183918401841184218431844184518461847184818491850185118521853185418551856185718581859186018611862186318641865186618671868186918701871187218731874187518761877187818791880188118821883188418851886188718881889189018911892189318941895189618971898189919001901190219031904190519061907190819091910191119121913191419151916191719181919192019211922192319241925192619271928192919301931193219331934193519361937193819391940194119421943194419451946194719481949195019511952195319541955195619571958195919601961196219631964196519661967196819691970197119721973197419751976197719781979198019811982198319841985198619871988198919901991199219931994199519961997199819992000200120022003200420052006200720082009201020112012201320142015201620172018201920202021202220232024202520262027202820292030203120322033203420352036203720382039204020412042204320442045204620472048204920502051205220532054205520562057205820592060206120622063206420652066206720682069207020712072207320742075207620772078207920802081208220832084208520862087208820892090209120922093209420952096209720982099210021012102210321042105210621072108210921102111211221132114211521162117211821192120212121222123212421252126212721282129213021312132213321342135213621372138213921402141214221432144214521462147214821492150215121522153215421552156215721582159216021612162216321642165216621672168216921702171217221732174217521762177217821792180218121822183218421852186218721882189219021912192219321942195219621972198219922002201220222032204220522062207220822092210221122122213221422152216221722182219222022212222222322242225222622272228222922302231223222332234223522362237223822392240224122422243224422452246224722482249225022512252225322542255225622572258225922602261226222632264226522662267# All resources definition must be declared---apiVersion: apiextensions.k8s.io/v1kind: CustomResourceDefinitionmetadata: annotations: controller-gen.kubebuilder.io/version: v0.6.2 creationTimestamp: null name: ingressroutes.traefik.containo.usspec: group: traefik.containo.us names: kind: IngressRoute listKind: IngressRouteList plural: ingressroutes singular: ingressroute scope: Namespaced versions: - name: v1alpha1 schema: openAPIV3Schema: description: IngressRoute is the CRD implementation of a Traefik HTTP Router. properties: apiVersion: description: &#x27;APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#x27; type: string kind: description: &#x27;Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#x27; type: string metadata: type: object spec: description: IngressRouteSpec defines the desired state of IngressRoute. properties: entryPoints: description: &#x27;EntryPoints defines the list of entry point names to bind to. Entry points have to be configured in the static configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/entrypoints/ Default: all.&#x27; items: type: string type: array routes: description: Routes defines the list of routes. items: description: Route holds the HTTP route configuration. properties: kind: description: Kind defines the kind of the route. Rule is the only supported kind. enum: - Rule type: string match: description: &#x27;Match defines the router&#x27;&#x27;s rule. More info: https://doc.traefik.io/traefik/v2.8/routing/routers/#rule&#x27; type: string middlewares: description: &#x27;Middlewares defines the list of references to Middleware resources. More info: https://doc.traefik.io/traefik/v2.8/routing/providers/kubernetes-crd/#kind-middleware&#x27; items: description: MiddlewareRef is a reference to a Middleware resource. properties: name: description: Name defines the name of the referenced Middleware resource. type: string namespace: description: Namespace defines the namespace of the referenced Middleware resource. type: string required: - name type: object type: array priority: description: &#x27;Priority defines the router&#x27;&#x27;s priority. More info: https://doc.traefik.io/traefik/v2.8/routing/routers/#priority&#x27; type: integer services: description: Services defines the list of Service. It can contain any combination of TraefikService and/or reference to a Kubernetes Service. items: description: Service defines an upstream HTTP service to proxy traffic to. properties: kind: description: Kind defines the kind of the Service. enum: - Service - TraefikService type: string name: description: Name defines the name of the referenced Kubernetes Service or TraefikService. The differentiation between the two is specified in the Kind field. type: string namespace: description: Namespace defines the namespace of the referenced Kubernetes Service or TraefikService. type: string passHostHeader: description: PassHostHeader defines whether the client Host header is forwarded to the upstream Kubernetes Service. By default, passHostHeader is true. type: boolean port: anyOf: - type: integer - type: string description: Port defines the port of a Kubernetes Service. This can be a reference to a named port. x-kubernetes-int-or-string: true responseForwarding: description: ResponseForwarding defines how Traefik forwards the response from the upstream Kubernetes Service to the client. properties: flushInterval: description: &#x27;FlushInterval defines the interval, in milliseconds, in between flushes to the client while copying the response body. A negative value means to flush immediately after each write to the client. This configuration is ignored when ReverseProxy recognizes a response as a streaming response; for such responses, writes are flushed to the client immediately. Default: 100ms&#x27; type: string type: object scheme: description: Scheme defines the scheme to use for the request to the upstream Kubernetes Service. It defaults to https when Kubernetes Service port is 443, http otherwise. type: string serversTransport: description: ServersTransport defines the name of ServersTransport resource to use. It allows to configure the transport between Traefik and your servers. Can only be used on a Kubernetes Service. type: string sticky: description: &#x27;Sticky defines the sticky sessions configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/services/#sticky-sessions&#x27; properties: cookie: description: Cookie defines the sticky cookie configuration. properties: httpOnly: description: HTTPOnly defines whether the cookie can be accessed by client-side APIs, such as JavaScript. type: boolean name: description: Name defines the Cookie name. type: string sameSite: description: &#x27;SameSite defines the same site policy. More info: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite&#x27; type: string secure: description: Secure defines whether the cookie can only be transmitted over an encrypted connection (i.e. HTTPS). type: boolean type: object type: object strategy: description: Strategy defines the load balancing strategy between the servers. RoundRobin is the only supported value at the moment. type: string weight: description: Weight defines the weight and should only be specified when Name references a TraefikService object (and to be precise, one that embeds a Weighted Round Robin). type: integer required: - name type: object type: array required: - kind - match type: object type: array tls: description: &#x27;TLS defines the TLS configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/routers/#tls&#x27; properties: certResolver: description: &#x27;CertResolver defines the name of the certificate resolver to use. Cert resolvers have to be configured in the static configuration. More info: https://doc.traefik.io/traefik/v2.8/https/acme/#certificate-resolvers&#x27; type: string domains: description: &#x27;Domains defines the list of domains that will be used to issue certificates. More info: https://doc.traefik.io/traefik/v2.8/routing/routers/#domains&#x27; items: description: Domain holds a domain name with SANs. properties: main: description: Main defines the main domain name. type: string sans: description: SANs defines the subject alternative domain names. items: type: string type: array type: object type: array options: description: &#x27;Options defines the reference to a TLSOption, that specifies the parameters of the TLS connection. If not defined, the `default` TLSOption is used. More info: https://doc.traefik.io/traefik/v2.8/https/tls/#tls-options&#x27; properties: name: description: &#x27;Name defines the name of the referenced TLSOption. More info: https://doc.traefik.io/traefik/v2.8/routing/providers/kubernetes-crd/#kind-tlsoption&#x27; type: string namespace: description: &#x27;Namespace defines the namespace of the referenced TLSOption. More info: https://doc.traefik.io/traefik/v2.8/routing/providers/kubernetes-crd/#kind-tlsoption&#x27; type: string required: - name type: object secretName: description: SecretName is the name of the referenced Kubernetes Secret to specify the certificate details. type: string store: description: Store defines the reference to the TLSStore, that will be used to store certificates. Please note that only `default` TLSStore can be used. properties: name: description: &#x27;Name defines the name of the referenced TLSStore. More info: https://doc.traefik.io/traefik/v2.8/routing/providers/kubernetes-crd/#kind-tlsstore&#x27; type: string namespace: description: &#x27;Namespace defines the namespace of the referenced TLSStore. More info: https://doc.traefik.io/traefik/v2.8/routing/providers/kubernetes-crd/#kind-tlsstore&#x27; type: string required: - name type: object type: object required: - routes type: object required: - metadata - spec type: object served: true storage: truestatus: acceptedNames: kind: &quot;&quot; plural: &quot;&quot; conditions: [] storedVersions: []---apiVersion: apiextensions.k8s.io/v1kind: CustomResourceDefinitionmetadata: annotations: controller-gen.kubebuilder.io/version: v0.6.2 creationTimestamp: null name: ingressroutetcps.traefik.containo.usspec: group: traefik.containo.us names: kind: IngressRouteTCP listKind: IngressRouteTCPList plural: ingressroutetcps singular: ingressroutetcp scope: Namespaced versions: - name: v1alpha1 schema: openAPIV3Schema: description: IngressRouteTCP is the CRD implementation of a Traefik TCP Router. properties: apiVersion: description: &#x27;APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#x27; type: string kind: description: &#x27;Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#x27; type: string metadata: type: object spec: description: IngressRouteTCPSpec defines the desired state of IngressRouteTCP. properties: entryPoints: description: &#x27;EntryPoints defines the list of entry point names to bind to. Entry points have to be configured in the static configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/entrypoints/ Default: all.&#x27; items: type: string type: array routes: description: Routes defines the list of routes. items: description: RouteTCP holds the TCP route configuration. properties: match: description: &#x27;Match defines the router&#x27;&#x27;s rule. More info: https://doc.traefik.io/traefik/v2.8/routing/routers/#rule_1&#x27; type: string middlewares: description: Middlewares defines the list of references to MiddlewareTCP resources. items: description: ObjectReference is a generic reference to a Traefik resource. properties: name: description: Name defines the name of the referenced Traefik resource. type: string namespace: description: Namespace defines the namespace of the referenced Traefik resource. type: string required: - name type: object type: array priority: description: &#x27;Priority defines the router&#x27;&#x27;s priority. More info: https://doc.traefik.io/traefik/v2.8/routing/routers/#priority_1&#x27; type: integer services: description: Services defines the list of TCP services. items: description: ServiceTCP defines an upstream TCP service to proxy traffic to. properties: name: description: Name defines the name of the referenced Kubernetes Service. type: string namespace: description: Namespace defines the namespace of the referenced Kubernetes Service. type: string port: anyOf: - type: integer - type: string description: Port defines the port of a Kubernetes Service. This can be a reference to a named port. x-kubernetes-int-or-string: true proxyProtocol: description: &#x27;ProxyProtocol defines the PROXY protocol configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/services/#proxy-protocol&#x27; properties: version: description: Version defines the PROXY Protocol version to use. type: integer type: object terminationDelay: description: TerminationDelay defines the deadline that the proxy sets, after one of its connected peers indicates it has closed the writing capability of its connection, to close the reading capability as well, hence fully terminating the connection. It is a duration in milliseconds, defaulting to 100. A negative value means an infinite deadline (i.e. the reading capability is never closed). type: integer weight: description: Weight defines the weight used when balancing requests between multiple Kubernetes Service. type: integer required: - name - port type: object type: array required: - match type: object type: array tls: description: &#x27;TLS defines the TLS configuration on a layer 4 / TCP Route. More info: https://doc.traefik.io/traefik/v2.8/routing/routers/#tls_1&#x27; properties: certResolver: description: &#x27;CertResolver defines the name of the certificate resolver to use. Cert resolvers have to be configured in the static configuration. More info: https://doc.traefik.io/traefik/v2.8/https/acme/#certificate-resolvers&#x27; type: string domains: description: &#x27;Domains defines the list of domains that will be used to issue certificates. More info: https://doc.traefik.io/traefik/v2.8/routing/routers/#domains&#x27; items: description: Domain holds a domain name with SANs. properties: main: description: Main defines the main domain name. type: string sans: description: SANs defines the subject alternative domain names. items: type: string type: array type: object type: array options: description: &#x27;Options defines the reference to a TLSOption, that specifies the parameters of the TLS connection. If not defined, the `default` TLSOption is used. More info: https://doc.traefik.io/traefik/v2.8/https/tls/#tls-options&#x27; properties: name: description: Name defines the name of the referenced Traefik resource. type: string namespace: description: Namespace defines the namespace of the referenced Traefik resource. type: string required: - name type: object passthrough: description: Passthrough defines whether a TLS router will terminate the TLS connection. type: boolean secretName: description: SecretName is the name of the referenced Kubernetes Secret to specify the certificate details. type: string store: description: Store defines the reference to the TLSStore, that will be used to store certificates. Please note that only `default` TLSStore can be used. properties: name: description: Name defines the name of the referenced Traefik resource. type: string namespace: description: Namespace defines the namespace of the referenced Traefik resource. type: string required: - name type: object type: object required: - routes type: object required: - metadata - spec type: object served: true storage: truestatus: acceptedNames: kind: &quot;&quot; plural: &quot;&quot; conditions: [] storedVersions: []---apiVersion: apiextensions.k8s.io/v1kind: CustomResourceDefinitionmetadata: annotations: controller-gen.kubebuilder.io/version: v0.6.2 creationTimestamp: null name: ingressrouteudps.traefik.containo.usspec: group: traefik.containo.us names: kind: IngressRouteUDP listKind: IngressRouteUDPList plural: ingressrouteudps singular: ingressrouteudp scope: Namespaced versions: - name: v1alpha1 schema: openAPIV3Schema: description: IngressRouteUDP is a CRD implementation of a Traefik UDP Router. properties: apiVersion: description: &#x27;APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#x27; type: string kind: description: &#x27;Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#x27; type: string metadata: type: object spec: description: IngressRouteUDPSpec defines the desired state of a IngressRouteUDP. properties: entryPoints: description: &#x27;EntryPoints defines the list of entry point names to bind to. Entry points have to be configured in the static configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/entrypoints/ Default: all.&#x27; items: type: string type: array routes: description: Routes defines the list of routes. items: description: RouteUDP holds the UDP route configuration. properties: services: description: Services defines the list of UDP services. items: description: ServiceUDP defines an upstream UDP service to proxy traffic to. properties: name: description: Name defines the name of the referenced Kubernetes Service. type: string namespace: description: Namespace defines the namespace of the referenced Kubernetes Service. type: string port: anyOf: - type: integer - type: string description: Port defines the port of a Kubernetes Service. This can be a reference to a named port. x-kubernetes-int-or-string: true weight: description: Weight defines the weight used when balancing requests between multiple Kubernetes Service. type: integer required: - name - port type: object type: array type: object type: array required: - routes type: object required: - metadata - spec type: object served: true storage: truestatus: acceptedNames: kind: &quot;&quot; plural: &quot;&quot; conditions: [] storedVersions: []---apiVersion: apiextensions.k8s.io/v1kind: CustomResourceDefinitionmetadata: annotations: controller-gen.kubebuilder.io/version: v0.6.2 creationTimestamp: null name: middlewares.traefik.containo.usspec: group: traefik.containo.us names: kind: Middleware listKind: MiddlewareList plural: middlewares singular: middleware scope: Namespaced versions: - name: v1alpha1 schema: openAPIV3Schema: description: &#x27;Middleware is the CRD implementation of a Traefik Middleware. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/overview/&#x27; properties: apiVersion: description: &#x27;APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#x27; type: string kind: description: &#x27;Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#x27; type: string metadata: type: object spec: description: MiddlewareSpec defines the desired state of a Middleware. properties: addPrefix: description: &#x27;AddPrefix holds the add prefix middleware configuration. This middleware updates the path of a request before forwarding it. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/addprefix/&#x27; properties: prefix: description: Prefix is the string to add before the current path in the requested URL. It should include a leading slash (/). type: string type: object basicAuth: description: &#x27;BasicAuth holds the basic auth middleware configuration. This middleware restricts access to your services to known users. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/basicauth/&#x27; properties: headerField: description: &#x27;HeaderField defines a header field to store the authenticated user. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/basicauth/#headerfield&#x27; type: string realm: description: &#x27;Realm allows the protected resources on a server to be partitioned into a set of protection spaces, each with its own authentication scheme. Default: traefik.&#x27; type: string removeHeader: description: &#x27;RemoveHeader sets the removeHeader option to true to remove the authorization header before forwarding the request to your service. Default: false.&#x27; type: boolean secret: description: Secret is the name of the referenced Kubernetes Secret containing user credentials. type: string type: object buffering: description: &#x27;Buffering holds the buffering middleware configuration. This middleware retries or limits the size of requests that can be forwarded to backends. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/buffering/#maxrequestbodybytes&#x27; properties: maxRequestBodyBytes: description: &#x27;MaxRequestBodyBytes defines the maximum allowed body size for the request (in bytes). If the request exceeds the allowed size, it is not forwarded to the service, and the client gets a 413 (Request Entity Too Large) response. Default: 0 (no maximum).&#x27; format: int64 type: integer maxResponseBodyBytes: description: &#x27;MaxResponseBodyBytes defines the maximum allowed response size from the service (in bytes). If the response exceeds the allowed size, it is not forwarded to the client. The client gets a 500 (Internal Server Error) response instead. Default: 0 (no maximum).&#x27; format: int64 type: integer memRequestBodyBytes: description: &#x27;MemRequestBodyBytes defines the threshold (in bytes) from which the request will be buffered on disk instead of in memory. Default: 1048576 (1Mi).&#x27; format: int64 type: integer memResponseBodyBytes: description: &#x27;MemResponseBodyBytes defines the threshold (in bytes) from which the response will be buffered on disk instead of in memory. Default: 1048576 (1Mi).&#x27; format: int64 type: integer retryExpression: description: &#x27;RetryExpression defines the retry conditions. It is a logical combination of functions with operators AND (&amp;&amp;) and OR (||). More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/buffering/#retryexpression&#x27; type: string type: object chain: description: &#x27;Chain holds the configuration of the chain middleware. This middleware enables to define reusable combinations of other pieces of middleware. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/chain/&#x27; properties: middlewares: description: Middlewares is the list of MiddlewareRef which composes the chain. items: description: MiddlewareRef is a reference to a Middleware resource. properties: name: description: Name defines the name of the referenced Middleware resource. type: string namespace: description: Namespace defines the namespace of the referenced Middleware resource. type: string required: - name type: object type: array type: object circuitBreaker: description: CircuitBreaker holds the circuit breaker configuration. properties: checkPeriod: anyOf: - type: integer - type: string description: CheckPeriod is the interval between successive checks of the circuit breaker condition (when in standby state). x-kubernetes-int-or-string: true expression: description: Expression is the condition that triggers the tripped state. type: string fallbackDuration: anyOf: - type: integer - type: string description: FallbackDuration is the duration for which the circuit breaker will wait before trying to recover (from a tripped state). x-kubernetes-int-or-string: true recoveryDuration: anyOf: - type: integer - type: string description: RecoveryDuration is the duration for which the circuit breaker will try to recover (as soon as it is in recovering state). x-kubernetes-int-or-string: true type: object compress: description: &#x27;Compress holds the compress middleware configuration. This middleware compresses responses before sending them to the client, using gzip compression. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/compress/&#x27; properties: excludedContentTypes: description: ExcludedContentTypes defines the list of content types to compare the Content-Type header of the incoming requests and responses before compressing. items: type: string type: array minResponseBodyBytes: description: &#x27;MinResponseBodyBytes defines the minimum amount of bytes a response body must have to be compressed. Default: 1024.&#x27; type: integer type: object contentType: description: ContentType holds the content-type middleware configuration. This middleware exists to enable the correct behavior until at least the default one can be changed in a future version. properties: autoDetect: description: AutoDetect specifies whether to let the `Content-Type` header, if it has not been set by the backend, be automatically set to a value derived from the contents of the response. As a proxy, the default behavior should be to leave the header alone, regardless of what the backend did with it. However, the historic default was to always auto-detect and set the header if it was nil, and it is going to be kept that way in order to support users currently relying on it. type: boolean type: object digestAuth: description: &#x27;DigestAuth holds the digest auth middleware configuration. This middleware restricts access to your services to known users. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/digestauth/&#x27; properties: headerField: description: &#x27;HeaderField defines a header field to store the authenticated user. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/basicauth/#headerfield&#x27; type: string realm: description: &#x27;Realm allows the protected resources on a server to be partitioned into a set of protection spaces, each with its own authentication scheme. Default: traefik.&#x27; type: string removeHeader: description: RemoveHeader defines whether to remove the authorization header before forwarding the request to the backend. type: boolean secret: description: Secret is the name of the referenced Kubernetes Secret containing user credentials. type: string type: object errors: description: &#x27;ErrorPage holds the custom error middleware configuration. This middleware returns a custom page in lieu of the default, according to configured ranges of HTTP Status codes. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/errorpages/&#x27; properties: query: description: Query defines the URL for the error page (hosted by service). The &#123;status&#125; variable can be used in order to insert the status code in the URL. type: string service: description: &#x27;Service defines the reference to a Kubernetes Service that will serve the error page. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/errorpages/#service&#x27; properties: kind: description: Kind defines the kind of the Service. enum: - Service - TraefikService type: string name: description: Name defines the name of the referenced Kubernetes Service or TraefikService. The differentiation between the two is specified in the Kind field. type: string namespace: description: Namespace defines the namespace of the referenced Kubernetes Service or TraefikService. type: string passHostHeader: description: PassHostHeader defines whether the client Host header is forwarded to the upstream Kubernetes Service. By default, passHostHeader is true. type: boolean port: anyOf: - type: integer - type: string description: Port defines the port of a Kubernetes Service. This can be a reference to a named port. x-kubernetes-int-or-string: true responseForwarding: description: ResponseForwarding defines how Traefik forwards the response from the upstream Kubernetes Service to the client. properties: flushInterval: description: &#x27;FlushInterval defines the interval, in milliseconds, in between flushes to the client while copying the response body. A negative value means to flush immediately after each write to the client. This configuration is ignored when ReverseProxy recognizes a response as a streaming response; for such responses, writes are flushed to the client immediately. Default: 100ms&#x27; type: string type: object scheme: description: Scheme defines the scheme to use for the request to the upstream Kubernetes Service. It defaults to https when Kubernetes Service port is 443, http otherwise. type: string serversTransport: description: ServersTransport defines the name of ServersTransport resource to use. It allows to configure the transport between Traefik and your servers. Can only be used on a Kubernetes Service. type: string sticky: description: &#x27;Sticky defines the sticky sessions configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/services/#sticky-sessions&#x27; properties: cookie: description: Cookie defines the sticky cookie configuration. properties: httpOnly: description: HTTPOnly defines whether the cookie can be accessed by client-side APIs, such as JavaScript. type: boolean name: description: Name defines the Cookie name. type: string sameSite: description: &#x27;SameSite defines the same site policy. More info: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite&#x27; type: string secure: description: Secure defines whether the cookie can only be transmitted over an encrypted connection (i.e. HTTPS). type: boolean type: object type: object strategy: description: Strategy defines the load balancing strategy between the servers. RoundRobin is the only supported value at the moment. type: string weight: description: Weight defines the weight and should only be specified when Name references a TraefikService object (and to be precise, one that embeds a Weighted Round Robin). type: integer required: - name type: object status: description: Status defines which status or range of statuses should result in an error page. It can be either a status code as a number (500), as multiple comma-separated numbers (500,502), as ranges by separating two codes with a dash (500-599), or a combination of the two (404,418,500-599). items: type: string type: array type: object forwardAuth: description: &#x27;ForwardAuth holds the forward auth middleware configuration. This middleware delegates the request authentication to a Service. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/forwardauth/&#x27; properties: address: description: Address defines the authentication server address. type: string authRequestHeaders: description: AuthRequestHeaders defines the list of the headers to copy from the request to the authentication server. If not set or empty then all request headers are passed. items: type: string type: array authResponseHeaders: description: AuthResponseHeaders defines the list of headers to copy from the authentication server response and set on forwarded request, replacing any existing conflicting headers. items: type: string type: array authResponseHeadersRegex: description: &#x27;AuthResponseHeadersRegex defines the regex to match headers to copy from the authentication server response and set on forwarded request, after stripping all headers that match the regex. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/forwardauth/#authresponseheadersregex&#x27; type: string tls: description: TLS defines the configuration used to secure the connection to the authentication server. properties: caOptional: type: boolean caSecret: description: CASecret is the name of the referenced Kubernetes Secret containing the CA to validate the server certificate. The CA certificate is extracted from key `tls.ca` or `ca.crt`. type: string certSecret: description: CertSecret is the name of the referenced Kubernetes Secret containing the client certificate. The client certificate is extracted from the keys `tls.crt` and `tls.key`. type: string insecureSkipVerify: description: InsecureSkipVerify defines whether the server certificates should be validated. type: boolean type: object trustForwardHeader: description: &#x27;TrustForwardHeader defines whether to trust (ie: forward) all X-Forwarded-* headers.&#x27; type: boolean type: object headers: description: &#x27;Headers holds the headers middleware configuration. This middleware manages the requests and responses headers. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/headers/#customrequestheaders&#x27; properties: accessControlAllowCredentials: description: AccessControlAllowCredentials defines whether the request can include user credentials. type: boolean accessControlAllowHeaders: description: AccessControlAllowHeaders defines the Access-Control-Request-Headers values sent in preflight response. items: type: string type: array accessControlAllowMethods: description: AccessControlAllowMethods defines the Access-Control-Request-Method values sent in preflight response. items: type: string type: array accessControlAllowOriginList: description: AccessControlAllowOriginList is a list of allowable origins. Can also be a wildcard origin &quot;*&quot;. items: type: string type: array accessControlAllowOriginListRegex: description: AccessControlAllowOriginListRegex is a list of allowable origins written following the Regular Expression syntax (https://golang.org/pkg/regexp/). items: type: string type: array accessControlExposeHeaders: description: AccessControlExposeHeaders defines the Access-Control-Expose-Headers values sent in preflight response. items: type: string type: array accessControlMaxAge: description: AccessControlMaxAge defines the time that a preflight request may be cached. format: int64 type: integer addVaryHeader: description: AddVaryHeader defines whether the Vary header is automatically added/updated when the AccessControlAllowOriginList is set. type: boolean allowedHosts: description: AllowedHosts defines the fully qualified list of allowed domain names. items: type: string type: array browserXssFilter: description: BrowserXSSFilter defines whether to add the X-XSS-Protection header with the value 1; mode=block. type: boolean contentSecurityPolicy: description: ContentSecurityPolicy defines the Content-Security-Policy header value. type: string contentTypeNosniff: description: ContentTypeNosniff defines whether to add the X-Content-Type-Options header with the nosniff value. type: boolean customBrowserXSSValue: description: CustomBrowserXSSValue defines the X-XSS-Protection header value. This overrides the BrowserXssFilter option. type: string customFrameOptionsValue: description: CustomFrameOptionsValue defines the X-Frame-Options header value. This overrides the FrameDeny option. type: string customRequestHeaders: additionalProperties: type: string description: CustomRequestHeaders defines the header names and values to apply to the request. type: object customResponseHeaders: additionalProperties: type: string description: CustomResponseHeaders defines the header names and values to apply to the response. type: object featurePolicy: description: &#x27;Deprecated: use PermissionsPolicy instead.&#x27; type: string forceSTSHeader: description: ForceSTSHeader defines whether to add the STS header even when the connection is HTTP. type: boolean frameDeny: description: FrameDeny defines whether to add the X-Frame-Options header with the DENY value. type: boolean hostsProxyHeaders: description: HostsProxyHeaders defines the header keys that may hold a proxied hostname value for the request. items: type: string type: array isDevelopment: description: IsDevelopment defines whether to mitigate the unwanted effects of the AllowedHosts, SSL, and STS options when developing. Usually testing takes place using HTTP, not HTTPS, and on localhost, not your production domain. If you would like your development environment to mimic production with complete Host blocking, SSL redirects, and STS headers, leave this as false. type: boolean permissionsPolicy: description: PermissionsPolicy defines the Permissions-Policy header value. This allows sites to control browser features. type: string publicKey: description: PublicKey is the public key that implements HPKP to prevent MITM attacks with forged certificates. type: string referrerPolicy: description: ReferrerPolicy defines the Referrer-Policy header value. This allows sites to control whether browsers forward the Referer header to other sites. type: string sslForceHost: description: &#x27;Deprecated: use RedirectRegex instead.&#x27; type: boolean sslHost: description: &#x27;Deprecated: use RedirectRegex instead.&#x27; type: string sslProxyHeaders: additionalProperties: type: string description: &#x27;SSLProxyHeaders defines the header keys with associated values that would indicate a valid HTTPS request. It can be useful when using other proxies (example: &quot;X-Forwarded-Proto&quot;: &quot;https&quot;).&#x27; type: object sslRedirect: description: &#x27;Deprecated: use EntryPoint redirection or RedirectScheme instead.&#x27; type: boolean sslTemporaryRedirect: description: &#x27;Deprecated: use EntryPoint redirection or RedirectScheme instead.&#x27; type: boolean stsIncludeSubdomains: description: STSIncludeSubdomains defines whether the includeSubDomains directive is appended to the Strict-Transport-Security header. type: boolean stsPreload: description: STSPreload defines whether the preload flag is appended to the Strict-Transport-Security header. type: boolean stsSeconds: description: STSSeconds defines the max-age of the Strict-Transport-Security header. If set to 0, the header is not set. format: int64 type: integer type: object inFlightReq: description: &#x27;InFlightReq holds the in-flight request middleware configuration. This middleware limits the number of requests being processed and served concurrently. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/inflightreq/&#x27; properties: amount: description: Amount defines the maximum amount of allowed simultaneous in-flight request. The middleware responds with HTTP 429 Too Many Requests if there are already amount requests in progress (based on the same sourceCriterion strategy). format: int64 type: integer sourceCriterion: description: &#x27;SourceCriterion defines what criterion is used to group requests as originating from a common source. If several strategies are defined at the same time, an error will be raised. If none are set, the default is to use the requestHost. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/inflightreq/#sourcecriterion&#x27; properties: ipStrategy: description: &#x27;IPStrategy holds the IP strategy configuration used by Traefik to determine the client IP. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/ipwhitelist/#ipstrategy&#x27; properties: depth: description: Depth tells Traefik to use the X-Forwarded-For header and take the IP located at the depth position (starting from the right). type: integer excludedIPs: description: ExcludedIPs configures Traefik to scan the X-Forwarded-For header and select the first IP not in the list. items: type: string type: array type: object requestHeaderName: description: RequestHeaderName defines the name of the header used to group incoming requests. type: string requestHost: description: RequestHost defines whether to consider the request Host as the source. type: boolean type: object type: object ipWhiteList: description: &#x27;IPWhiteList holds the IP whitelist middleware configuration. This middleware accepts / refuses requests based on the client IP. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/ipwhitelist/&#x27; properties: ipStrategy: description: &#x27;IPStrategy holds the IP strategy configuration used by Traefik to determine the client IP. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/ipwhitelist/#ipstrategy&#x27; properties: depth: description: Depth tells Traefik to use the X-Forwarded-For header and take the IP located at the depth position (starting from the right). type: integer excludedIPs: description: ExcludedIPs configures Traefik to scan the X-Forwarded-For header and select the first IP not in the list. items: type: string type: array type: object sourceRange: description: SourceRange defines the set of allowed IPs (or ranges of allowed IPs by using CIDR notation). items: type: string type: array type: object passTLSClientCert: description: &#x27;PassTLSClientCert holds the pass TLS client cert middleware configuration. This middleware adds the selected data from the passed client TLS certificate to a header. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/passtlsclientcert/&#x27; properties: info: description: Info selects the specific client certificate details you want to add to the X-Forwarded-Tls-Client-Cert-Info header. properties: issuer: description: Issuer defines the client certificate issuer details to add to the X-Forwarded-Tls-Client-Cert-Info header. properties: commonName: description: CommonName defines whether to add the organizationalUnit information into the issuer. type: boolean country: description: Country defines whether to add the country information into the issuer. type: boolean domainComponent: description: DomainComponent defines whether to add the domainComponent information into the issuer. type: boolean locality: description: Locality defines whether to add the locality information into the issuer. type: boolean organization: description: Organization defines whether to add the organization information into the issuer. type: boolean province: description: Province defines whether to add the province information into the issuer. type: boolean serialNumber: description: SerialNumber defines whether to add the serialNumber information into the issuer. type: boolean type: object notAfter: description: NotAfter defines whether to add the Not After information from the Validity part. type: boolean notBefore: description: NotBefore defines whether to add the Not Before information from the Validity part. type: boolean sans: description: Sans defines whether to add the Subject Alternative Name information from the Subject Alternative Name part. type: boolean serialNumber: description: SerialNumber defines whether to add the client serialNumber information. type: boolean subject: description: Subject defines the client certificate subject details to add to the X-Forwarded-Tls-Client-Cert-Info header. properties: commonName: description: CommonName defines whether to add the organizationalUnit information into the subject. type: boolean country: description: Country defines whether to add the country information into the subject. type: boolean domainComponent: description: DomainComponent defines whether to add the domainComponent information into the subject. type: boolean locality: description: Locality defines whether to add the locality information into the subject. type: boolean organization: description: Organization defines whether to add the organization information into the subject. type: boolean organizationalUnit: description: OrganizationalUnit defines whether to add the organizationalUnit information into the subject. type: boolean province: description: Province defines whether to add the province information into the subject. type: boolean serialNumber: description: SerialNumber defines whether to add the serialNumber information into the subject. type: boolean type: object type: object pem: description: PEM sets the X-Forwarded-Tls-Client-Cert header with the escaped certificate. type: boolean type: object plugin: additionalProperties: x-kubernetes-preserve-unknown-fields: true description: &#x27;Plugin defines the middleware plugin configuration. More info: https://doc.traefik.io/traefik/plugins/&#x27; type: object rateLimit: description: &#x27;RateLimit holds the rate limit configuration. This middleware ensures that services will receive a fair amount of requests, and allows one to define what fair is. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/ratelimit/&#x27; properties: average: description: Average is the maximum rate, by default in requests/s, allowed for the given source. It defaults to 0, which means no rate limiting. The rate is actually defined by dividing Average by Period. So for a rate below 1req/s, one needs to define a Period larger than a second. format: int64 type: integer burst: description: Burst is the maximum number of requests allowed to arrive in the same arbitrarily small period of time. It defaults to 1. format: int64 type: integer period: anyOf: - type: integer - type: string description: &#x27;Period, in combination with Average, defines the actual maximum rate, such as: r = Average / Period. It defaults to a second.&#x27; x-kubernetes-int-or-string: true sourceCriterion: description: SourceCriterion defines what criterion is used to group requests as originating from a common source. If several strategies are defined at the same time, an error will be raised. If none are set, the default is to use the request&#x27;s remote address field (as an ipStrategy). properties: ipStrategy: description: &#x27;IPStrategy holds the IP strategy configuration used by Traefik to determine the client IP. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/ipwhitelist/#ipstrategy&#x27; properties: depth: description: Depth tells Traefik to use the X-Forwarded-For header and take the IP located at the depth position (starting from the right). type: integer excludedIPs: description: ExcludedIPs configures Traefik to scan the X-Forwarded-For header and select the first IP not in the list. items: type: string type: array type: object requestHeaderName: description: RequestHeaderName defines the name of the header used to group incoming requests. type: string requestHost: description: RequestHost defines whether to consider the request Host as the source. type: boolean type: object type: object redirectRegex: description: &#x27;RedirectRegex holds the redirect regex middleware configuration. This middleware redirects a request using regex matching and replacement. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/redirectregex/#regex&#x27; properties: permanent: description: Permanent defines whether the redirection is permanent (301). type: boolean regex: description: Regex defines the regex used to match and capture elements from the request URL. type: string replacement: description: Replacement defines how to modify the URL to have the new target URL. type: string type: object redirectScheme: description: &#x27;RedirectScheme holds the redirect scheme middleware configuration. This middleware redirects requests from a scheme/port to another. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/redirectscheme/&#x27; properties: permanent: description: Permanent defines whether the redirection is permanent (301). type: boolean port: description: Port defines the port of the new URL. type: string scheme: description: Scheme defines the scheme of the new URL. type: string type: object replacePath: description: &#x27;ReplacePath holds the replace path middleware configuration. This middleware replaces the path of the request URL and store the original path in an X-Replaced-Path header. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/replacepath/&#x27; properties: path: description: Path defines the path to use as replacement in the request URL. type: string type: object replacePathRegex: description: &#x27;ReplacePathRegex holds the replace path regex middleware configuration. This middleware replaces the path of a URL using regex matching and replacement. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/replacepathregex/&#x27; properties: regex: description: Regex defines the regular expression used to match and capture the path from the request URL. type: string replacement: description: Replacement defines the replacement path format, which can include captured variables. type: string type: object retry: description: &#x27;Retry holds the retry middleware configuration. This middleware reissues requests a given number of times to a backend server if that server does not reply. As soon as the server answers, the middleware stops retrying, regardless of the response status. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/retry/&#x27; properties: attempts: description: Attempts defines how many times the request should be retried. type: integer initialInterval: anyOf: - type: integer - type: string description: InitialInterval defines the first wait time in the exponential backoff series. The maximum interval is calculated as twice the initialInterval. If unspecified, requests will be retried immediately. The value of initialInterval should be provided in seconds or as a valid duration format, see https://pkg.go.dev/time#ParseDuration. x-kubernetes-int-or-string: true type: object stripPrefix: description: &#x27;StripPrefix holds the strip prefix middleware configuration. This middleware removes the specified prefixes from the URL path. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/stripprefix/&#x27; properties: forceSlash: description: &#x27;ForceSlash ensures that the resulting stripped path is not the empty string, by replacing it with / when necessary. Default: true.&#x27; type: boolean prefixes: description: Prefixes defines the prefixes to strip from the request URL. items: type: string type: array type: object stripPrefixRegex: description: &#x27;StripPrefixRegex holds the strip prefix regex middleware configuration. This middleware removes the matching prefixes from the URL path. More info: https://doc.traefik.io/traefik/v2.8/middlewares/http/stripprefixregex/&#x27; properties: regex: description: Regex defines the regular expression to match the path prefix from the request URL. items: type: string type: array type: object type: object required: - metadata - spec type: object served: true storage: truestatus: acceptedNames: kind: &quot;&quot; plural: &quot;&quot; conditions: [] storedVersions: []---apiVersion: apiextensions.k8s.io/v1kind: CustomResourceDefinitionmetadata: annotations: controller-gen.kubebuilder.io/version: v0.6.2 creationTimestamp: null name: middlewaretcps.traefik.containo.usspec: group: traefik.containo.us names: kind: MiddlewareTCP listKind: MiddlewareTCPList plural: middlewaretcps singular: middlewaretcp scope: Namespaced versions: - name: v1alpha1 schema: openAPIV3Schema: description: &#x27;MiddlewareTCP is the CRD implementation of a Traefik TCP middleware. More info: https://doc.traefik.io/traefik/v2.8/middlewares/overview/&#x27; properties: apiVersion: description: &#x27;APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#x27; type: string kind: description: &#x27;Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#x27; type: string metadata: type: object spec: description: MiddlewareTCPSpec defines the desired state of a MiddlewareTCP. properties: inFlightConn: description: InFlightConn defines the InFlightConn middleware configuration. properties: amount: description: Amount defines the maximum amount of allowed simultaneous connections. The middleware closes the connection if there are already amount connections opened. format: int64 type: integer type: object ipWhiteList: description: IPWhiteList defines the IPWhiteList middleware configuration. properties: sourceRange: description: SourceRange defines the allowed IPs (or ranges of allowed IPs by using CIDR notation). items: type: string type: array type: object type: object required: - metadata - spec type: object served: true storage: truestatus: acceptedNames: kind: &quot;&quot; plural: &quot;&quot; conditions: [] storedVersions: []---apiVersion: apiextensions.k8s.io/v1kind: CustomResourceDefinitionmetadata: annotations: controller-gen.kubebuilder.io/version: v0.6.2 creationTimestamp: null name: serverstransports.traefik.containo.usspec: group: traefik.containo.us names: kind: ServersTransport listKind: ServersTransportList plural: serverstransports singular: serverstransport scope: Namespaced versions: - name: v1alpha1 schema: openAPIV3Schema: description: &#x27;ServersTransport is the CRD implementation of a ServersTransport. If no serversTransport is specified, the default@internal will be used. The default@internal serversTransport is created from the static configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/services/#serverstransport_1&#x27; properties: apiVersion: description: &#x27;APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#x27; type: string kind: description: &#x27;Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#x27; type: string metadata: type: object spec: description: ServersTransportSpec defines the desired state of a ServersTransport. properties: certificatesSecrets: description: CertificatesSecrets defines a list of secret storing client certificates for mTLS. items: type: string type: array disableHTTP2: description: DisableHTTP2 disables HTTP/2 for connections with backend servers. type: boolean forwardingTimeouts: description: ForwardingTimeouts defines the timeouts for requests forwarded to the backend servers. properties: dialTimeout: anyOf: - type: integer - type: string description: DialTimeout is the amount of time to wait until a connection to a backend server can be established. x-kubernetes-int-or-string: true idleConnTimeout: anyOf: - type: integer - type: string description: IdleConnTimeout is the maximum period for which an idle HTTP keep-alive connection will remain open before closing itself. x-kubernetes-int-or-string: true pingTimeout: anyOf: - type: integer - type: string description: PingTimeout is the timeout after which the HTTP/2 connection will be closed if a response to ping is not received. x-kubernetes-int-or-string: true readIdleTimeout: anyOf: - type: integer - type: string description: ReadIdleTimeout is the timeout after which a health check using ping frame will be carried out if no frame is received on the HTTP/2 connection. x-kubernetes-int-or-string: true responseHeaderTimeout: anyOf: - type: integer - type: string description: ResponseHeaderTimeout is the amount of time to wait for a server&#x27;s response headers after fully writing the request (including its body, if any). x-kubernetes-int-or-string: true type: object insecureSkipVerify: description: InsecureSkipVerify disables SSL certificate verification. type: boolean maxIdleConnsPerHost: description: MaxIdleConnsPerHost controls the maximum idle (keep-alive) to keep per-host. type: integer peerCertURI: description: PeerCertURI defines the peer cert URI used to match against SAN URI during the peer certificate verification. type: string rootCAsSecrets: description: RootCAsSecrets defines a list of CA secret used to validate self-signed certificate. items: type: string type: array serverName: description: ServerName defines the server name used to contact the server. type: string type: object required: - metadata - spec type: object served: true storage: truestatus: acceptedNames: kind: &quot;&quot; plural: &quot;&quot; conditions: [] storedVersions: []---apiVersion: apiextensions.k8s.io/v1kind: CustomResourceDefinitionmetadata: annotations: controller-gen.kubebuilder.io/version: v0.6.2 creationTimestamp: null name: tlsoptions.traefik.containo.usspec: group: traefik.containo.us names: kind: TLSOption listKind: TLSOptionList plural: tlsoptions singular: tlsoption scope: Namespaced versions: - name: v1alpha1 schema: openAPIV3Schema: description: &#x27;TLSOption is the CRD implementation of a Traefik TLS Option, allowing to configure some parameters of the TLS connection. More info: https://doc.traefik.io/traefik/v2.8/https/tls/#tls-options&#x27; properties: apiVersion: description: &#x27;APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#x27; type: string kind: description: &#x27;Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#x27; type: string metadata: type: object spec: description: TLSOptionSpec defines the desired state of a TLSOption. properties: alpnProtocols: description: &#x27;ALPNProtocols defines the list of supported application level protocols for the TLS handshake, in order of preference. More info: https://doc.traefik.io/traefik/v2.8/https/tls/#alpn-protocols&#x27; items: type: string type: array cipherSuites: description: &#x27;CipherSuites defines the list of supported cipher suites for TLS versions up to TLS 1.2. More info: https://doc.traefik.io/traefik/v2.8/https/tls/#cipher-suites&#x27; items: type: string type: array clientAuth: description: ClientAuth defines the server&#x27;s policy for TLS Client Authentication. properties: clientAuthType: description: ClientAuthType defines the client authentication type to apply. enum: - NoClientCert - RequestClientCert - RequireAnyClientCert - VerifyClientCertIfGiven - RequireAndVerifyClientCert type: string secretNames: description: SecretNames defines the names of the referenced Kubernetes Secret storing certificate details. items: type: string type: array type: object curvePreferences: description: &#x27;CurvePreferences defines the preferred elliptic curves in a specific order. More info: https://doc.traefik.io/traefik/v2.8/https/tls/#curve-preferences&#x27; items: type: string type: array maxVersion: description: &#x27;MaxVersion defines the maximum TLS version that Traefik will accept. Possible values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13. Default: None.&#x27; type: string minVersion: description: &#x27;MinVersion defines the minimum TLS version that Traefik will accept. Possible values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13. Default: VersionTLS10.&#x27; type: string preferServerCipherSuites: description: &#x27;PreferServerCipherSuites defines whether the server chooses a cipher suite among his own instead of among the client&#x27;&#x27;s. It is enabled automatically when minVersion or maxVersion is set. Deprecated: https://github.com/golang/go/issues/45430&#x27; type: boolean sniStrict: description: SniStrict defines whether Traefik allows connections from clients connections that do not specify a server_name extension. type: boolean type: object required: - metadata - spec type: object served: true storage: truestatus: acceptedNames: kind: &quot;&quot; plural: &quot;&quot; conditions: [] storedVersions: []---apiVersion: apiextensions.k8s.io/v1kind: CustomResourceDefinitionmetadata: annotations: controller-gen.kubebuilder.io/version: v0.6.2 creationTimestamp: null name: tlsstores.traefik.containo.usspec: group: traefik.containo.us names: kind: TLSStore listKind: TLSStoreList plural: tlsstores singular: tlsstore scope: Namespaced versions: - name: v1alpha1 schema: openAPIV3Schema: description: &#x27;TLSStore is the CRD implementation of a Traefik TLS Store. For the time being, only the TLSStore named default is supported. This means that you cannot have two stores that are named default in different Kubernetes namespaces. More info: https://doc.traefik.io/traefik/v2.8/https/tls/#certificates-stores&#x27; properties: apiVersion: description: &#x27;APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#x27; type: string kind: description: &#x27;Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#x27; type: string metadata: type: object spec: description: TLSStoreSpec defines the desired state of a TLSStore. properties: certificates: description: Certificates is a list of secret names, each secret holding a key/certificate pair to add to the store. items: description: Certificate holds a secret name for the TLSStore resource. properties: secretName: description: SecretName is the name of the referenced Kubernetes Secret to specify the certificate details. type: string required: - secretName type: object type: array defaultCertificate: description: DefaultCertificate defines the default certificate configuration. properties: secretName: description: SecretName is the name of the referenced Kubernetes Secret to specify the certificate details. type: string required: - secretName type: object type: object required: - metadata - spec type: object served: true storage: truestatus: acceptedNames: kind: &quot;&quot; plural: &quot;&quot; conditions: [] storedVersions: []---apiVersion: apiextensions.k8s.io/v1kind: CustomResourceDefinitionmetadata: annotations: controller-gen.kubebuilder.io/version: v0.6.2 creationTimestamp: null name: traefikservices.traefik.containo.usspec: group: traefik.containo.us names: kind: TraefikService listKind: TraefikServiceList plural: traefikservices singular: traefikservice scope: Namespaced versions: - name: v1alpha1 schema: openAPIV3Schema: description: &#x27;TraefikService is the CRD implementation of a Traefik Service. TraefikService object allows to: - Apply weight to Services on load-balancing - Mirror traffic on services More info: https://doc.traefik.io/traefik/v2.8/routing/providers/kubernetes-crd/#kind-traefikservice&#x27; properties: apiVersion: description: &#x27;APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#x27; type: string kind: description: &#x27;Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#x27; type: string metadata: type: object spec: description: TraefikServiceSpec defines the desired state of a TraefikService. properties: mirroring: description: Mirroring defines the Mirroring service configuration. properties: kind: description: Kind defines the kind of the Service. enum: - Service - TraefikService type: string maxBodySize: description: MaxBodySize defines the maximum size allowed for the body of the request. If the body is larger, the request is not mirrored. Default value is -1, which means unlimited size. format: int64 type: integer mirrors: description: Mirrors defines the list of mirrors where Traefik will duplicate the traffic. items: description: MirrorService holds the mirror configuration. properties: kind: description: Kind defines the kind of the Service. enum: - Service - TraefikService type: string name: description: Name defines the name of the referenced Kubernetes Service or TraefikService. The differentiation between the two is specified in the Kind field. type: string namespace: description: Namespace defines the namespace of the referenced Kubernetes Service or TraefikService. type: string passHostHeader: description: PassHostHeader defines whether the client Host header is forwarded to the upstream Kubernetes Service. By default, passHostHeader is true. type: boolean percent: description: &#x27;Percent defines the part of the traffic to mirror. Supported values: 0 to 100.&#x27; type: integer port: anyOf: - type: integer - type: string description: Port defines the port of a Kubernetes Service. This can be a reference to a named port. x-kubernetes-int-or-string: true responseForwarding: description: ResponseForwarding defines how Traefik forwards the response from the upstream Kubernetes Service to the client. properties: flushInterval: description: &#x27;FlushInterval defines the interval, in milliseconds, in between flushes to the client while copying the response body. A negative value means to flush immediately after each write to the client. This configuration is ignored when ReverseProxy recognizes a response as a streaming response; for such responses, writes are flushed to the client immediately. Default: 100ms&#x27; type: string type: object scheme: description: Scheme defines the scheme to use for the request to the upstream Kubernetes Service. It defaults to https when Kubernetes Service port is 443, http otherwise. type: string serversTransport: description: ServersTransport defines the name of ServersTransport resource to use. It allows to configure the transport between Traefik and your servers. Can only be used on a Kubernetes Service. type: string sticky: description: &#x27;Sticky defines the sticky sessions configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/services/#sticky-sessions&#x27; properties: cookie: description: Cookie defines the sticky cookie configuration. properties: httpOnly: description: HTTPOnly defines whether the cookie can be accessed by client-side APIs, such as JavaScript. type: boolean name: description: Name defines the Cookie name. type: string sameSite: description: &#x27;SameSite defines the same site policy. More info: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite&#x27; type: string secure: description: Secure defines whether the cookie can only be transmitted over an encrypted connection (i.e. HTTPS). type: boolean type: object type: object strategy: description: Strategy defines the load balancing strategy between the servers. RoundRobin is the only supported value at the moment. type: string weight: description: Weight defines the weight and should only be specified when Name references a TraefikService object (and to be precise, one that embeds a Weighted Round Robin). type: integer required: - name type: object type: array name: description: Name defines the name of the referenced Kubernetes Service or TraefikService. The differentiation between the two is specified in the Kind field. type: string namespace: description: Namespace defines the namespace of the referenced Kubernetes Service or TraefikService. type: string passHostHeader: description: PassHostHeader defines whether the client Host header is forwarded to the upstream Kubernetes Service. By default, passHostHeader is true. type: boolean port: anyOf: - type: integer - type: string description: Port defines the port of a Kubernetes Service. This can be a reference to a named port. x-kubernetes-int-or-string: true responseForwarding: description: ResponseForwarding defines how Traefik forwards the response from the upstream Kubernetes Service to the client. properties: flushInterval: description: &#x27;FlushInterval defines the interval, in milliseconds, in between flushes to the client while copying the response body. A negative value means to flush immediately after each write to the client. This configuration is ignored when ReverseProxy recognizes a response as a streaming response; for such responses, writes are flushed to the client immediately. Default: 100ms&#x27; type: string type: object scheme: description: Scheme defines the scheme to use for the request to the upstream Kubernetes Service. It defaults to https when Kubernetes Service port is 443, http otherwise. type: string serversTransport: description: ServersTransport defines the name of ServersTransport resource to use. It allows to configure the transport between Traefik and your servers. Can only be used on a Kubernetes Service. type: string sticky: description: &#x27;Sticky defines the sticky sessions configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/services/#sticky-sessions&#x27; properties: cookie: description: Cookie defines the sticky cookie configuration. properties: httpOnly: description: HTTPOnly defines whether the cookie can be accessed by client-side APIs, such as JavaScript. type: boolean name: description: Name defines the Cookie name. type: string sameSite: description: &#x27;SameSite defines the same site policy. More info: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite&#x27; type: string secure: description: Secure defines whether the cookie can only be transmitted over an encrypted connection (i.e. HTTPS). type: boolean type: object type: object strategy: description: Strategy defines the load balancing strategy between the servers. RoundRobin is the only supported value at the moment. type: string weight: description: Weight defines the weight and should only be specified when Name references a TraefikService object (and to be precise, one that embeds a Weighted Round Robin). type: integer required: - name type: object weighted: description: Weighted defines the Weighted Round Robin configuration. properties: services: description: Services defines the list of Kubernetes Service and/or TraefikService to load-balance, with weight. items: description: Service defines an upstream HTTP service to proxy traffic to. properties: kind: description: Kind defines the kind of the Service. enum: - Service - TraefikService type: string name: description: Name defines the name of the referenced Kubernetes Service or TraefikService. The differentiation between the two is specified in the Kind field. type: string namespace: description: Namespace defines the namespace of the referenced Kubernetes Service or TraefikService. type: string passHostHeader: description: PassHostHeader defines whether the client Host header is forwarded to the upstream Kubernetes Service. By default, passHostHeader is true. type: boolean port: anyOf: - type: integer - type: string description: Port defines the port of a Kubernetes Service. This can be a reference to a named port. x-kubernetes-int-or-string: true responseForwarding: description: ResponseForwarding defines how Traefik forwards the response from the upstream Kubernetes Service to the client. properties: flushInterval: description: &#x27;FlushInterval defines the interval, in milliseconds, in between flushes to the client while copying the response body. A negative value means to flush immediately after each write to the client. This configuration is ignored when ReverseProxy recognizes a response as a streaming response; for such responses, writes are flushed to the client immediately. Default: 100ms&#x27; type: string type: object scheme: description: Scheme defines the scheme to use for the request to the upstream Kubernetes Service. It defaults to https when Kubernetes Service port is 443, http otherwise. type: string serversTransport: description: ServersTransport defines the name of ServersTransport resource to use. It allows to configure the transport between Traefik and your servers. Can only be used on a Kubernetes Service. type: string sticky: description: &#x27;Sticky defines the sticky sessions configuration. More info: https://doc.traefik.io/traefik/v2.8/routing/services/#sticky-sessions&#x27; properties: cookie: description: Cookie defines the sticky cookie configuration. properties: httpOnly: description: HTTPOnly defines whether the cookie can be accessed by client-side APIs, such as JavaScript. type: boolean name: description: Name defines the Cookie name. type: string sameSite: description: &#x27;SameSite defines the same site policy. More info: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite&#x27; type: string secure: description: Secure defines whether the cookie can only be transmitted over an encrypted connection (i.e. HTTPS). type: boolean type: object type: object strategy: description: Strategy defines the load balancing strategy between the servers. RoundRobin is the only supported value at the moment. type: string weight: description: Weight defines the weight and should only be specified when Name references a TraefikService object (and to be precise, one that embeds a Weighted Round Robin). type: integer required: - name type: object type: array sticky: description: &#x27;Sticky defines whether sticky sessions are enabled. More info: https://doc.traefik.io/traefik/v2.8/routing/providers/kubernetes-crd/#stickiness-and-load-balancing&#x27; properties: cookie: description: Cookie defines the sticky cookie configuration. properties: httpOnly: description: HTTPOnly defines whether the cookie can be accessed by client-side APIs, such as JavaScript. type: boolean name: description: Name defines the Cookie name. type: string sameSite: description: &#x27;SameSite defines the same site policy. More info: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite&#x27; type: string secure: description: Secure defines whether the cookie can only be transmitted over an encrypted connection (i.e. HTTPS). type: boolean type: object type: object type: object type: object required: - metadata - spec type: object served: true storage: truestatus: acceptedNames: kind: &quot;&quot; plural: &quot;&quot; conditions: [] storedVersions: [] 使用参考： 123456789101112131415161718192021222324apiVersion: traefik.containo.us/v1alpha1kind: IngressRoutemetadata: name: argocd-server-ingress namespace: argocdspec: entryPoints: - web routes: - kind: Rule match: Host(`argo.example.cc`) priority: 10 services: - name: argocd-server port: 80 - kind: Rule match: Host(`argo.example.cc`) &amp;&amp; Headers(`Content-Type`, `application/grpc`) priority: 11 services: - name: argocd-server port: 80 scheme: h2c tls: certResolver: default 同时为http和grpc提供支持。 参考 traefik proxy Real IP and Host Header","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/categories/kubernetes/"}],"tags":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/tags/kubernetes/"},{"name":"traffic","slug":"traffic","permalink":"https://www.mardan.wiki/tags/traffic/"}]},{"title":"初探kubernetes集群","slug":"初探kubernetes集群","date":"2022-08-23T14:30:13.000Z","updated":"2025-04-13T06:16:05.655Z","comments":true,"path":"website/2022/08/23/初探kubernetes集群.html","permalink":"https://www.mardan.wiki/website/2022/08/23/%E5%88%9D%E6%8E%A2kubernetes%E9%9B%86%E7%BE%A4.html","excerpt":"概览: 前期准备 节点 初始化 运维工具安装 ssh免密码 推送hosts sealos 防火墙配置 安装 编辑规则 优化配置 开始安装 集群节点状态 集群k8s状态 k8s cilium状态 重命名节点role helm安装 kube-proxy平替(可选) kube-proxy卸载 iptables规则处理 clium卸载重装 检查 初始配置 默认存储 安装主机依赖 配置共享(可选) 添加默认存储 验证 部署服务 创建命名空间 编写yaml 开始部署 验证部署 基本监控 metrics-server dubernetes-dashboard 开放访问 k9s Ingress","text":"概览: 前期准备 节点 初始化 运维工具安装 ssh免密码 推送hosts sealos 防火墙配置 安装 编辑规则 优化配置 开始安装 集群节点状态 集群k8s状态 k8s cilium状态 重命名节点role helm安装 kube-proxy平替(可选) kube-proxy卸载 iptables规则处理 clium卸载重装 检查 初始配置 默认存储 安装主机依赖 配置共享(可选) 添加默认存储 验证 部署服务 创建命名空间 编写yaml 开始部署 验证部署 基本监控 metrics-server dubernetes-dashboard 开放访问 k9s Ingress 前期准备 节点 我准备部署4个节点:一主三从 操作系统: almalinux9 :almalinux 分配： master: 1, worker: 3 在管理节点hosts文件增加主机域名和ip的对应关系。 1234192.168.6.17 k8s-m1192.168.6.21 k8s-w1192.168.6.22 k8s-w2192.168.6.23 k8s-w3 初始化 123yum install epel-release -yyum update -yyum install nano vim tar socat net-tools ethtool wget mlocate bash-completion tree -y 运维工具安装 1yum install ansible 编辑ansible配置文件,/etc/ansible/hosts,追加以下新内容 1234567[master]192.168.6.17[worker]192.168.6.21192.168.6.22192.168.6.23 ssh免密码 12ssh-keygencat /etc/ansible/hosts | grep &quot;192.168&quot; | awk &#x27;&#123;print $1&#125;&#x27; | xargs -I &#123;&#125; ssh-copy-id &#123;&#125; # 就是自动化执行ssh-copy-id 192.168.6.[17,21-23] 检查一下 123456789[root@k8s-m1 ~]# ansible all -m shell -a &quot;uname -a&quot;192.168.6.23 | CHANGED | rc=0 &gt;&gt;Linux k8s-w3 5.14.0-162.12.1.el9_1.x86_64 #1 SMP PREEMPT_DYNAMIC Mon Jan 23 14:51:52 EST 2023 x86_64 x86_64 x86_64 GNU/Linux192.168.6.17 | CHANGED | rc=0 &gt;&gt;Linux k8s-m1 5.14.0-162.12.1.el9_1.x86_64 #1 SMP PREEMPT_DYNAMIC Mon Jan 23 14:51:52 EST 2023 x86_64 x86_64 x86_64 GNU/Linux192.168.6.22 | CHANGED | rc=0 &gt;&gt;Linux k8s-w2 5.14.0-162.12.1.el9_1.x86_64 #1 SMP PREEMPT_DYNAMIC Mon Jan 23 14:51:52 EST 2023 x86_64 x86_64 x86_64 GNU/Linux192.168.6.21 | CHANGED | rc=0 &gt;&gt;Linux k8s-w1 5.14.0-162.12.1.el9_1.x86_64 #1 SMP PREEMPT_DYNAMIC Mon Jan 23 14:51:52 EST 2023 x86_64 x86_64 x86_64 GNU/Linux 推送hosts 请检查出现类似本地回环的配置 1ansible all -m copy -a &quot;src=/etc/hosts dest=/etc/hosts&quot; sealos 我是用的是部署工具sealos来部署。所以先下载并安装，请安装官网最新版本。 12wget https://github.com/labring/sealos/releases/download/v4.1.4/sealos_4.1.4_linux_amd64.tar.gz \\ &amp;&amp; tar zxvf sealos_4.1.4_linux_amd64.tar.gz sealos &amp;&amp; chmod +x sealos &amp;&amp; mv sealos /usr/bin 防火墙配置 以下配置根据自己的需求来更改和参考 安装 1ansible all -m shell -a &quot;yum install iptables-services -y&quot; 编辑规则 123456789[root@k8s-w1 ~]# cat /etc/sysconfig/iptables# sample configuration for iptables service# you can edit this manually or use system-config-firewall# please do not ask us to add additional ports/services to this default configuration*filter:INPUT ACCEPT [0:0]:FORWARD ACCEPT [0:0]:OUTPUT ACCEPT [0:0]COMMIT 分发规则到剩余服务器 12ansible all -m copy -a &quot;src=/etc/sysconfig/iptables dest=/etc/sysconfig/iptables&quot;ansible all -m shell -a &quot;systemctl enable iptables.service --now&quot; 优化配置 12ansible all -m shell -a &quot;setenforce 0&quot;ansible all -m shell -a &quot;ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime&quot; 开始安装 1sealos run labring/kubernetes:v1.25.7 labring/cilium:v1.13.0 --masters 192.168.6.17 --nodes 192.168.6.21,192.168.6.22,192.168.6.23 # 若没有配置ssh免密码 就追加 `-p &lt;服务器集群密码&gt;` 集群节点状态 123456[root@k8s-m1 ~]# kubectl get node -ANAME STATUS ROLES AGE VERSIONk8s-m1 Ready control-plane 86s v1.25.7k8s-w1 Ready &lt;none&gt; 50s v1.25.7k8s-w2 Ready &lt;none&gt; 50s v1.25.7k8s-w3 Ready &lt;none&gt; 52s v1.25.7 集群k8s状态 1234567891011121314151617181920[root@k8s-m1 ~]# kubectl get pods -ANAMESPACE NAME READY STATUS RESTARTS AGEkube-system cilium-jntdj 1/1 Running 0 64skube-system cilium-kr586 1/1 Running 0 64skube-system cilium-lb7h5 1/1 Running 0 64skube-system cilium-operator-7d5855586f-j64pp 1/1 Running 0 64skube-system cilium-vbn7t 1/1 Running 0 64skube-system coredns-565d847f94-jnnld 1/1 Running 0 85skube-system coredns-565d847f94-l6swn 1/1 Running 0 85skube-system etcd-k8s-m1 1/1 Running 0 99skube-system kube-apiserver-k8s-m1 1/1 Running 0 99skube-system kube-controller-manager-k8s-m1 1/1 Running 0 98skube-system kube-proxy-7k7l2 1/1 Running 0 67skube-system kube-proxy-8qsmz 1/1 Running 0 67skube-system kube-proxy-bt9r4 1/1 Running 0 85skube-system kube-proxy-s8dwf 1/1 Running 0 69skube-system kube-scheduler-k8s-m1 1/1 Running 0 99skube-system kube-sealos-lvscare-k8s-w1 1/1 Running 0 59skube-system kube-sealos-lvscare-k8s-w2 1/1 Running 0 60skube-system kube-sealos-lvscare-k8s-w3 1/1 Running 0 61s k8s cilium状态 123456789101112131415[root@k8s-m1 ~]# cilium status /¯¯\\ /¯¯\\__/¯¯\\ Cilium: OK \\__/¯¯\\__/ Operator: OK /¯¯\\__/¯¯\\ Hubble Relay: disabled \\__/¯¯\\__/ ClusterMesh: disabled \\__/Deployment cilium-operator Desired: 1, Ready: 1/1, Available: 1/1DaemonSet cilium Desired: 4, Ready: 4/4, Available: 4/4Containers: cilium Running: 4 cilium-operator Running: 1Cluster Pods: 2/2 managed by CiliumImage versions cilium quay.io/cilium/cilium:v1.13.0: 4 cilium-operator quay.io/cilium/operator:v1.13.0: 1 重命名节点role 123kubectl label node k8s-w1 kubernetes.io/role=workerkubectl label node k8s-w2 kubernetes.io/role=workerkubectl label node k8s-w3 kubernetes.io/role=worker 修改成功 123456[root@k8s-m1 ~]# kubectl get node -ANAME STATUS ROLES AGE VERSIONk8s-m1 Ready control-plane 2m41s v1.25.7k8s-w1 Ready worker 2m5s v1.25.7k8s-w2 Ready worker 2m5s v1.25.7k8s-w3 Ready worker 2m7s v1.25.7 helm安装 1sealos run labring/helm:v3.11.2 检查 12[root@k8s-m1 ~]# helm versionversion.BuildInfo&#123;Version:&quot;v3.11.2&quot;, GitCommit:&quot;912ebc1cd10d38d340f048efaf0abda047c3468e&quot;, GitTreeState:&quot;clean&quot;, GoVersion:&quot;go1.18.10&quot;&#125; kube-proxy平替(可选) 注意⚠️，请不要在没有充分调研的情况在生产环境实施该方案。 kube-proxy卸载 12kubectl -n kube-system delete ds kube-proxykubectl -n kube-system delete cm kube-proxy iptables规则处理 1ansible all -m shell -a &quot;iptables-save | grep -v KUBE | iptables-restore&quot; clium卸载重装 ⚠️ 请注意重新安装时，cilium版本要与原版本保持一致。 安装参数介绍Kubernetes Without kube-proxy 可以在这一步将Cilium Metrics同时开启，详情在另一篇文章。 若需要开启可观测监控，需要讲一下的配置添加cilium install的配置项中。 1234567--helm-set prometheus.enabled=true \\--helm-set operator.prometheus.enabled=true \\--helm-set hubble.relay.enabled=true \\--helm-set hubble.ui.enabled=true \\--helm-set hubble.enabled=true \\--helm-set hubble.metrics.enableOpenMetrics=true \\--helm-set hubble.metrics.enabled=&quot;&#123;dns,drop,tcp,flow,port-distribution,icmp,httpV2:exemplars=true;labelsContext=source_ip\\,source_app\\,destination_app\\,source_namespace\\,source_workload\\,destination_ip\\,destination_namespace\\,destination_workload\\,traffic_direction&#125;&quot; 标准安装 123456789101112131415161718192021222324252627282930cilium uninstallcilium install --version 1.13.0 \\ --helm-set tunnel=disabled \\ --helm-set bpf.masquerade=true \\ --helm-set bpf.clockProbe=true \\ --helm-set bpf.waitForMount=true \\ --helm-set bpf.preallocateMaps=true \\ --helm-set bpf.tproxy=true \\ --helm-set bpf.hostRouting=false \\ --helm-set autoDirectNodeRoutes=true \\ --helm-set localRedirectPolicy=true \\ --helm-set enableCiliumEndpointSlice=true \\ --helm-set enableK8sEventHandover=true \\ --helm-set loadBalancer.acceleration=native \\ --helm-set enableK8sEndpointSlice=true \\ --helm-set wellKnownIdentities.enabled=true \\ --helm-set bandwidthManager.enable=true \\ --helm-set hubble.enabled=false \\ --helm-set installNoConntrackIptablesRules=true \\ --helm-set egressGateway.enabled=true \\ --helm-set endpointRoutes.enabled=false \\ --helm-set kubeProxyReplacement=strict \\ --helm-set loadBalancer.mode=dsr \\ --helm-set nodePort.mode=dsr \\ --helm-set k8sServiceHost=apiserver.cluster.local \\ --helm-set k8sServicePort=6443 \\ --helm-set ipv4NativeRoutingCIDR=172.26.131.117/32 \\ --helm-set kubeProxyReplacementHealthzBindAddr=&#x27;0.0.0.0:10256&#x27; \\ --helm-set loadBalancer.serviceTopology=true 检查 Run kubectl -n kube-system exec ds/cilium -- cilium status --verbose 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103Defaulted container &quot;cilium-agent&quot; out of: cilium-agent, config (init), mount-cgroup (init), apply-sysctl-overwrites (init), mount-bpf-fs (init), clean-cilium-state (init)KVStore: Ok DisabledKubernetes: Ok 1.25 (v1.25.7) [linux/amd64]Kubernetes APIs: [&quot;cilium/v2::CiliumClusterwideNetworkPolicy&quot;, &quot;cilium/v2::CiliumEgressGatewayPolicy&quot;, &quot;cilium/v2::CiliumLocalRedirectPolicy&quot;, &quot;cilium/v2::CiliumNetworkPolicy&quot;, &quot;cilium/v2::CiliumNode&quot;, &quot;cilium/v2alpha1::CiliumEndpointSlice&quot;, &quot;core/v1::Namespace&quot;, &quot;core/v1::Node&quot;, &quot;core/v1::Pods&quot;, &quot;core/v1::Service&quot;, &quot;discovery/v1::EndpointSlice&quot;, &quot;networking.k8s.io/v1::NetworkPolicy&quot;]KubeProxyReplacement: Strict [eth0 192.168.6.17 (Direct Routing)]Host firewall: DisabledCNI Chaining: noneCNI Config file: CNI configuration file management disabledCilium: Ok 1.13.0 (v1.13.0-c9723a8d)NodeMonitor: Listening for events on 8 CPUs with 64x4096 of shared memoryCilium health daemon: Ok IPAM: IPv4: 4/254 allocated from 10.0.1.0/24, Allocated addresses: 10.0.1.104 (router) 10.0.1.177 (kube-system/coredns-565d847f94-l6swn[restored]) 10.0.1.202 (kube-system/coredns-565d847f94-jnnld[restored]) 10.0.1.229 (health)IPv6 BIG TCP: DisabledBandwidthManager: DisabledHost Routing: BPFMasquerading: BPF [eth0] 172.26.131.117/32 [IPv4: Enabled, IPv6: Disabled]Clock Source for BPF: ktimeController Status: 27/27 healthy Name Last success Last error Count Message bpf-map-sync-cilium_lxc 9s ago never 0 no error cilium-health-ep 48s ago never 0 no error dns-garbage-collector-job 12s ago never 0 no error endpoint-1023-regeneration-recovery never never 0 no error endpoint-2846-regeneration-recovery never never 0 no error endpoint-930-regeneration-recovery never never 0 no error endpoint-964-regeneration-recovery never never 0 no error endpoint-gc 3m12s ago never 0 no error ipcache-inject-labels 2m58s ago 3m6s ago 0 no error k8s-heartbeat 12s ago never 0 no error link-cache 19s ago never 0 no error metricsmap-bpf-prom-sync 7s ago never 0 no error resolve-identity-1023 2m48s ago never 0 no error restoring-ep-identity (2846) 2m49s ago never 0 no error restoring-ep-identity (930) 2m49s ago never 0 no error restoring-ep-identity (964) 2m49s ago never 0 no error sync-endpoints-and-host-ips 49s ago never 0 no error sync-lb-maps-with-k8s-services 2m49s ago never 0 no error sync-policymap-1023 38s ago never 0 no error sync-policymap-2846 38s ago never 0 no error sync-policymap-930 38s ago never 0 no error sync-policymap-964 38s ago never 0 no error sync-to-k8s-ciliumendpoint (1023) 8s ago never 0 no error sync-to-k8s-ciliumendpoint (2846) 9s ago never 0 no error sync-to-k8s-ciliumendpoint (930) 4s ago never 0 no error sync-to-k8s-ciliumendpoint (964) 4s ago never 0 no error template-dir-watcher never never 0 no error Proxy Status: OK, ip 10.0.1.104, 0 redirects active on ports 10000-20000Global Identity Range: min 256, max 65535Hubble: Ok Current/Max Flows: 1517/4095 (37.05%), Flows/s: 9.12 Metrics: OkKubeProxyReplacement Details: Status: Strict Socket LB: Enabled Socket LB Tracing: Enabled Devices: eth0 192.168.6.17 (Direct Routing) Mode: DSR Backend Selection: Random Session Affinity: Enabled Graceful Termination: Enabled NAT46/64 Support: Disabled XDP Acceleration: Native Services: - ClusterIP: Enabled - NodePort: Enabled (Range: 30000-32767) - LoadBalancer: Enabled - externalIPs: Enabled - HostPort: EnabledBPF Maps: dynamic sizing: on (ratio: 0.002500) Name Size Non-TCP connection tracking 147590 TCP connection tracking 295180 Endpoint policy 65535 Events 8 IP cache 512000 IP masquerading agent 16384 IPv4 fragmentation 8192 IPv4 service 65536 IPv6 service 65536 IPv4 service backend 65536 IPv6 service backend 65536 IPv4 service reverse NAT 65536 IPv6 service reverse NAT 65536 Metrics 1024 NAT 295180 Neighbor table 295180 Global policy 16384 Per endpoint policy 65536 Session affinity 65536 Signal 8 Sockmap 65535 Sock reverse NAT 147590 Tunnel 65536Encryption: DisabledCluster health: 4/4 reachable (2023-03-30T04:57:55Z) Name IP Node Endpoints kubernetes/k8s-m1 (localhost) 192.168.6.17 reachable reachable kubernetes/k8s-w1 192.168.6.21 reachable reachable kubernetes/k8s-w2 192.168.6.22 reachable reachable kubernetes/k8s-w3 192.168.6.23 reachable reachable 初始配置 默认存储 k8s存储支持多种模式：本地存储:hostPath/emptyDir，传递网络存储:iscsi/nfs，分布式网络存 储：glusterfs/rbd/cephfs，以及云存储等； k8s默认容器如果重建，则容器中文件将丢失，为了解决这些问题，通常我们会将容器中需要持久化的文件存储到其他可持久化存储目录中。 安装主机依赖 我选择以nfs作为默认存储 1sealos exec &quot;yum install nfs-utils -y&quot; # 集群节点都需要安装 配置共享(可选) nfs服务主机 我主机有限：所以将nfs服务是由k8s-m1提供的，共享文件:在nfs服务主机文件/etc/exportes添加需要共享的目录以及允许的网段。 1/data/share 192.168.6.0/24(insecure,rw,async,no_root_squash) 在服务器k8s-m1(跟随nfs磁盘)启动nfs服务 12systemctl enable nfs-serversystemctl start nfs-server 添加默认存储 注：nfs镜像是拉取的上游(k8s.gcr.io/sig-storage/nfs-subdir-external-provisioner:v4.0.2)的镜像 123456789helm repo add nfs-subdir-external-provisioner https://kubernetes-sigs.github.io/nfs-subdir-external-provisioner/helm install nfs-subdir-external-provisioner nfs-subdir-external-provisioner/nfs-subdir-external-provisioner \\ --set image.repository=ka1i137/sig-storage-nfs-subdir-external-provisioner \\ --set image.tag=v4.0.2 \\ --set storageClass.name=nfs-client \\ --set storageClass.defaultClass=true \\ --set nfs.server=192.168.6.11 \\ --set nfs.path=/mnt/data/k8s/NFS 验证 123[root@k8s-m1 ~]# kubectl get sc -ANAME PROVISIONER RECLAIMPOLICY VOLUMEBINDINGMODE ALLOWVOLUMEEXPANSION AGEnfs-client (default) cluster.local/nfs-subdir-external-provisioner Delete Immediate true 20s 部署服务 创建命名空间 1kubectl create namespace app 编写yaml whoami.yaml 123456789101112131415161718192021222324252627282930313233343536373839apiVersion: apps/v1kind: Deploymentmetadata: name: whoami namespace: app labels: app: whoamispec: replicas: 2 selector: matchLabels: app: whoami template: metadata: labels: app: whoami spec: containers: - name: whoami image: traefik/whoami ports: - containerPort: 80---apiVersion: v1kind: Servicemetadata: name: whoami namespace: appspec: type: NodePort ports: - name: http-80 port: 80 nodePort: 30888 targetPort: 80 selector: app: whoami 开始部署 123456789[root@k8s-m1 app]# kubectl apply -f whoami.yaml deployment.apps/whoami createdservice/whoami created[root@k8s-m1 app]# kubectl get pod -A | grep &quot;^app&quot;app whoami-6bbfdbb69c-tss9n 0/1 ContainerCreating 0 22sapp whoami-6bbfdbb69c-v26d4 0/1 ContainerCreating 0 22s[root@k8s-m1 app]# kubectl get svc -n appNAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGEwhoami NodePort 10.96.1.5 &lt;none&gt; 80:30888/TCP 36s 验证部署 1234567891011[root@k8s-m1 app]# curl 192.168.6.17:30888 # ip为k8s集群ip其中一个都可以Hostname: whoami-6bbfdbb69c-v26d4IP: 127.0.0.1IP: ::1IP: 10.0.2.67IP: fe80::5019:c7ff:fe03:42e9RemoteAddr: 10.0.0.220:45186GET / HTTP/1.1Host: 192.168.137.11:30888User-Agent: curl/7.76.1Accept: */* 基本监控 metrics-server yaml配置下载 1wget https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml 若默认镜像无法下载,可以使用我转存的ka1i137/k8s-metrics-server:v0.6.2。 若显示tls错误，可以在启动参数添加- --kubelet-insecure-tls 12345678910spec: containers: - args: - --cert-dir=/tmp - --secure-port=4443 - --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname - --kubelet-use-node-status-port - --metric-resolution=15s - --kubelet-insecure-tls # 新增 image: ka1i137/k8s-metrics-server:v0.6.2 dubernetes-dashboard 1sealos run labring/kubernetes-dashboard:v2.7.0 编辑 开放访问 dashboard-adminuser.yaml 12345678910111213141516171819apiVersion: v1kind: ServiceAccountmetadata: name: admin-user namespace: kubernetes-dashboard---apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRoleBindingmetadata: name: admin-userroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-adminsubjects:- kind: ServiceAccount name: admin-user namespace: kubernetes-dashboard 然后应用 1kubectl apply -f dashboard-adminuser.yaml 最后获取登录token 1kubectl -n kubernetes-dashboard create token admin-user Tips 开放NodePort 1kubectl edit svc -n kubernetes-dashboard kubernetes-dashboard 可以看到svc的配置修改为如下。 123456789101112131415161718192021222324252627282930apiVersion: v1kind: Servicemetadata: creationTimestamp: &quot;2023-03-13T09:42:15Z&quot; labels: k8s-app: kubernetes-dashboard name: kubernetes-dashboard namespace: kubernetes-dashboard resourceVersion: &quot;20876&quot; uid: f160d21f-2244-46d1-894c-d0cbd96383c2spec: clusterIP: 10.96.3.50 clusterIPs: - 10.96.3.50 externalTrafficPolicy: Cluster internalTrafficPolicy: Cluster ipFamilies: - IPv4 ipFamilyPolicy: SingleStack ports: - nodePort: 30880 # 新增 port: 443 protocol: TCP targetPort: 8443 selector: k8s-app: kubernetes-dashboard sessionAffinity: None type: NodePort # 修改status: loadBalancer: &#123;&#125; k9s 官网：k9scli.io Ingress 我使用的ingress是traefik，可以根据自己的具体需求选择其他的ingress。配置在另一篇文章。 Very Nice!","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/categories/kubernetes/"}],"tags":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/tags/kubernetes/"},{"name":"cilium","slug":"cilium","permalink":"https://www.mardan.wiki/tags/cilium/"}]},{"title":"浅尝docker swarm","slug":"浅尝docker_swarm","date":"2022-08-15T15:21:13.000Z","updated":"2025-04-13T06:16:05.657Z","comments":true,"path":"website/2022/08/15/浅尝docker_swarm.html","permalink":"https://www.mardan.wiki/website/2022/08/15/%E6%B5%85%E5%B0%9Ddocker_swarm.html","excerpt":"概览： 基础配置 docker启用swarm 创建swarm共享网络 配置准备 docker compose 启动服务","text":"概览： 基础配置 docker启用swarm 创建swarm共享网络 配置准备 docker compose 启动服务 基础配置 docker启用swarm 1docker starm init 创建swarm共享网络 12345docker network create \\ --driver overlay \\ --subnet=192.168.6.0/24 \\ --attachable \\ aida_ingress 配置准备 nginx gitea registry 123456## nginxdocker pull nginx:1.21.6-alpine## giteadocker pull gitea/gitea:1.16.9## registrydocker pull registry:2.8.1 docker image ls 12345root@labs:~# docker image lsREPOSITORY TAG IMAGE ID CREATED SIZEregistry 2.8.1 4206ae70dd03 6 days ago 22.6MBgitea/gitea 1.16.9 190484b8225a 4 weeks ago 241MBnginx 1.21.6-alpine 4995f23c9063 3 months ago 22MB registry账号配置 12apt install apache2-utilshtpasswd -Bbn &lt;user&gt; &lt;passwd&gt; &gt; registry.htpasswd docker compose 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970version: &quot;3.9&quot;services: nginx: image: nginx:1.21.6-alpine networks: - ingress ports: - &quot;80:80&quot; - &quot;443:443&quot; configs: - source: nginx target: /etc/nginx/nginx.conf secrets: - source: cakey target: /etc/nginx/certs/cert.key mode: 0440 - source: capem target: /etc/nginx/certs/cert.pem mode: 0440 - source: registry target: /etc/nginx/registry.htpasswd mode: 0777 volumes: - ./conf.d:/etc/nginx/conf.d - /data/nginx/web_root:/usr/share/nginx/html:ro depends_on: - gitea - registry registry: image: registry:2.8.1 networks: - ingress volumes: - /data/registry:/var/lib/registry gitea: image: gitea/gitea:1.16.9 networks: - ingress environment: - USER_UID=1000 - USER_GID=1000 - APP_NAME=Where the world builds software - RUN_MODE=prod - RUN_USER=git - DISABLE_SSH=true - DOMAIN=&lt;domain&gt; volumes: - /etc/timezone:/etc/timezone:ro - /etc/localtime:/etc/localtime:ro - /data/gitea:/dataconfigs: nginx: file: ./nginx.confnetworks: ingress: external: true name: aida_ingresssecrets: cakey: file: ./acme.sh/certs/cert.key capem: file: ./acme.sh/certs/cert.pem registry: file: ./registry.htpasswd 启动服务 1docker stack deploy -c docker-compose.yml devops","categories":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"},{"name":"swarm","slug":"swarm","permalink":"https://www.mardan.wiki/tags/swarm/"}]},{"title":"minio添加https支持","slug":"minio添加https支持","date":"2022-05-07T05:22:11.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2022/05/07/minio添加https支持.html","permalink":"https://www.mardan.wiki/website/2022/05/07/minio%E6%B7%BB%E5%8A%A0https%E6%94%AF%E6%8C%81.html","excerpt":"概览： nginx配置 minioServer minioConsole 以minio的docker镜像为例来说明给minio添加https。","text":"概览： nginx配置 minioServer minioConsole 以minio的docker镜像为例来说明给minio添加https。 swarm 123456789101112131415minio: image: minio/minio:latest command: server --address &quot;:443&quot; --console-address &quot;:9100&quot; /data networks: - ingress ports: - 9100:9100 environment: - MINIO_ACCESS_KEY=admin - MINIO_SECRET_KEY=admin - MINIO_DOMAIN=minio.example.cc - MINIO_SERVER_URL=https://minio.example.cc volumes: - /data/minio/bucket:/data - /data/minio/config:/root/.minio nginx配置 minioServer 12345678910111213141516171819202122232425262728293031server &#123; listen 443 ssl http2; server_name minio.example.cc; ssl_certificate /etc/nginx/certs/cert.pem; ssl_certificate_key /etc/nginx/certs/cert.key; # To allow special characters in headers ignore_invalid_headers off; # Allow any size file to be uploaded. # Set to a value such as 1000m; to restrict file size to a specific value client_max_body_size 10000m; # To disable buffering proxy_buffering off; proxy_request_buffering off; location / &#123; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_connect_timeout 300; # Default is HTTP/1, keepalive is only enabled in HTTP/1.1 proxy_http_version 1.1; proxy_set_header Connection &quot;&quot;; chunked_transfer_encoding off; proxy_pass http://minioServer; &#125;&#125; minioConsole 12345678910111213141516171819202122232425262728293031server &#123; listen 9100 ssl http2; server_name minio.example.cc; ssl_certificate /etc/nginx/certs/cert.pem; ssl_certificate_key /etc/nginx/certs/cert.key; # To allow special characters in headers ignore_invalid_headers off; # Allow any size file to be uploaded. # Set to a value such as 1000m; to restrict file size to a specific value client_max_body_size 10000m; # To disable buffering proxy_buffering off; proxy_request_buffering off; location / &#123; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_connect_timeout 300; # Default is HTTP/1, keepalive is only enabled in HTTP/1.1 proxy_http_version 1.1; proxy_set_header Connection &quot;&quot;; chunked_transfer_encoding off; proxy_pass http://minioConsole; &#125;&#125;","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"https://www.mardan.wiki/tags/nginx/"},{"name":"minio","slug":"minio","permalink":"https://www.mardan.wiki/tags/minio/"}]},{"title":"nginx日志格式调整","slug":"nginx日志格式调整","date":"2022-05-07T05:02:23.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2022/05/07/nginx日志格式调整.html","permalink":"https://www.mardan.wiki/website/2022/05/07/nginx%E6%97%A5%E5%BF%97%E6%A0%BC%E5%BC%8F%E8%B0%83%E6%95%B4.html","excerpt":"概览：","text":"概览： nginx默认的日志记录的信息很简陋，为了方便之后通过日志查找问题原因。需要尽可能提供信息。 需要在nginx.conf配置文件里面添加新的日志格式条目 123456789101112131415161718192021222324252627282930313233343536373839log_format json_analytics &#x27;&#123;&#x27; &#x27;&quot;msec&quot;: &quot;$msec&quot;, &#x27; # request unixtime in seconds with a milliseconds resolution &#x27;&quot;connection&quot;: &quot;$connection&quot;, &#x27; # connection serial number &#x27;&quot;connection_requests&quot;: &quot;$connection_requests&quot;, &#x27; # number of requests made in connection &#x27;&quot;pid&quot;: &quot;$pid&quot;, &#x27; # process pid &#x27;&quot;request_id&quot;: &quot;$request_id&quot;, &#x27; # the unique request id &#x27;&quot;request_length&quot;: &quot;$request_length&quot;, &#x27; # request length (including headers and body) &#x27;&quot;remote_addr&quot;: &quot;$remote_addr&quot;, &#x27; # client IP &#x27;&quot;remote_user&quot;: &quot;$remote_user&quot;, &#x27; # client HTTP username &#x27;&quot;remote_port&quot;: &quot;$remote_port&quot;, &#x27; # client port &#x27;&quot;time_local&quot;: &quot;$time_local&quot;, &#x27; &#x27;&quot;time_iso8601&quot;: &quot;$time_iso8601&quot;, &#x27; # local time in the ISO 8601 standard format &#x27;&quot;request&quot;: &quot;$request&quot;, &#x27; # full path no arguments if the request &#x27;&quot;request_uri&quot;: &quot;$request_uri&quot;, &#x27; # full path and arguments if the request &#x27;&quot;args&quot;: &quot;$args&quot;, &#x27; # args &#x27;&quot;status&quot;: &quot;$status&quot;, &#x27; # response status code &#x27;&quot;body_bytes_sent&quot;: &quot;$body_bytes_sent&quot;, &#x27; # the number of body bytes exclude headers sent to a client &#x27;&quot;bytes_sent&quot;: &quot;$bytes_sent&quot;, &#x27; # the number of bytes sent to a client &#x27;&quot;http_referer&quot;: &quot;$http_referer&quot;, &#x27; # HTTP referer &#x27;&quot;http_user_agent&quot;: &quot;$http_user_agent&quot;, &#x27; # user agent &#x27;&quot;http_x_forwarded_for&quot;: &quot;$http_x_forwarded_for&quot;, &#x27; # http_x_forwarded_for &#x27;&quot;http_host&quot;: &quot;$http_host&quot;, &#x27; # the request Host: header &#x27;&quot;server_name&quot;: &quot;$server_name&quot;, &#x27; # the name of the vhost serving the request &#x27;&quot;request_time&quot;: &quot;$request_time&quot;, &#x27; # request processing time in seconds with msec resolution &#x27;&quot;upstream&quot;: &quot;$upstream_addr&quot;, &#x27; # upstream backend server for proxied requests &#x27;&quot;upstream_connect_time&quot;: &quot;$upstream_connect_time&quot;, &#x27; # upstream handshake time incl. TLS &#x27;&quot;upstream_header_time&quot;: &quot;$upstream_header_time&quot;, &#x27; # time spent receiving upstream headers &#x27;&quot;upstream_response_time&quot;: &quot;$upstream_response_time&quot;, &#x27; # time spend receiving upstream body &#x27;&quot;upstream_response_length&quot;: &quot;$upstream_response_length&quot;, &#x27; # upstream response length &#x27;&quot;upstream_cache_status&quot;: &quot;$upstream_cache_status&quot;, &#x27; # cache HIT/MISS where applicable &#x27;&quot;ssl_protocol&quot;: &quot;$ssl_protocol&quot;, &#x27; # TLS protocol &#x27;&quot;ssl_cipher&quot;: &quot;$ssl_cipher&quot;, &#x27; # TLS cipher &#x27;&quot;scheme&quot;: &quot;$scheme&quot;, &#x27; # http or https &#x27;&quot;request_method&quot;: &quot;$request_method&quot;, &#x27; # request method &#x27;&quot;server_protocol&quot;: &quot;$server_protocol&quot;, &#x27; # request protocol, like HTTP/1.1 or HTTP/2.0 &#x27;&quot;pipe&quot;: &quot;$pipe&quot;, &#x27; # &quot;p&quot; if request was pipelined, &quot;.&quot; otherwise &#x27;&quot;gzip_ratio&quot;: &quot;$gzip_ratio&quot;, &#x27; &#x27;&quot;http_cf_ray&quot;: &quot;$http_cf_ray&quot;&#x27;&#x27;&#125;&#x27;; 然后修改access_log所使用的格式为新的日志格式。 1access_log /var/log/nginx/access.log json_analytics;","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"},{"name":"nginx","slug":"linux/nginx","permalink":"https://www.mardan.wiki/categories/linux/nginx/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"https://www.mardan.wiki/tags/nginx/"}]},{"title":"golang简单文件服务器","slug":"golang简单文件服务器","date":"2022-05-06T15:02:03.000Z","updated":"2025-04-13T06:16:05.533Z","comments":true,"path":"website/2022/05/06/golang简单文件服务器.html","permalink":"https://www.mardan.wiki/website/2022/05/06/golang%E7%AE%80%E5%8D%95%E6%96%87%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8.html","excerpt":"文件服务器，顾名思义，就是提供远程文件目录浏览以及下载的服务。 概览： 代码 使用","text":"文件服务器，顾名思义，就是提供远程文件目录浏览以及下载的服务。 概览： 代码 使用 代码 1234567891011121314151617181920package mainimport ( &quot;log&quot; &quot;net/http&quot;)func main() &#123; workPath := &quot;./&quot; mux := http.NewServeMux() mux.Handle(&quot;/&quot;, http.StripPrefix(&quot;/&quot;, http.FileServer(http.Dir(workPath)))) server := &amp;http.Server&#123; Addr: &quot;0.0.0.0:8080&quot;, Handler: mux, &#125; log.Printf(&quot;Server Running At http://%v\\n&quot;, server.Addr) server.ListenAndServe()&#125; 使用 1go run main.go","categories":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/categories/golang/"}],"tags":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/tags/golang/"}]},{"title":"Centos7升级内核版本","slug":"Centos7升级内核版本","date":"2022-05-06T14:21:13.000Z","updated":"2025-04-13T06:16:05.515Z","comments":true,"path":"website/2022/05/06/Centos7升级内核版本.html","permalink":"https://www.mardan.wiki/website/2022/05/06/Centos7%E5%8D%87%E7%BA%A7%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC.html","excerpt":"概览： 查看当前内核版本 升级内核 查看可用的系统内核包 安装最新长期支持的稳定版内核 设置 grub2 查看系统上的所有可用内核 设置新的内核为grub2的默认版本 确认切换内核 结尾","text":"概览： 查看当前内核版本 升级内核 查看可用的系统内核包 安装最新长期支持的稳定版内核 设置 grub2 查看系统上的所有可用内核 设置新的内核为grub2的默认版本 确认切换内核 结尾 查看当前内核版本 12345678$ uname -r3.10.0-514.el7.x86_64$ uname -aLinux k8s-master 3.10.0-514.el7.x86_64 #1 SMP Tue Nov 22 16:42:41 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux$ cat /etc/redhat-release CentOS Linux release 7.9.2009 (Core) 升级内核 http://elrepo.org/tiki/HomePage ELRepo 仓库是基于社区的用于企业级 Linux 仓库，提供对 RedHat Enterprise (RHEL) 和 其他基于 RHEL的 Linux 发行版（CentOS、Scientific、Fedora 等）的支持。 ELRepo 聚焦于和硬件相关的软件包，包括文件系统驱动、显卡驱动、网络驱动、声卡驱动和摄像头驱动等。 1234# 导入ELRepo仓库的公共密钥rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org# 安装ELRepo仓库的yum源rpm -Uvh https://www.elrepo.org/elrepo-release-7.el7.elrepo.noarch.rpm 查看可用的系统内核包 1234567891011121314151617181920[root@localhost ~]# yum --disablerepo=&quot;*&quot; --enablerepo=&quot;elrepo-kernel&quot; list availableLoaded plugins: fastestmirrorLoading mirror speeds from cached hostfile * elrepo-kernel: mirrors.tuna.tsinghua.edu.cnAvailable Packageskernel-lt-devel.x86_64 5.4.226-1.el7.elrepo elrepo-kernelkernel-lt-doc.noarch 5.4.226-1.el7.elrepo elrepo-kernelkernel-lt-headers.x86_64 5.4.226-1.el7.elrepo elrepo-kernelkernel-lt-tools.x86_64 5.4.226-1.el7.elrepo elrepo-kernelkernel-lt-tools-libs.x86_64 5.4.226-1.el7.elrepo elrepo-kernelkernel-lt-tools-libs-devel.x86_64 5.4.226-1.el7.elrepo elrepo-kernelkernel-ml.x86_64 6.0.12-1.el7.elrepo elrepo-kernelkernel-ml-devel.x86_64 6.0.12-1.el7.elrepo elrepo-kernelkernel-ml-doc.noarch 6.0.12-1.el7.elrepo elrepo-kernelkernel-ml-headers.x86_64 6.0.12-1.el7.elrepo elrepo-kernelkernel-ml-tools.x86_64 6.0.12-1.el7.elrepo elrepo-kernelkernel-ml-tools-libs.x86_64 6.0.12-1.el7.elrepo elrepo-kernelkernel-ml-tools-libs-devel.x86_64 6.0.12-1.el7.elrepo elrepo-kernelperf.x86_64 5.4.226-1.el7.elrepo elrepo-kernelpython-perf.x86_64 5.4.226-1.el7.elrepo elrepo-kernel 安装最新长期支持的稳定版内核 --enablerepo选项开启CentOS系统上的指定仓库。默认开启的是elrepo，这里用elrepo-kernel替换。 1yum --enablerepo=&quot;elrepo-kernel&quot; install kernel-lt 设置 grub2 查看系统上的所有可用内核 123456[root@localhost ~]# awk -F\\&#x27; &#x27;$1==&quot;menuentry &quot; &#123;print i++ &quot; : &quot; $2&#125;&#x27; /etc/grub2.cfg0 : CentOS Linux (5.4.226-1.el7.elrepo.x86_64) 7 (Core)1 : CentOS Linux 7 Rescue 197a0606f9624b1bb8a4be73ead1d4e3 (3.10.0-1160.80.1.el7.x86_64)2 : CentOS Linux (3.10.0-1160.80.1.el7.x86_64) 7 (Core)3 : CentOS Linux (3.10.0-1160.71.1.el7.x86_64) 7 (Core)4 : CentOS Linux (0-rescue-32784d1e1f77475fa1397a08746a9fe3) 7 (Core) 设置新的内核为grub2的默认版本 服务器上存在4个内核，我们要使用5.4这个版本，可以通过grub2-set-default 0命令或编辑/etc/default/grub文件来设置 方法1、通过grub2-set-default 0命令设置 其中 0 是上面查询出来的可用内核 1grub2-set-default 0 方法2、编辑/etc/default/grub文件 设置 GRUB_DEFAULT=0，通过上面查询显示的编号为 0 的内核作为默认内核： 1234567GRUB_TIMEOUT=5GRUB_DISTRIBUTOR=&quot;$(sed &#x27;s, release .*$,,g&#x27; /etc/system-release)&quot;GRUB_DEFAULT=0GRUB_DISABLE_SUBMENU=trueGRUB_TERMINAL_OUTPUT=&quot;console&quot;GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=cl/root rhgb quiet&quot;GRUB_DISABLE_RECOVERY=&quot;true&quot; 确认切换内核 12[root@localhost ~]# grubby --default-kernel/boot/vmlinuz-5.4.226-1.el7.elrepo.x86_64 ⚠️ 如果未发生更改，请使用以下手动更新 1234567891011[root@localhost ~]# grub2-mkconfig -o /boot/grub2/grub.cfgGenerating grub configuration file ...Found linux image: /boot/vmlinuz-5.4.226-1.el7.elrepo.x86_64Found initrd image: /boot/initramfs-5.4.226-1.el7.elrepo.x86_64.imgFound linux image: /boot/vmlinuz-3.10.0-862.11.6.el7.x86_64Found initrd image: /boot/initramfs-3.10.0-862.11.6.el7.x86_64.imgFound linux image: /boot/vmlinuz-3.10.0-514.el7.x86_64Found initrd image: /boot/initramfs-3.10.0-514.el7.x86_64.imgFound linux image: /boot/vmlinuz-0-rescue-063ec330caa04d4baae54c6902c62e54Found initrd image: /boot/initramfs-0-rescue-063ec330caa04d4baae54c6902c62e54.imgdone 结尾 重启服务器 1reboot 重启完成后，检查一下 1uname -r","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"kernel","slug":"kernel","permalink":"https://www.mardan.wiki/tags/kernel/"}]},{"title":"golang实现ddns","slug":"golang实现ddns","date":"2022-05-06T13:49:04.000Z","updated":"2025-04-13T06:16:05.532Z","comments":true,"path":"website/2022/05/06/golang实现ddns.html","permalink":"https://www.mardan.wiki/website/2022/05/06/golang%E5%AE%9E%E7%8E%B0ddns.html","excerpt":"概览： 动态域名服务 编写代码 构建代码 构建 运行","text":"概览： 动态域名服务 编写代码 构建代码 构建 运行 动态域名服务 DDNS（Dynamic Domain Name Server，动态域名服务）是将用户的动态IP地址映射到一个固定的域名解析服务上，用户每次连接网络的时候客户端程序就会通过信息传递把该主机的动态IP地址传送给位于服务商主机上的服务器程序，服务器程序负责提供DNS服务并实现动态域名解析。 编写代码 代码域名提供商（阿里云）为例 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103package mainimport ( &quot;fmt&quot; &quot;log&quot; &quot;net&quot; &quot;os&quot; &quot;strings&quot; &quot;github.com/aliyun/alibaba-cloud-sdk-go/services/alidns&quot;)var ( record_host = &quot;www&quot; record_domainName = &quot;&lt;你的域名&gt;&quot; err error = nil localIp string = &quot;127.0.0.1&quot; client *alidns.Client = nil)func init() &#123; client, err = alidns.NewClientWithAccessKey( &quot;&lt;regin&gt; eg:cn-hangzhou&quot;, &quot;&lt;yourAccessKeyID&gt;&quot;, &quot;&lt;yourAccessKeySecret&gt;&quot;, ) if err != nil &#123; log.Println(err) return &#125; localIp = getLocalIpV4()&#125;func main() &#123; // get origin dns var origin_domain alidns.Record DDR := alidns.CreateDescribeDomainRecordsRequest() DDR.Scheme = &quot;https&quot; DDR.DomainName = record_domainName DDR.RRKeyWord = record_host ddr_response, err := client.DescribeDomainRecords(DDR) if err != nil &#123; os.Exit(-1) &#125; origin_domain = ddr_response.DomainRecords.Record[0] // need update ? if origin_domain.Value == localIp &#123; log.Printf(&quot;%s ---&gt; %s : %v\\n&quot;, origin_domain.Value, localIp, &quot;No Change&quot;) return &#125; // update dns record UDR := alidns.CreateUpdateDomainRecordRequest() UDR.Scheme = &quot;https&quot; UDR.RR = origin_domain.RR UDR.RecordId = origin_domain.RecordId UDR.Value = localIp UDR.Type = origin_domain.Type udr_response, err := client.UpdateDomainRecord(UDR) if err != nil &#123; fmt.Print(err) &#125; log.Printf(&quot;%s ---&gt; %s : %v\\n&quot;, origin_domain.Value, localIp, udr_response.IsSuccess())&#125;func getLocalIpV4() string &#123; inters, err := net.Interfaces() if err != nil &#123; panic(err) &#125; for _, inter := range inters &#123; // net is open &amp;&amp; is local loop if inter.Flags&amp;net.FlagUp != 0 &amp;&amp; !strings.HasPrefix(inter.Name, &quot;lo&quot;) &#123; // grep net interface if inter.Name != os.Args[1] &#123; continue &#125; // get net all address addrs, err := inter.Addrs() if err != nil &#123; continue &#125; for _, addr := range addrs &#123; if ipnet, ok := addr.(*net.IPNet); ok &amp;&amp; !ipnet.IP.IsLoopback() &#123; //is ipv4 if ipnet.IP.To4() != nil &#123; return ipnet.IP.String() &#125; &#125; &#125; &#125; &#125; return &quot;&quot;&#125; 构建代码 构建 构建代码之前，请将代码中的空位补充下自己的。 1go build -tags netgo -installsuffix &#x27;static&#x27; -ldflags &quot;-s -w&quot; -o ddns main.go 运行 1./ddns &lt;your network interface&gt; # eg: ddns eth0","categories":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/categories/golang/"}],"tags":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/tags/golang/"},{"name":"ddns","slug":"ddns","permalink":"https://www.mardan.wiki/tags/ddns/"}]},{"title":"尝试Hyper-V","slug":"尝试Hyper-V","date":"2022-05-06T13:49:04.000Z","updated":"2025-04-13T06:16:05.657Z","comments":true,"path":"website/2022/05/06/尝试Hyper-V.html","permalink":"https://www.mardan.wiki/website/2022/05/06/%E5%B0%9D%E8%AF%95Hyper-V.html","excerpt":"概览： 安装 配置 可选步骤","text":"概览： 安装 配置 可选步骤 安装 家庭版需要脚本启用Hyper-V 123456pushd &quot;%~dp0&quot;dir /b %SystemRoot%\\servicing\\Packages\\*Hyper-V*.mum &gt;hyper-v.txtfor /f %%i in (&#x27;findstr /i . hyper-v.txt 2^&gt;nul&#x27;) do dism /online /norestart /add-package:&quot;%SystemRoot%\\servicing\\Packages\\%%i&quot;del hyper-v.txtDism /online /enable-feature /featurename:Microsoft-Hyper-V -All /LimitAccess /ALLpause 配置 虚拟机配置： 内存：1024M 选择默认交换机 系统硬盘：labs:64G 选择安装盘：我选择的arch的衍生版本：archlabs-2022.01.18-x86_64 之后再虚拟机的设置里面 调整cpu核心：我cpu总核心/2 (cpu核心不是线程哦) linux虚拟机禁用安全启动 可以设置下动态内存的范围：我是512M~内存总大小/2 有需要可以设置开机自启虚拟机 现在开始启动虚拟机，开始安装系统 ······ 我安装的系统是ArchLabs：https://archlabslinux.com 可选步骤 安装ssh-server 1pacman -S openssh 编辑文件/etc/ssh/sshd_config，修改PermitRootLogin条目为yes 1PermitRootLogin yes 然后，设置开启自启以及启动ssh服务 12systemctl enable sshd.servicesystemctl start sshd.service ssh服务状态 12345678910111213141516171819● sshd.service - OpenSSH Daemon Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled; vendor preset: disabled) Active: active (running) since Wed 2022-01-26 17:52:41 CST; 3min 47s ago Main PID: 542 (sshd) Tasks: 1 (limit: 1066) Memory: 2.5M CPU: 61ms CGroup: /system.slice/sshd.service └─542 &quot;sshd: /usr/bin/sshd -D [listener] 0 of 10-100 startups&quot;Jan 26 17:52:41 archlabs systemd[1]: Started OpenSSH Daemon.Jan 26 17:52:41 archlabs sshd[542]: Server listening on 0.0.0.0 port 22.Jan 26 17:52:41 archlabs sshd[542]: Server listening on :: port 22.Jan 26 17:53:24 archlabs sshd[573]: Accepted password for root from 172.22.176.1 port 50575 ssh2Jan 26 17:53:24 archlabs sshd[573]: pam_unix(sshd:session): session opened for user root(uid=0) by (uid=0)Jan 26 17:53:24 archlabs sshd[573]: pam_env(sshd:session): deprecated reading of user environment enabledJan 26 17:53:48 archlabs sshd[581]: Accepted password for root from 172.22.176.1 port 50578 ssh2Jan 26 17:53:48 archlabs sshd[581]: pam_unix(sshd:session): session opened for user root(uid=0) by (uid=0)Jan 26 17:53:48 archlabs sshd[581]: pam_env(sshd:session): deprecated reading of user environment enabled","categories":[{"name":"windows","slug":"windows","permalink":"https://www.mardan.wiki/categories/windows/"}],"tags":[{"name":"hyper-V","slug":"hyper-V","permalink":"https://www.mardan.wiki/tags/hyper-V/"}]},{"title":"docker部署zabbix","slug":"docker部署zabbix","date":"2022-05-06T13:29:13.000Z","updated":"2025-04-13T06:16:05.532Z","comments":true,"path":"website/2022/05/06/docker部署zabbix.html","permalink":"https://www.mardan.wiki/website/2022/05/06/docker%E9%83%A8%E7%BD%B2zabbix.html","excerpt":"概览： zabbix-java-gateway zabbix-server-mysql zabbix-web-nginx-mysql docker hub zabbix文档 告警脚本可以通过挂载目录/etc/zabbix/alertscripts/:/usr/lib/zabbix/alertscripts，实现。","text":"概览： zabbix-java-gateway zabbix-server-mysql zabbix-web-nginx-mysql docker hub zabbix文档 告警脚本可以通过挂载目录/etc/zabbix/alertscripts/:/usr/lib/zabbix/alertscripts，实现。 zabbix-java-gateway 1234docker run --name zabbix-java-gateway -t \\ --network=host \\ --restart unless-stopped \\ -d zabbix/zabbix-java-gateway:alpine-5.4-latest zabbix-server-mysql 1234567891011121314151617docker run --name zabbix-server-mysql -t \\ -e DB_SERVER_HOST=&quot;ip&quot; \\ -e MYSQL_DATABASE=&quot;zabbix&quot; \\ -e MYSQL_USER=&quot;zabbix&quot; \\ -e MYSQL_PASSWORD=&quot;passwd&quot; \\ -e ZBX_JAVAGATEWAY=&quot;zabbix-java-gateway&quot; \\ -e ZBX_STARTDISCOVERERS=3 \\ -e ZBX_STARTHISTORYPOLLERS=9 \\ -e ZBX_STARTHTTPPOLLERS=3 \\ -e ZBX_STARTODBCPOLLERS=6 \\ -e PHP_TZ=&quot;Asia/Shanghai&quot; \\ -v &quot;/etc/timezone:/etc/timezone:ro&quot; \\ -v &quot;/etc/localtime:/etc/localtime:ro&quot; \\ --network=host \\ -v /etc/zabbix/alertscripts/:/usr/lib/zabbix/alertscripts \\ --restart unless-stopped \\ -d zabbix/zabbix-server-mysql:alpine-5.4-latest zabbix-web-nginx-mysql 12345678910111213docker run --name zabbix-web-nginx-mysql -t \\ -e ZBX_SERVER_HOST=8080 \\ -e ZBX_SERVER_HOST=&quot;&quot; \\ -e DB_SERVER_HOST=&quot;ip&quot; \\ -e MYSQL_DATABASE=&quot;zabbix&quot; \\ -e MYSQL_USER=&quot;zabbix&quot; \\ -e MYSQL_PASSWORD=&quot;passwd&quot; \\ -e PHP_TZ=&quot;Asia/Shanghai&quot; \\ -v &quot;/etc/timezone:/etc/timezone:ro&quot; \\ -v &quot;/etc/localtime:/etc/localtime:ro&quot; \\ --network=host \\ --restart unless-stopped \\ -d zabbix/zabbix-web-nginx-mysql:alpine-5.4-latest","categories":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"},{"name":"zabbix","slug":"zabbix","permalink":"https://www.mardan.wiki/tags/zabbix/"}]},{"title":"loki, prometheus监控 & grafana仪表","slug":"loki-prometheus监控-grafana仪表","date":"2022-05-06T11:21:13.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2022/05/06/loki-prometheus监控-grafana仪表.html","permalink":"https://www.mardan.wiki/website/2022/05/06/loki-prometheus%E7%9B%91%E6%8E%A7-grafana%E4%BB%AA%E8%A1%A8.html","excerpt":"概览： 镜像下载 官方文档 启用loki 全局启用 特定使用 swarm配置","text":"概览： 镜像下载 官方文档 启用loki 全局启用 特定使用 swarm配置 镜像下载 12345678## grafanadocker pull grafana/loki:2.4.2docker pull grafana/promtail:2.4.2docker pull grafana/grafana:8.2.6## prometheusdocker pull prom/node-exporter:latestdocker pull prom/prometheus:v2.35.0 官方文档 grafane grafana loki prometheus 启用loki 若需要全局使用loki推送docker日志，需要下载docker loki插件 1docker plugin install grafana/loki-docker-driver:latest --alias loki --grant-all-permissions loki可以全局启用，也可以对特定容器启用。 全局启用 12345678[root@primary ~]# cat /etc/docker/daemon.json&#123; &quot;log-driver&quot;: &quot;loki&quot;, &quot;log-opts&quot;: &#123; &quot;loki-url&quot;: &quot;http://localhost:3100/loki/api/v1/push&quot;, &quot;loki-batch-size&quot;: &quot;400&quot; &#125;&#125; 特定使用 123456789101112131415161718192021version: &quot;3.9&quot;services: nginx: image: nginx:1.21.6-alpine networks: - ingress ports: - &quot;80:80&quot; - &quot;443:443&quot; configs: - source: nginx target: /etc/nginx/nginx.conf volumes: - ./conf.d:/etc/nginx/conf.d logging: driver: loki options: loki-url: &quot;http://localhost:3100/loki/api/v1/push&quot; loki-batch-size: &quot;400&quot; loki-retries: 3 swarm配置 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970version: &quot;3.9&quot;services: grafana: image: grafana/grafana:8.2.6 user: root ports: - &quot;3000:3000&quot; volumes: - /data/grafana:/var/lib/grafana configs: - source: grafana target: /etc/grafana/grafana.ini loki: image: grafana/loki:2.5.0 user: root ports: - &quot;3100:3100&quot; command: -config.file=/etc/loki/local-config.yaml volumes: - /data/loki:/loki configs: - source: loki target: /etc/loki/local-config.yaml promtail: image: grafana/promtail:2.5.0 user: root volumes: - /var/run/docker.sock:/var/run/docker.sock command: -config.file=/etc/promtail/config.yml configs: - source: promtail target: /etc/promtail/config.yml prometheus: image: prom/prometheus:v2.34.0 command: --config.file=/etc/prometheus/prometheus.yml --web.route-prefix=/ --web.external-url=https://&lt;domain&gt;/prometheus user: root ports: - &quot;9090:9090&quot; volumes: - /data/prometheus:/prometheus configs: - source: prometheus target: /etc/prometheus/prometheus.yml node-exporter: image: prom/node-exporter:latest command: - &#x27;--path.procfs=/host/proc&#x27; - &#x27;--path.rootfs=/rootfs&#x27; - &#x27;--path.sysfs=/host/sys&#x27; - &#x27;--collector.filesystem.mount-points-exclude=^/(sys|proc|dev|host|etc)($$|/)&#x27; volumes: - /proc:/host/proc - /sys:/host/sys - /:/rootfs - /etc/localtime:/etc/localtimeconfigs: loki: file: ./loki/local-config.yaml promtail: file: ./promtail/docker-config.yaml prometheus: file: ./prometheus/prometheus.yml grafana: file: ./grafana/grafana.ini","categories":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"},{"name":"loki","slug":"loki","permalink":"https://www.mardan.wiki/tags/loki/"},{"name":"prometheus","slug":"prometheus","permalink":"https://www.mardan.wiki/tags/prometheus/"},{"name":"grafana","slug":"grafana","permalink":"https://www.mardan.wiki/tags/grafana/"}]},{"title":"构建hexo cli的docker镜像","slug":"构建hexo_cli的docker镜像","date":"2022-05-05T10:40:46.000Z","updated":"2025-04-13T06:16:05.657Z","comments":true,"path":"website/2022/05/05/构建hexo_cli的docker镜像.html","permalink":"https://www.mardan.wiki/website/2022/05/05/%E6%9E%84%E5%BB%BAhexo_cli%E7%9A%84docker%E9%95%9C%E5%83%8F.html","excerpt":"在有docker的环境，但是不想折腾安装hexo cli，就可以使用docker镜像操作。 概览： 构建镜像 使用hexo-cli","text":"在有docker的环境，但是不想折腾安装hexo cli，就可以使用docker镜像操作。 概览： 构建镜像 使用hexo-cli 构建镜像 1234567891011121314151617FROM node:lts-alpine3.15 AS runnerARG OS=linuxARG ARCH=amd64LABEL description=&quot;hexo cli image&quot;LABEL org.opencontainers.image.authors=&quot;Mardan1 M&quot;WORKDIR /hexoRUN sed -i &#x27;s/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g&#x27; /etc/apk/repositories &amp;&amp; apk add --no-cache gitRUN npm install -g hexo-cliEXPOSE 4000CMD &quot;hexo&quot; &quot;version&quot; 使用hexo-cli 12345[root@labs ~]# docker run --rm -it -p 4000:4000 -v $(pwd)/blog:/hexo -w /hexo hexo-cli sh/hexo # hexo sINFO Validating configINFO Start processingINFO Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.","categories":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/categories/docker/"},{"name":"hexo","slug":"docker/hexo","permalink":"https://www.mardan.wiki/categories/docker/hexo/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"},{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/tags/hexo/"}]},{"title":"lvm磁盘扩容","slug":"lvm磁盘扩容","date":"2022-05-05T08:14:46.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2022/05/05/lvm磁盘扩容.html","permalink":"https://www.mardan.wiki/website/2022/05/05/lvm%E7%A3%81%E7%9B%98%E6%89%A9%E5%AE%B9.html","excerpt":"基本概念 创建lvm卷 查看块情况 格式化磁盘 检查块信息 创建物理卷pv 创建卷组vg 创建逻辑卷lv 格式化逻辑卷 挂载逻辑卷 挂载完成 磁盘扩容 查看块情况 格式化磁盘 检查块信息 刷新分区表 查看vg组 扩展逻辑卷 扫描逻辑卷 扩展逻辑卷 刷新分区表 检查扩容结果","text":"基本概念 创建lvm卷 查看块情况 格式化磁盘 检查块信息 创建物理卷pv 创建卷组vg 创建逻辑卷lv 格式化逻辑卷 挂载逻辑卷 挂载完成 磁盘扩容 查看块情况 格式化磁盘 检查块信息 刷新分区表 查看vg组 扩展逻辑卷 扫描逻辑卷 扩展逻辑卷 刷新分区表 检查扩容结果 基本概念 逻辑卷管理器（Logical Volume Manager，简称LVM）是将多个物理卷抽象成一个卷组，并在卷组的基础上进一步划分逻辑卷的一种磁盘管理方法。 lvm主要由三部分组成：物理卷（Physical Volume, PV）、卷组（Volume Group，VG）以及逻辑卷（Logical Volume，LV）。其中，物理卷可以是一个分区或者整个磁盘，是LVM的底层物理存储单元。多个物理卷合并为一个卷组，这样就创建了一个磁盘空间池。在卷组的基础上可以划分逻辑卷。 创建lvm卷 查看块情况 1234567[root@localhost ~]# lsblkNAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTsda 8:0 0 50G 0 disk├─sda1 8:1 0 200M 0 part /boot├─sda2 8:2 0 4G 0 part [SWAP]└─sda3 8:3 0 45.8G 0 part /sdb 8:16 0 150G 0 disk 格式化磁盘 123456789101112131415161718192021222324252627282930313233343536373839404142[root@localhost ~]# fdisk /dev/sdbWelcome to fdisk (util-linux 2.23.2).Changes will remain in memory only, until you decide to write them.Be careful before using the write command.Device does not contain a recognized partition tableBuilding a new DOS disklabel with disk identifier 0x74bda18d.Command (m for help): pDisk /dev/sdb: 161.1 GB, 161061273600 bytes, 314572800 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x74bda18d Device Boot Start End Blocks Id SystemCommand (m for help): nPartition type: p primary (0 primary, 0 extended, 4 free) e extendedSelect (default p): pPartition number (1-4, default 1):First sector (2048-314572799, default 2048):Using default value 2048Last sector, +sectors or +size&#123;K,M,G&#125; (2048-314572799, default 314572799):Using default value 314572799Partition 1 of type Linux and of size 150 GiB is setCommand (m for help): tSelected partition 1Hex code (type L to list all codes): 8eChanged type of partition &#x27;Linux&#x27; to &#x27;Linux LVM&#x27;Command (m for help): wThe partition table has been altered!Calling ioctl() to re-read partition table.Syncing disks. 检查块信息 12345678[root@localhost ~]# lsblkNAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTsda 8:0 0 50G 0 disk├─sda1 8:1 0 200M 0 part /boot├─sda2 8:2 0 4G 0 part [SWAP]└─sda3 8:3 0 45.8G 0 part /sdb 8:16 0 150G 0 disk└─sdb1 8:17 0 150G 0 part 创建物理卷pv 12[root@localhost ~]# pvcreate /dev/sdb1 Physical volume &quot;/dev/sdb1&quot; successfully created 创建卷组vg 12[root@localhost ~]# vgcreate vg01 /dev/sdb1 Volume group &quot;vg01&quot; successfully created 创建逻辑卷lv 12[root@localhost ~]# lvcreate -l 100%FREE -n lv01_data vg01 Logical volume &quot;lv01_data&quot; created. 格式化逻辑卷 12345678910[root@localhost ~]# mkfs.xfs /dev/vg01/lv01_datameta-data=/dev/vg01/lv01_data isize=256 agcount=4, agsize=9830144 blks = sectsz=512 attr=2, projid32bit=1 = crc=0 finobt=0data = bsize=4096 blocks=39320576, imaxpct=25 = sunit=0 swidth=0 blksnaming =version 2 bsize=4096 ascii-ci=0 ftype=0log =internal log bsize=4096 blocks=19199, version=2 = sectsz=512 sunit=0 blks, lazy-count=1realtime =none extsz=4096 blocks=0, rtextents=0 挂载逻辑卷 1234mkdir /datamount1=&quot;/dev/vg01/lv01_data /data xfs defaults 0 0&quot;echo $&#123;mount1&#125;&gt;&gt;/etc/fstabmount -a # mount /dev/vg01/lv01_data /data 挂载完成 1234567891011[root@localhost ~]# df -hFilesystem Size Used Avail Use% Mounted on/dev/sda3 46G 3.2G 43G 7% /devtmpfs 16G 0 16G 0% /devtmpfs 16G 148K 16G 1% /dev/shmtmpfs 16G 8.9M 16G 1% /runtmpfs 16G 0 16G 0% /sys/fs/cgroup/dev/sda1 197M 139M 59M 71% /boottmpfs 3.2G 28K 3.2G 1% /run/user/1000tmpfs 3.2G 0 3.2G 0% /run/user/0/dev/mapper/vg01-lv01_data 150G 33M 150G 1% /data 磁盘扩容 查看块情况 12345678910[root@localhost ~]# lsblkNAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTsda 8:0 0 50G 0 disk├─sda1 8:1 0 200M 0 part /boot├─sda2 8:2 0 4G 0 part [SWAP]└─sda3 8:3 0 45.8G 0 part /sdb 8:16 0 150G 0 disk└─sdb1 8:17 0 150G 0 part └─vg01-lv01_data 253:0 0 150G 0 lvm /datasdc 8:18 0 150G 0 disk 格式化磁盘 123456789101112131415161718192021222324252627282930313233343536373839404142[root@localhost ~]# fdisk /dev/sdcWelcome to fdisk (util-linux 2.23.2).Changes will remain in memory only, until you decide to write them.Be careful before using the write command.Device does not contain a recognized partition tableBuilding a new DOS disklabel with disk identifier 0x74bda18d.Command (m for help): pDisk /dev/sdc: 161.1 GB, 161061273600 bytes, 314572800 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x74bda18d Device Boot Start End Blocks Id SystemCommand (m for help): nPartition type: p primary (0 primary, 0 extended, 4 free) e extendedSelect (default p): pPartition number (1-4, default 1):First sector (2048-314572799, default 2048):Using default value 2048Last sector, +sectors or +size&#123;K,M,G&#125; (2048-314572799, default 314572799):Using default value 314572799Partition 1 of type Linux and of size 150 GiB is setCommand (m for help): tSelected partition 1Hex code (type L to list all codes): 8eChanged type of partition &#x27;Linux&#x27; to &#x27;Linux LVM&#x27;Command (m for help): wThe partition table has been altered!Calling ioctl() to re-read partition table.Syncing disks. 检查块信息 1234567891011[root@localhost ~]# lsblkNAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTsda 8:0 0 50G 0 disk├─sda1 8:1 0 200M 0 part /boot├─sda2 8:2 0 4G 0 part [SWAP]└─sda3 8:3 0 45.8G 0 part /sdb 8:16 0 150G 0 disk└─sdb1 8:17 0 150G 0 part └─vg01-lv01_data 253:0 0 150G 0 lvm /datasdc 8:18 0 150G 0 disk└─sdc1 8:19 0 150G 0 part 刷新分区表 1partprobe /dev/sdc 查看vg组 123[root@localhost ~]# vgs VG #PV #LV #SN Attr VSize VFree vg01 1 1 0 wz--n- 150.00g 0 扩展逻辑卷 123[root@localhost ~]# vgextend vg01 /dev/sdc1 Physical volume &quot;/dev/sdc1&quot; successfully created. Volume group &quot;vg01&quot; successfully extended 扫描逻辑卷 12[root@localhost ~]# lvscan ACTIVE &#x27;/dev/vg01/lv01_data&#x27; [&lt;150.00 GiB] inherit 扩展逻辑卷 1234[root@localhost ~]# lvextend -l 100%VG /dev/vg01/lv01_data Reducing 100%VG to remaining free space 300 GiB in VG. Size of logical volume centos/root changed from &lt;150 GiB (111550 extents) to 300 GiB (234349 extents). Logical volume vg01/lv01_data successfully resized. 刷新分区表 1234567891011[root@localhost ~]# xfs_growfs /dev/vg01/lv01_datameta-data=/dev/mapper/centos-root isize=512 agcount=6, agsize=2301440 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=0 spinodes=0data = bsize=4096 blocks=11827200, imaxpct=25 = sunit=0 swidth=0 blksnaming =version 2 bsize=4096 ascii-ci=0 ftype=1log =internal bsize=4096 blocks=4495, version=2 = sectsz=512 sunit=0 blks, lazy-count=1realtime =none extsz=4096 blocks=0, rtextents=0data blocks changed from 11827200 to 24933376 检查扩容结果 1234567891011[root@localhost ~]# df -hFilesystem Size Used Avail Use% Mounted on/dev/sda3 46G 3.2G 43G 7% /devtmpfs 16G 0 16G 0% /devtmpfs 16G 148K 16G 1% /dev/shmtmpfs 16G 8.9M 16G 1% /runtmpfs 16G 0 16G 0% /sys/fs/cgroup/dev/sda1 197M 139M 59M 71% /boottmpfs 3.2G 28K 3.2G 1% /run/user/1000tmpfs 3.2G 0 3.2G 0% /run/user/0/dev/mapper/vg01-lv01_data 300G 33M 300G 1% /data","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"lvm","slug":"lvm","permalink":"https://www.mardan.wiki/tags/lvm/"}]},{"title":"nginx自签署CA证书","slug":"nginx自签署CA证书","date":"2022-05-04T19:47:59.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2022/05/05/nginx自签署CA证书.html","permalink":"https://www.mardan.wiki/website/2022/05/05/nginx%E8%87%AA%E7%AD%BE%E7%BD%B2CA%E8%AF%81%E4%B9%A6.html","excerpt":"概览： 生成私钥 生成证书 生成私钥 生成证书签名请求文件（CSR） 编写 x509 v3 扩展文件 使用 v3.ext 生成域名证书","text":"概览： 生成私钥 生成证书 生成私钥 生成证书签名请求文件（CSR） 编写 x509 v3 扩展文件 使用 v3.ext 生成域名证书 生成私钥 1openssl genrsa -out CA.key 4096 生成证书 123openssl req \\-subj &quot;/C=CN/ST=SiChuan/L=ChengDu/O=www.mardan.wiki/OU=Personal/CN=guzal.cc&quot; \\-x509 -new -nodes -sha512 -days 3650 -key CA.key -out CA.crt 生成私钥 1openssl genrsa -out guzal.cc.key 4096 生成证书签名请求文件（CSR） 123openssl req -sha512 -new \\-subj &quot;/C=CN/ST=SiChuan/L=ChengDu/O=www.mardan.wiki/OU=Personal/CN=guzal.cc&quot; \\-key guzal.cc.key -out guzal.cc.csr 编写 x509 v3 扩展文件 1234567authorityKeyIdentifier=keyid,issuerbasicConstraints=CA:FALSEkeyUsage=digitalSignature, nonRepudiation, keyEncipherment, dataEnciphermentsubjectAltName=@alt_names[alt_names]DNS.1=*.guzal.cc 使用 v3.ext 生成域名证书 12openssl x509 -req -sha512 -days 3650 -extfile ../v3.ext \\-CA CA.crt -CAkey CA.key -CAcreateserial -in guzal.cc.csr -out guzal.cc.crt","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"https://www.mardan.wiki/tags/nginx/"},{"name":"certificate","slug":"certificate","permalink":"https://www.mardan.wiki/tags/certificate/"}]},{"title":"docker compose 多节点浮动IP测试","slug":"docker-compose-多节点浮动IP测试","date":"2022-05-04T14:52:59.000Z","updated":"2025-04-13T06:16:05.532Z","comments":true,"path":"website/2022/05/04/docker-compose-多节点浮动IP测试.html","permalink":"https://www.mardan.wiki/website/2022/05/04/docker-compose-%E5%A4%9A%E8%8A%82%E7%82%B9%E6%B5%AE%E5%8A%A8IP%E6%B5%8B%E8%AF%95.html","excerpt":"概览： 先决步骤 编译打包： 部署服务集群 测试","text":"概览： 先决步骤 编译打包： 部署服务集群 测试 先决步骤 代码传送门： Download Now Makefile 1234567891011121314151617all: build.PHONY: buildbuild: @go build -tags netgo -installsuffix &#x27;static&#x27; -ldflags &quot;-s -w&quot; -o server main.go.PHONY: deploydeploy: @docker stack deploy -c docker-compose.yml Node.PHONY: dockerdocker: @docker build -f &quot;Dockerfile/service&quot; -t helloserver:latest ..PHONY: cleanclean: @rm -f server 服务器端代码 ‘main.go’ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950package mainimport ( &quot;fmt&quot; &quot;log&quot; &quot;net/http&quot; &quot;net/url&quot; &quot;os&quot; &quot;time&quot;)var ( HOSTNAME string = &quot;UNKNOW&quot;)func init() &#123; name, err := os.Hostname() if err != nil &#123; name = err.Error() &#125; HOSTNAME = name&#125;func main() &#123; mux := http.NewServeMux() mux.Handle(&quot;/&quot;, http.StripPrefix(&quot;/&quot;, handler&#123;&#125;)) server := &amp;http.Server&#123; Addr: &quot;0.0.0.0:8080&quot;, Handler: mux, &#125; log.Printf(&quot;server Running at http://%v\\n&quot;, server.Addr) server.ListenAndServe()&#125;type handler struct&#123;&#125;func (h handler) ServeHTTP(w http.ResponseWriter, r *http.Request) &#123; start := time.Now() w.Write([]byte(HOSTNAME + &quot;:\\t&quot; + time.Now().Format(&quot;2006-01-02 15:04:05&quot;))) requestsURL, _ := url.QueryUnescape(r.RequestURI) fmt.Printf(&quot;%v ---&gt; %v %v %s &quot;, r.RemoteAddr, r.Proto, r.Method, requestsURL) fmt.Println(time.Since(start)) w.Write([]byte(&quot;\\t&lt;&lt;&lt; &quot; + requestsURL))&#125; docker部分： docker-compose.yml 12345678910111213141516171819202122232425version: &#x27;3.9&#x27;services: server: image: helloserver:latest ports: - &quot;8090:8080&quot; networks: - overlay volumes: - data:/data deploy: mode: replicated replicas: 3 endpoint_mode: vip restart_policy: delay: 10s max_attempts: 3volumes: data:networks: overlay: Dockerfile 1234567891011121314151617181920212223FROM golang:1.17 AS builderENV GOPROXY=https://goproxy.io,directWORKDIR /usr/srcCOPY go.mod go.modCOPY main.go main.goCOPY scripts scriptsCOPY Makefile MakefileRUN ls -alhRUN go mod tidyRUN make build# Final image.FROM alpine:latest AS serverWORKDIR /opt/appCOPY --from=builder /usr/src/server .ENTRYPOINT [&quot;/opt/app/server&quot;] 将以上文件写好之后，开始运行测试 编译打包： 1make docker 部署服务集群 1make deploy 测试 1curl http://localhost:8080","categories":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"}]},{"title":"hexo主题pure启用mermaid","slug":"hexo主题pure启用mermaid","date":"2022-05-04T10:11:04.000Z","updated":"2025-04-13T06:16:05.533Z","comments":true,"path":"website/2022/05/04/hexo主题pure启用mermaid.html","permalink":"https://www.mardan.wiki/website/2022/05/04/hexo%E4%B8%BB%E9%A2%98pure%E5%90%AF%E7%94%A8mermaid.html","excerpt":"概览： 安装 配置 语法实例 效果预览","text":"概览： 安装 配置 语法实例 效果预览 安装 1npm install --save hexo-filter-mermaid-diagrams 配置 在主题的配置文件，添加以下配置内容。 123456# mermaid chartmermaid: ## mermaid url https://github.com/knsv/mermaid enable: true # default true version: &quot;7.1.2&quot; # default v7.1.2 options: # find more api options from https://github.com/knsv/mermaid/blob/master/src/mermaidAPI.js #startOnload: true // default true 并且修改主题的文件 编辑文件 themes/pure/layout/_common/footer.ejs，添加以下内容。 12345678&lt;% if (theme.mermaid.enable) &#123; %&gt; &lt;script src=&#x27;https://unpkg.com/mermaid@&lt;%= theme.mermaid.version %&gt;/dist/mermaid.min.js&#x27;&gt;&lt;/script&gt; &lt;script&gt; if (window.mermaid) &#123; mermaid.initialize(&#123;theme: &#x27;pure&#x27;&#125;); &#125; &lt;/script&gt;&lt;% &#125; %&gt; 编辑完成后，应该看起来是这样的 12345678910111213141516171819&lt;footer class=&quot;footer&quot; itemscope itemtype=&quot;http://schema.org/WPFooter&quot;&gt; &lt;%- partial(&#x27;_common/social&#x27;, null, &#123;cache: !config.relative_link&#125;) %&gt; &lt;div class=&quot;copyright&quot;&gt; &lt;% if(theme.site.copyright) &#123; %&gt; &amp;copy; &lt;%= date(new Date(), &#x27;YYYY&#x27;) %&gt; &lt;%= config.author || config.title %&gt; &lt;% &#125; %&gt; &lt;div class=&quot;publishby&quot;&gt; &lt;%= __(&#x27;copyright.theme_by&#x27;) %&gt; &lt;a href=&quot;https://github.com/cofess&quot; target=&quot;_blank&quot;&gt; cofess &lt;/a&gt;&lt;%= __(&#x27;copyright.base_on&#x27;) %&gt; &lt;a href=&quot;https://github.com/cofess/hexo-theme-pure&quot; target=&quot;_blank&quot;&gt;pure&lt;/a&gt;. &lt;/div&gt; &lt;/div&gt; &lt;% if (theme.mermaid.enable) &#123; %&gt; &lt;script src=&#x27;https://unpkg.com/mermaid@&lt;%= theme.mermaid.version %&gt;/dist/mermaid.min.js&#x27;&gt;&lt;/script&gt; &lt;script&gt; if (window.mermaid) &#123; mermaid.initialize(&#123;theme: &#x27;pure&#x27;&#125;); &#125; &lt;/script&gt; &lt;% &#125; %&gt;&lt;/footer&gt; 语法实例 别忘了再添加语法类型为mermaid 123456789101112131415161718graph LR 单独节点 开始 -- 带注释写法1 --&gt; 结束 开始 --&gt;|带注释写法2| 结束 实线开始 --- 实线结束 实线开始 --&gt; 实线结束 实线开始 --&gt;|带注释| 实线结束 虚线开始 -.- 虚线结束 虚线开始 -.-&gt; 虚线结束 虚线开始 -.-&gt;|带注释| 虚线结束 粗线开始 === 粗线结束 粗线开始 ==&gt; 粗线结束 粗线开始 ==&gt;|带注释| 粗线结束 subgraph 子图标题 子图开始 --&gt; 子图结束 end 节点1[方形文本框] --&gt; 节点2&#123;菱形文本框&#125; 节点3(括号文本框) --&gt; 节点4((圆形文本框)) 效果预览","categories":[{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/tags/hexo/"},{"name":"mermaid","slug":"mermaid","permalink":"https://www.mardan.wiki/tags/mermaid/"}]},{"title":"Spring Boot RESTful接口之Hello World","slug":"Spring-Boot-RESTful接口之Hello-World","date":"2022-03-22T09:29:13.000Z","updated":"2025-04-13T06:16:05.529Z","comments":true,"path":"website/2022/03/22/Spring-Boot-RESTful接口之Hello-World.html","permalink":"https://www.mardan.wiki/website/2022/03/22/Spring-Boot-RESTful%E6%8E%A5%E5%8F%A3%E4%B9%8BHello-World.html","excerpt":"概览： Spring Boot 接口示例 pom.xml java代码 项目配置文件 代码下载","text":"概览： Spring Boot 接口示例 pom.xml java代码 项目配置文件 代码下载 Spring Boot Spring Boot Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can “just run”. We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration. If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out the project release notes section on our wiki. 接口示例 pom.xml 我默认在pom.xml里默认添加了阿里云的mvn源，若不需要可以删除。 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.6.7&lt;/version&gt; &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;org.wiki&lt;/groupId&gt; &lt;artifactId&gt;HW&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;description&gt;Spring Boot Hello World&lt;/description&gt; &lt;name&gt;HW Maven Webapp&lt;/name&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;/properties&gt; &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;spring&lt;/id&gt; &lt;url&gt;https://maven.aliyun.com/repository/spring&lt;/url&gt; &lt;releases&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/releases&gt; &lt;snapshots&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt; &lt;/repositories&gt; &lt;pluginRepositories&gt; &lt;pluginRepository&gt; &lt;id&gt;aliyunmaven&lt;/id&gt; &lt;name&gt;阿里云公共仓库&lt;/name&gt; &lt;url&gt;https://maven.aliyun.com/repository/public&lt;/url&gt; &lt;/pluginRepository&gt; &lt;/pluginRepositories&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; java代码 src/main/java/org/wiki/HW/HWApplication.java 123456789101112package org.wiki.HW;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class HWApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(HWApplication.class, args); &#125;&#125; src/main/java/org/wiki/HW/controller/RootController.java 123456789101112package org.wiki.HW.controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RestControllerpublic class RootController &#123; @RequestMapping(&quot;/&quot;) public String Root()&#123; return &quot;This Is Home&quot;; &#125;&#125; 项目配置文件 src/main/resources/application.yaml 项目主体配置 12345678server: port: 80spring: profiles: active: defaults application: name: spring boot app src/main/resources/logback-spring.xml项目日志配置 12345678910111213&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;configuration&gt; &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;encoder&gt; &lt;pattern&gt;%d&#123;HH:mm:ss.SSS&#125; -[%p] [%thread] %-5level %logger&#123;36&#125; -%msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;root level=&quot;info&quot;&gt; &lt;appender-ref ref=&quot;STDOUT&quot; /&gt; &lt;/root&gt;&lt;/configuration&gt; 代码下载 Download Now","categories":[{"name":"java","slug":"java","permalink":"https://www.mardan.wiki/categories/java/"},{"name":"springboot","slug":"java/springboot","permalink":"https://www.mardan.wiki/categories/java/springboot/"}],"tags":[{"name":"java","slug":"java","permalink":"https://www.mardan.wiki/tags/java/"},{"name":"springboot","slug":"springboot","permalink":"https://www.mardan.wiki/tags/springboot/"}]},{"title":"zsh配置之zshrc","slug":"zsh配置之zshrc","date":"2022-01-22T13:59:13.000Z","updated":"2025-04-13T06:16:05.654Z","comments":true,"path":"website/2022/01/22/zsh配置之zshrc.html","permalink":"https://www.mardan.wiki/website/2022/01/22/zsh%E9%85%8D%E7%BD%AE%E4%B9%8Bzshrc.html","excerpt":"概览： MacOS 终端zsh配置文件","text":"概览： MacOS 终端zsh配置文件 MacOS 终端zsh配置文件 以下为个人配置 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102# Terminal Colors# for code in &#123;000..255&#125;; do print -P -- &quot;$code: %F&#123;$code&#125;Color%f&quot;; doneautoload -Uz colors &amp;&amp; colorsautoload -Uz vcs_infozstyle &#x27;:vcs_info:*&#x27; check-for-changes truezstyle &#x27;:vcs_info:*&#x27; unstagedstr &#x27;%F&#123;red&#125;*&#x27; # display this when there are unstaged changeszstyle &#x27;:vcs_info:*&#x27; stagedstr &#x27;%F&#123;yellow&#125;+&#x27; # display this when there are staged changeszstyle &#x27;:vcs_info:*&#x27; actionformats \\ &#x27;%F&#123;5&#125;%F&#123;5&#125;[%F&#123;2&#125;%b%F&#123;3&#125;|%F&#123;1&#125;%a%c%u%F&#123;5&#125;]%f &#x27;zstyle &#x27;:vcs_info:*&#x27; formats \\ &#x27;%F&#123;5&#125;%F&#123;5&#125;[%F&#123;2&#125;%b%c%u%F&#123;5&#125;]%f &#x27;zstyle &#x27;:vcs_info:(sv[nk]|bzr):*&#x27; branchformat &#x27;%b%F&#123;1&#125;:%F&#123;3&#125;%r&#x27;zstyle &#x27;:vcs_info:*&#x27; enable git cvs svnprecmd_vcs_info() &#123; vcs_info &#125;precmd_functions+=( precmd_vcs_info )setopt prompt_substRPROMPT=&#x27;$&#123;vcs_info_msg_0_&#125;&#x27;setopt no_nomatchPS1=&quot;%&#123;%F&#123;255&#125;%&#125;%n%&#123;%f%&#125;@%&#123;%F&#123;039&#125;%&#125;%m%&#123;%f%&#125; %&#123;%F&#123;008&#125;%&#125;exec: %i/%h current: %j%&#123;%f%&#125; %&#123;%F&#123;093&#125;%&#125;status: %(?.%&#123;%F&#123;135&#125;%&#125;[ ok ]%&#123;%f%&#125;.%&#123;%F&#123;196&#125;%&#125;[oops]%&#123;%f%&#125;)%&#123;%f%&#125;%&#123;%F&#123;008&#125;%&#125;%y %1~%&#123;%f%&#125; %&#123;%F&#123;092&#125;%&#125;%#%&#123;%f%&#125;⚑ %&#123;%F&#123;141&#125;%&#125;&lt;&lt;&lt;%&#123;%f%&#125; &quot;export HISTSIZE=20000000export SAVEHIST=10000000setopt BANG_HIST # Treat the &#x27;!&#x27; character specially during expansion.setopt EXTENDED_HISTORY # Write the history file in the &quot;:start:elapsed;command&quot; format.setopt INC_APPEND_HISTORY # Write to the history file immediately, not when the shell exits.setopt SHARE_HISTORY # Share history between all sessions.setopt HIST_EXPIRE_DUPS_FIRST # Expire duplicate entries first when trimming history.setopt HIST_IGNORE_DUPS # Don&#x27;t record an entry that was just recorded again.setopt HIST_IGNORE_ALL_DUPS # Delete old recorded entry if new entry is a duplicate.setopt HIST_FIND_NO_DUPS # Do not display a line previously found.setopt HIST_IGNORE_SPACE # Don&#x27;t record an entry starting with a space.setopt HIST_SAVE_NO_DUPS # Don&#x27;t write duplicate entries in the history file.setopt HIST_REDUCE_BLANKS # Remove superfluous blanks before recording entry.setopt HIST_VERIFY # Don&#x27;t execute immediately upon history expansion.export GPG_TTY=$(tty)setopt HIST_BEEP # pluginsautoload -Uz compinit &amp;&amp; compinitsource &quot;/Volumes/matrix/configs/zsh/plugins/ohmyzsh/plugins/git/git.plugin.zsh&quot;source &quot;/Volumes/matrix/configs/zsh/plugins/ohmyzsh/plugins/macos/macos.plugin.zsh&quot;source &quot;/Volumes/matrix/configs/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh&quot;source &quot;/Volumes/matrix/configs/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh&quot;# brewexport PATH=&quot;/usr/local/sbin:$PATH&quot;# Goexport GOPROXY=https://goproxy.io,directexport GOROOT=/Volumes/matrix/Applications/golang/go export GOPATH=/Volumes/matrix/Applications/golang/res export PATH=$&#123;GOROOT&#125;/bin:$&#123;GOPATH&#125;/bin:$&#123;PATH&#125;# Nodejsexport NODE_HOME=/Volumes/matrix/Applications/node/node-v16.13.2-darwin-x64export PATH=$&#123;NODE_HOME&#125;/bin:$&#123;PATH&#125;# jdkexport JAVA_HOME=/Volumes/matrix/Applications/java/jdk1.8.0_221export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport PATH=$&#123;PATH&#125;:$&#123;JAVA_HOME&#125;/bin:$&#123;JRE_HOME&#125;/binexport CLASS_PATH=.:$&#123;JAVA_HOME&#125;/lib/dt.jar:$&#123;JAVA_HOME&#125;/lib/tools.jar:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib# Mavenexport PATH=/Volumes/matrix/Applications/java/apache-maven-3.8.4/bin:$&#123;PATH&#125;# ninjaexport PATH=/Volumes/matrix/Applications/toolchain/ninja/bin:$&#123;PATH&#125;# qemuexport PATH=/Volumes/matrix/Applications/qemu/bin:$&#123;PATH&#125;# flutterexport PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cnexport PATH=/Volumes/matrix/Applications/flutter/flutter/bin:$&#123;PATH&#125;# ffmpegexport PATH=/Volumes/matrix/Applications/ffmpeg/bin:$&#123;PATH&#125;## &gt;&gt;&gt; docker remote hostexport DOCKER_HOST=ssh://ubuntu@192.168.64.2export PATH=/Volumes/matrix/Applications/docker/bin:$&#123;PATH&#125;# aliasalias cls=&#x27;clear&#x27;alias tree=&#x27;tree -N&#x27;alias git=&#x27;LANG=en_US git&#x27;alias open_command=&#x27;open&#x27;# color scheme## lsexport CLICOLOR=1export LSCOLORS=Fxexcxdxbxegedabagacad #exfxcxdxbxegedabagacad","categories":[{"name":"osx","slug":"osx","permalink":"https://www.mardan.wiki/categories/osx/"},{"name":"zsh","slug":"osx/zsh","permalink":"https://www.mardan.wiki/categories/osx/zsh/"}],"tags":[{"name":"terminal","slug":"terminal","permalink":"https://www.mardan.wiki/tags/terminal/"},{"name":"zsh","slug":"zsh","permalink":"https://www.mardan.wiki/tags/zsh/"}]},{"title":"docker nginx添加vts支持","slug":"docker_nginx添加vts支持","date":"2021-12-11T05:42:11.000Z","updated":"2025-04-13T06:16:05.532Z","comments":true,"path":"website/2021/12/11/docker_nginx添加vts支持.html","permalink":"https://www.mardan.wiki/website/2021/12/11/docker_nginx%E6%B7%BB%E5%8A%A0vts%E6%94%AF%E6%8C%81.html","excerpt":"概览： Dockerfile 执行构建 docker hub上的nginx镜像默认不支持vts，故不支持prometheus监控。所以通过在官方的nginx的Dockerfile文件修改，添加vts支持。 先将pkg-oss，下载到本地，在其中的Makefile中的构建配置中添加--add-module=/data/src/nginx-module-vts。 然后根据实际情况将Dockerfile里面的拉取nginx-module-vts和pkg-oss换成你的地址。就可以执行docker构建。","text":"概览： Dockerfile 执行构建 docker hub上的nginx镜像默认不支持vts，故不支持prometheus监控。所以通过在官方的nginx的Dockerfile文件修改，添加vts支持。 先将pkg-oss，下载到本地，在其中的Makefile中的构建配置中添加--add-module=/data/src/nginx-module-vts。 然后根据实际情况将Dockerfile里面的拉取nginx-module-vts和pkg-oss换成你的地址。就可以执行docker构建。 Dockerfile 也可以直接抄作业，传送门：https://hub.docker.com/r/ka1i137/nginx 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117## NOTE: THIS DOCKERFILE IS GENERATED VIA &quot;update.sh&quot;## PLEASE DO NOT EDIT IT DIRECTLY.#FROM alpine:latestLABEL maintainer=&quot;NGINX Docker Maintainers &lt;docker-maint@nginx.com&gt;&quot;ENV NGINX_VERSION 1.21.6ENV NJS_VERSION 0.7.2ENV PKG_RELEASE 1ENV NGINX_VTS_VERSION 0.1.18RUN set -x \\# create nginx user/group first, to be consistent throughout docker variants &amp;&amp; addgroup -g 101 -S nginx \\ &amp;&amp; adduser -S -D -H -u 101 -h /var/cache/nginx -s /sbin/nologin -G nginx -g nginx nginx \\ &amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; \\ &amp;&amp; nginxPackages=&quot; \\ nginx=$&#123;NGINX_VERSION&#125;-r$&#123;PKG_RELEASE&#125; \\ nginx-module-xslt=$&#123;NGINX_VERSION&#125;-r$&#123;PKG_RELEASE&#125; \\ nginx-module-geoip=$&#123;NGINX_VERSION&#125;-r$&#123;PKG_RELEASE&#125; \\ nginx-module-image-filter=$&#123;NGINX_VERSION&#125;-r$&#123;PKG_RELEASE&#125; \\ nginx-module-njs=$&#123;NGINX_VERSION&#125;.$&#123;NJS_VERSION&#125;-r$&#123;PKG_RELEASE&#125; \\ &quot; \\# install prerequisites for public key and pkg-oss checks &amp;&amp; sed -i &#x27;s/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g&#x27; /etc/apk/repositories \\ &amp;&amp; apk add --no-cache --virtual .checksum-deps \\ openssl \\# we&#x27;re on an architecture upstream doesn&#x27;t officially build for# let&#x27;s build binaries from the published packaging sources &amp;&amp; set -x \\ &amp;&amp; mkdir -p /data/src \\ &amp;&amp; tempDir=&quot;/data/src&quot; \\ &amp;&amp; chown nobody:nobody $tempDir \\ &amp;&amp; apk add --no-cache --virtual .build-deps \\ git \\ gcc \\ g++ \\ libc-dev \\ make \\ openssl-dev \\ pcre \\ pcre-dev \\ zlib \\ zlib-dev \\ linux-headers \\ libxslt-dev \\ gd-dev \\ geoip-dev \\ perl-dev \\ libedit-dev \\ bash \\ alpine-sdk \\ findutils \\ &amp;&amp; su nobody -s /bin/sh -c &quot; \\ export HOME=$&#123;tempDir&#125; \\ &amp;&amp; cd $&#123;tempDir&#125; \\ &amp;&amp; git clone https://&lt;my.git.hub&gt;/ka1i/nginx-module-vts.git \\ &amp;&amp; git clone https://&lt;my.git.hub&gt;/ka1i/pkg-oss.git \\ &amp;&amp; cd pkg-oss \\ &amp;&amp; cd alpine \\ &amp;&amp; make all \\ &amp;&amp; apk index -o $&#123;tempDir&#125;/packages/alpine/$&#123;apkArch&#125;/APKINDEX.tar.gz $&#123;tempDir&#125;/packages/alpine/$&#123;apkArch&#125;/*.apk \\ &amp;&amp; abuild-sign -k $&#123;tempDir&#125;/.abuild/abuild-key.rsa $&#123;tempDir&#125;/packages/alpine/$&#123;apkArch&#125;/APKINDEX.tar.gz \\ &quot; \\ &amp;&amp; cp $&#123;tempDir&#125;/.abuild/abuild-key.rsa.pub /etc/apk/keys/ \\ &amp;&amp; apk del .build-deps \\ &amp;&amp; apk add -X $&#123;tempDir&#125;/packages/alpine/ --no-cache $nginxPackages \\# remove checksum deps &amp;&amp; apk del .checksum-deps \\# if we have leftovers from building, let&#x27;s purge them (including extra, unnecessary build deps) &amp;&amp; if [ -n &quot;$tempDir&quot; ]; then rm -rf &quot;$tempDir&quot;; fi \\ &amp;&amp; if [ -n &quot;/etc/apk/keys/abuild-key.rsa.pub&quot; ]; then rm -f /etc/apk/keys/abuild-key.rsa.pub; fi \\ &amp;&amp; if [ -n &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm -f /etc/apk/keys/nginx_signing.rsa.pub; fi \\# Bring in gettext so we can get `envsubst`, then throw# the rest away. To do this, we need to install `gettext`# then move `envsubst` out of the way so `gettext` can# be deleted completely, then move `envsubst` back. &amp;&amp; apk add --no-cache --virtual .gettext gettext \\ &amp;&amp; mv /usr/bin/envsubst /tmp/ \\ \\ &amp;&amp; runDeps=&quot;$( \\ scanelf --needed --nobanner /tmp/envsubst \\ | awk &#x27;&#123; gsub(/,/, &quot;\\nso:&quot;, $2); print &quot;so:&quot; $2 &#125;&#x27; \\ | sort -u \\ | xargs -r apk info --installed \\ | sort -u \\ )&quot; \\ &amp;&amp; apk add --no-cache $runDeps \\ &amp;&amp; apk del .gettext \\ &amp;&amp; mv /tmp/envsubst /usr/local/bin/ \\# Bring in tzdata so users could set the timezones through the environment# variables &amp;&amp; apk add --no-cache tzdata \\# Bring in curl and ca-certificates to make registering on DNS SD easier &amp;&amp; apk add --no-cache curl ca-certificates \\# forward request and error logs to docker log collector &amp;&amp; ln -sf /dev/stdout /var/log/nginx/access.log \\ &amp;&amp; ln -sf /dev/stderr /var/log/nginx/error.log \\# create a docker-entrypoint.d directory &amp;&amp; mkdir /docker-entrypoint.dCOPY docker-entrypoint.sh /COPY 10-listen-on-ipv6-by-default.sh /docker-entrypoint.dCOPY 20-envsubst-on-templates.sh /docker-entrypoint.dCOPY 30-tune-worker-processes.sh /docker-entrypoint.dENTRYPOINT [&quot;/docker-entrypoint.sh&quot;]EXPOSE 80STOPSIGNAL SIGQUITCMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;] 执行构建 1docker build . -t nginx:vts","categories":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"},{"name":"nginx","slug":"nginx","permalink":"https://www.mardan.wiki/tags/nginx/"}]},{"title":"docker client使用远程docker engine","slug":"docker-client使用远程docker-engine","date":"2021-10-30T12:45:13.000Z","updated":"2025-04-13T06:16:05.531Z","comments":true,"path":"website/2021/10/30/docker-client使用远程docker-engine.html","permalink":"https://www.mardan.wiki/website/2021/10/30/docker-client%E4%BD%BF%E7%94%A8%E8%BF%9C%E7%A8%8Bdocker-engine.html","excerpt":"概览： 说明 安装 通讯 Q &amp; A “docker” is damaged… Reference","text":"概览： 说明 安装 通讯 Q &amp; A “docker” is damaged… Reference 说明 本机运行docker client # 就是docker CLI 远程服务器运行docker server # 就是docker engine 安装 client 下载最新版本：https://download.docker.com/mac/static/stable/x86_64/ 镜像：https://download.docker.com/mac/static/stable/x86_64/ client我是安装在osx主机上，就是将下载的复制到你的环境目录里。 server server直接安装就可以，跟普通的安装无异。 通讯 为了docker服务器端与客户端的通讯，官方建议使用ssh通讯。所以设置ssh免密，你也可以采用其他通信方式。 免密设置完成，就可以添加以下环境变量，将里面的用户名和主机地址改成自己的。 1export DOCKER_HOST=&#x27;ssh://ubuntu@172.16.107.5&#x27; Q &amp; A “docker” is damaged… Q 在MacOS安装docker CLI后运行，出现此错误。 1&quot;docker&quot; is damaged and can’t be opened. You should move it to the Trash. A 1xattr -cr &lt;app path&gt; Reference rpi64安装docker | Peach Blossom Spring Connect your Docker client to a remote Docker host Provide a way to download only the docker-cli · Issue #2281 · docker/cli Is it possible to install only the docker cli and not the daemon - Stack Overflow How to enable passwordless SSH login on Ubuntu 20.04 that’s inside Multipass multipass-dev-box/cloud-init-template.yaml at master · rajasoun/multipass-dev-box","categories":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"}]},{"title":"macOS卸载内置应用","slug":"macOS卸载内置应用","date":"2021-10-30T12:21:13.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2021/10/30/macOS卸载内置应用.html","permalink":"https://www.mardan.wiki/website/2021/10/30/macOS%E5%8D%B8%E8%BD%BD%E5%86%85%E7%BD%AE%E5%BA%94%E7%94%A8.html","excerpt":"删除需谨慎，别删除掉系统重要组件了。我删除的列表在最下方。 进入osx的恢复模式 重新挂载系统盘 关闭系统完整性保护 删除不必要的应用 重建apfs系统快照 开启系统完整性保护 重启系统 Reference 卸载列表","text":"删除需谨慎，别删除掉系统重要组件了。我删除的列表在最下方。 进入osx的恢复模式 重新挂载系统盘 关闭系统完整性保护 删除不必要的应用 重建apfs系统快照 开启系统完整性保护 重启系统 Reference 卸载列表 进入osx的恢复模式 开机按住Commond+R 进入系统Recovery模式 重新挂载系统盘 打开磁盘工具 卸载系统盘 因为需要取消系统盘的只读模式 关闭系统完整性保护 然后打开终端命令行 输入csrutil disable ，取消系统保护模式 删除不必要的应用 然后进入/Volumes找到你的Macos盘名，进入后 在寻找系统内置应用程序的目录在/System/Applications/，里面就是系统内置应用了。 通过rm -rf 删除，eg:rm -rf Podcasts.app 重建apfs系统快照 然后确认删完了你想要的app后，在运行以下命令，系统盘替换为你自己的路径。 1sudo bless --folder /Volumes/&lt;MacOS 系统盘名称&gt;/System/Library/CoreServices --bootefi --create-snapshot 开启系统完整性保护 最后启动系统保护模式 1csrutil enable 重启系统 检查一下是否删除成功了。 Reference B站录屏参考 如何评价 macOS Big Sur 关闭 SIP 后仍无法修改 System 文件夹下文件？ 卸载列表 123456789101112131415BooksChessContactsFaceTimeMailMapsMessagesMusicNewsNotesPhoto BoothPodcastsStocksTVVoiceMemos","categories":[{"name":"macOS","slug":"macOS","permalink":"https://www.mardan.wiki/categories/macOS/"}],"tags":[{"name":"macOS","slug":"macOS","permalink":"https://www.mardan.wiki/tags/macOS/"}]},{"title":"docker搭建jupyterLab环境","slug":"docker搭建jupyterLab环境","date":"2021-06-16T03:41:33.000Z","updated":"2025-04-13T06:16:05.532Z","comments":true,"path":"website/2021/06/16/docker搭建jupyterLab环境.html","permalink":"https://www.mardan.wiki/website/2021/06/16/docker%E6%90%AD%E5%BB%BAjupyterLab%E7%8E%AF%E5%A2%83.html","excerpt":"概览： 下载初始包 更新docker镜像 打包新镜像 启动Tensorflow环境 完善环境","text":"概览： 下载初始包 更新docker镜像 打包新镜像 启动Tensorflow环境 完善环境 下载初始包 12docker search continuumiodocker run -i -t --name Miniconda3 continuumio/miniconda3 /bin/bash 更新docker镜像 注意，请记住此容器的ID。。。或者别名 1234#更新conda的包conda update --all#安装JupyterLab website: https://jupyter.org/install.htmlconda install -c conda-forge jupyterlab 1234conda install tensorflowconda install numpyconda install matplotlibexit 打包新镜像 1docker commit -m &quot;Add some my env&quot; -a &quot;ka1i&quot; Miniconda3 ka1i/miniconda3:last 启动Tensorflow环境 123docker rm Miniconda3docker run -i -t -d -p 8888:8888 --name Miniconda3 ka1i/miniconda3 /bin/bash -c &quot;mkdir /opt/notebooks;jupyter-lab --notebook-dir=/opt/notebooks --ip=&#x27;*&#x27; --port=8888 --no-browser --allow-root&quot; 以后使用就只需要使用以下命令。启动和进入控制台。 12docker start Miniconda3docker exec -it Miniconda3 /bin/bash 完善环境 继续下载机器学习环境工具包 tensorflow2 TensorFlow binaries supporting AVX, FMA, SSE 建议axel多线程下载 如果宿主机已经下载了复制到容器里面 1docker cp workspace/tensorflow/tensorflow-2.1.0-cp35-cp35m-linux_x86_64.whl Miniconda3:/root 如果不需要，那么直接conda下载安装 1234docker start Miniconda3docker exec -it Miniconda3 /bin/bashconda install tensorflow-2.1.0-cp35-cp35m-linux_x86_64.whl","categories":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"},{"name":"jupyter","slug":"jupyter","permalink":"https://www.mardan.wiki/tags/jupyter/"}]},{"title":"github commit使用gpg","slug":"github-commit使用gpg","date":"2021-04-24T07:39:32.000Z","updated":"2025-04-13T06:16:05.532Z","comments":true,"path":"website/2021/04/24/github-commit使用gpg.html","permalink":"https://www.mardan.wiki/website/2021/04/24/github-commit%E4%BD%BF%E7%94%A8gpg.html","excerpt":"概览： 起因 安装gpg 创建gpg key 开启全局签名","text":"概览： 起因 安装gpg 创建gpg key 开启全局签名 起因 偶尔在GitHub看到有些某些贡献者提交代码时，在github网站显示commit信息时，会显示Verified。发现是使用了gpg。 https://docs.github.com/en/github/authenticating-to-github/about-commit-signature-verification 安装gpg 首先是安装和查看gpg版本 1234567891011121314151617$ brew install gpg$ gpg --versiongpg (GnuPG) 2.3.1libgcrypt 1.9.3Copyright (C) 2021 Free Software Foundation, Inc.License GNU GPL-3.0-or-later &lt;https://gnu.org/licenses/gpl.html&gt;This is free software: you are free to change and redistribute it.There is NO WARRANTY, to the extent permitted by law.Home: /Users/mardan/.gnupgSupported algorithms:Pubkey: RSA, ELG, DSA, ECDH, ECDSA, EDDSACipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH, CAMELLIA128, CAMELLIA192, CAMELLIA256AEAD: EAX, OCBHash: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224Compression: Uncompressed, ZIP, ZLIB, BZIP2 创建gpg key https://docs.github.com/en/github/authenticating-to-github/generating-a-new-gpg-key 查看已存在的keys 1gpg --list-secret-keys --keyid-format LONG 如果需要生成新的keys 1gpg --full-generate-key RSA and RSA 4096 key does not expire 其他的信息自己看着填写 例如生成了以下keys 1234pub rsa4096 2021-04-24 [SC] B7B19D02FB5A82A14C50677797C0CDDADFC43DACuid mardan (github) &lt;xxxxxxxx@outlook.com&gt;sub rsa4096 2021-04-24 [E] 导出公钥 123# 可以写完整的pub id，# 或者通过查看已有的keys里的like： sec rsa4096/97C0CDDADFC43DAC 2021-04-24 [SC]gpg --armor --export 97C0CDDADFC43DAC 将导出的公钥写入到github设置的gpg里面。 git使用gpg进行签名 https://docs.github.com/en/github/authenticating-to-github/telling-git-about-your-signing-key 1git config --global user.signingkey 97C0CDDADFC43DAC 并将这个export GPG_TTY=$(tty)添加到.bashrc或者.zshrc，不然commit时无法进行签名，需要输入生成keys时的密码。 然后签名提交,看看效果 开启全局签名 不开启全局签名，就需要每次在提交时加上-S参数。像git commit -S -m &quot;this is cool code&quot; 1git config --global commit.gpgsign true","categories":[{"name":"github","slug":"github","permalink":"https://www.mardan.wiki/categories/github/"}],"tags":[{"name":"github","slug":"github","permalink":"https://www.mardan.wiki/tags/github/"},{"name":"gpg","slug":"gpg","permalink":"https://www.mardan.wiki/tags/gpg/"}]},{"title":"Super minimal golang concurrent gui","slug":"Super-minimal-golang-concurrent-gui","date":"2021-04-07T17:14:56.000Z","updated":"2025-04-13T06:16:05.529Z","comments":true,"path":"website/2021/04/08/Super-minimal-golang-concurrent-gui.html","permalink":"https://www.mardan.wiki/website/2021/04/08/Super-minimal-golang-concurrent-gui.html","excerpt":"概览： Why concurrent GUI? hello world：","text":"概览： Why concurrent GUI? hello world： Super minimal, rock-solid foundation for concurrent GUI in Go. 摘自https://github.com/faiface/gui这个仓库，gui是一个golang中的gui库。 库官方对并发的解释： Why concurrent GUI? GUI is concurrent by nature. Elements like buttons, text fields, or canvases are conceptually independent. Conventional GUI frameworks solve this by implementing huge architectures: the event loop, call-backs, tickers, you name it. In a concurrent GUI, the story is different. Each element is actually handled by its own goroutine, or event multiple ones. Elements communicate with each other via channels. This has several advantages: Make a new element at any time just by spawning a goroutine. Implement animations using simple for-loops. An intenstive computation in one element won’t block the whole app. Enables decentralized design - since elements communicate via channels, multiple communications may be going on at once, without any central entity. hello world： 今天呢？先入个门 1234567891011121314151617181920212223242526272829303132333435363738package mainimport ( &quot;image&quot; &quot;image/draw&quot; &quot;github.com/faiface/gui/win&quot; &quot;github.com/faiface/mainthread&quot;)var ( title string = &quot;hello golang gui&quot; width int = 1024 height int = 576)func run() &#123; w, err := win.New(win.Title(title), win.Size(width, height), win.Resizable()) if err != nil &#123; panic(err) &#125; w.Draw() &lt;- func(drw draw.Image) image.Rectangle &#123; rectImage := image.NewRGBA(image.Rect(int(width/2+150), int(height/2+150), int(width/2-150), int(height/2-150))) draw.Draw(drw, rectImage.Bounds(), image.White, image.Point&#123;&#125;, draw.Src) return rectImage.Bounds() &#125; for event := range w.Events() &#123; switch event.(type) &#123; case win.WiClose: close(w.Draw()) &#125; &#125;&#125;func main() &#123; mainthread.Run(run)&#125; 其实就是官方的示例修改而来，如果想自适应，应该需要全部组件以窗口大小为基准而更新窗口。我这个示例还没有做到这些，留到以后再探索吧！","categories":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/categories/golang/"}],"tags":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/tags/golang/"},{"name":"gui","slug":"gui","permalink":"https://www.mardan.wiki/tags/gui/"}]},{"title":"golang实现守护进程","slug":"golang实现守护进程","date":"2021-03-31T13:59:13.000Z","updated":"2025-04-13T06:16:05.532Z","comments":true,"path":"website/2021/03/31/golang实现守护进程.html","permalink":"https://www.mardan.wiki/website/2021/03/31/golang%E5%AE%9E%E7%8E%B0%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B.html","excerpt":"概览： 守护进程介绍 创建步骤 (1)创建子进程，终止父进程 (2)在子进程中创建新会话 (3)改变工作目录 (4)重设文件创建掩码 (5)关闭文件描述符 golang版本 效果展示","text":"概览： 守护进程介绍 创建步骤 (1)创建子进程，终止父进程 (2)在子进程中创建新会话 (3)改变工作目录 (4)重设文件创建掩码 (5)关闭文件描述符 golang版本 效果展示 守护进程介绍 守护进程(daemon)是一类在后台运行的特殊进程，用于执行特定的系统任务。很多守护进程在系统引导的时候启动，并且一直运行直到系统关闭。另一些只在需要的时候才启动，完成任务后就自动结束。 守护进程是一个在后台运行并且不受任何终端控制的进程。Unix操作系统有很多典型的守护进程(其数目根据需要或20—50不等)，它们在后台运行，执行不同的管理任务。 用户使守护进程独立于所有终端是因为，在守护进程从一个终端启动的情况下，这同一个终端可能被其他的用户使用。例如，用户从一个终端启动守护进程后退出，然后另外一个人也登录到这个终端。用户不希望后者在使用该终端的过程中，接收到守护进程的任何错误信息。同样，由终端键入的任何信号(例如中断信号)也不应该影响先前在该终端启动的任何守护进程的运行。虽然让服务器后台运行很容易(只要shell命令行以&amp;结尾即可)，但用户还应该做些工作，让程序本身能够自动进入后台，且不依赖于任何终端。 守护进程没有控制终端，因此当某些情况发生时，不管是一般的报告性信息，还是需由管理员处理的紧急信息，都需要以某种方式输出。Syslog 函数就是输出这些信息的标准方法，它把信息发送给 syslogd 守护进程。 创建步骤 (1)创建子进程，终止父进程 由于守护进程是脱离控制终端的，因此首先创建子进程，终止父进程，使得程序在shell终端里造成一个已经运行完毕的假象。之后所有的工作都在子进程中完成，而用户在shell终端里则可以执行其他的命令，从而使得程序以僵尸进程形式运行，在形式上做到了与控制终端的脱离。 (2)在子进程中创建新会话 这个步骤是创建守护进程中最重要的一步，在这里使用的是系统函数setsid。 setsid函数用于创建一个新的会话，并担任该会话组的组长。调用setsid仃三个作用：让进程摆脱原会话的控制、让进程摆脱原进程组的控制和让进程摆脱原控制终端的控制。 在调用fork函数时，子进程全盘拷贝父进程的会话期(session，是一个或多个进程组的集合)、进程组、控制终端等，虽然父进程退出了，但原先的会话期、进程组、控制终端等并没有改变，因此，那还不是真正意义上使两者独立开来。setsid函数能够使进程完全独立出来，从而脱离所有其他进程的控制。 (3)改变工作目录 使用fork创建的子进程也继承了父进程的当前工作目录。由于在进程运行过程中，当前目录所在的文件系统不能卸载，因此，把当前工作目录换成其他的路径，如“/”或“/tmp”等。改变工作目录的常见函数是chdir。 (4)重设文件创建掩码 文件创建掩码是指屏蔽掉文件创建时的对应位。由于使用fork函数新建的子进程继承了父进程的文件创建掩码，这就给该子进程使用文件带来了诸多的麻烦。因此，把文件创建掩码设置为0，可以大大增强该守护进程的灵活性。设置文件创建掩码的函数是umask，通常的使用方法为umask(0)。 (5)关闭文件描述符 用fork新建的子进程会从父进程那里继承一些已经打开了的文件。这些被打开的文件可能永远不会被守护进程读或写，但它们一样消耗系统资源，可能导致所在的文件系统无法卸载。 首先，用c语言实现 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt; #include &lt;unistd.h&gt; #include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt;void mydaemon(int ischdir,int isclose)&#123; // 调用setsid() 的不能是进程组组长，当前程序有可能是进程组组长 pid_t pid = fork(); // 非子进程则退出 if(pid != 0) exit(-1); // 父进程退出，留下子进程 // 创建一个新的会话期，从而脱离原有的会话期 // 进程同时与控制终端脱离 setsid(); // 此时子进程成为新会话期的领导和新的进程组长 // 但这样的身份可能会通过fcntl去获到终端 pid = fork(); // 非子进程则退出 if(pid != 0) exit(-1); // 此时留下来的是孙子进程,再也不能获取终端 // 通常来讲, 守护进程应该工作在一个系统永远不会删除的目录下 if(ischdir == 0) &#123; chdir(&quot;/&quot;); &#125; // 关闭输入输出和错误流 (通过日志来查看状态) if(isclose == 0) &#123; close(0); close(1); close(2); &#125; //去掩码位 umask((mode_t)0);//sys/stat.h&#125;int main(int argc, char *argv[])&#123; mydaemon(1,1); #加载自己的负载任务 exit(EXIT_SUCCESS);&#125; golang版本 Golang 和c代码混编 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374package main/*// C#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt;void mydaemon(int ischdir,int isclose)&#123; // 调用setsid() 的不能是进程组组长，当前程序有可能是进程组组长 pid_t pid = fork(); // 非子进程则退出 if(pid != 0) exit(-1); // 父进程退出，留下子进程 // 创建一个新的会话期，从而脱离原有的会话期 // 进程同时与控制终端脱离 setsid(); // 此时子进程成为新会话期的领导和新的进程组长 // 但这样的身份可能会通过fcntl去获到终端 pid = fork(); // 非子进程则退出 if(pid != 0) exit(-1); // 此时留下来的是孙子进程,再也不能获取终端 // 通常来讲, 守护进程应该工作在一个系统永远不会删除的目录下 if(ischdir == 0) &#123; chdir(&quot;/&quot;); &#125; // 关闭输入输出和错误流 (通过日志来查看状态) if(isclose == 0) &#123; close(0); close(1); close(2); &#125; //去掩码位 umask((mode_t)0);//sys/stat.h&#125;*/import &quot;C&quot;import ( &quot;fmt&quot; &quot;os&quot; &quot;time&quot;)func main() &#123; fmt.Println(&quot;Run daemon&quot;) C.mydaemon(1, 1) fmt.Printf(&quot;User gid: %v, uid: %v\\n&quot;, os.Getegid(), os.Geteuid()) fmt.Printf(&quot;Precess id: %v %v\\n&quot;, os.Getpid(), os.Getppid()) //模拟负载 ticker := time.NewTicker(time.Second * 1) for &#123; &lt;-ticker.C fmt.Println(time.Now()) &#125;&#125; 效果展示 输出时间是因为用了fmt.Print函数，所以会输出到当前终端","categories":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/categories/golang/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"daemon","slug":"daemon","permalink":"https://www.mardan.wiki/tags/daemon/"}]},{"title":"Wispeeer User Guide","slug":"Wispeeer_User_Guide","date":"2021-03-28T19:20:37.000Z","updated":"2025-04-13T06:16:05.530Z","comments":true,"path":"website/2021/03/29/Wispeeer_User_Guide.html","permalink":"https://www.mardan.wiki/website/2021/03/29/Wispeeer_User_Guide.html","excerpt":"Usage: wispeeer -[gpdhv] [-i &lt;alias&gt;] [-n &lt;title&gt;] If you are using it for the first time, first execute the command “wispeeer init &lt;Blog directory&gt;” to initialize the blog. 概览： 依赖 (Require) 编译依赖 (Build Require) Build &amp; Run Usage wispeeer init Reference","text":"Usage: wispeeer -[gpdhv] [-i &lt;alias&gt;] [-n &lt;title&gt;] If you are using it for the first time, first execute the command “wispeeer init &lt;Blog directory&gt;” to initialize the blog. 概览： 依赖 (Require) 编译依赖 (Build Require) Build &amp; Run Usage wispeeer init Reference 依赖 (Require) 编译依赖 (Build Require) GNU Make 4.3 (make --version) go version go1.16 (go version) Build &amp; Run 12make build./bin/wispeeer_$(go env GOOS)_$(go env GOARCH) -h more build option 1make help Usage 1wispeeer -h wispeeer init 12wispeeer init $&#123;USER&#125;.github.iocd $&#123;USER&#125;.github.io Reference github.com/ka1i/wispeeer github.com/Wispeeer/wisper","categories":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/categories/golang/"}],"tags":[{"name":"wispeeer","slug":"wispeeer","permalink":"https://www.mardan.wiki/tags/wispeeer/"}]},{"title":"arduino代码合集","slug":"arduino代码合集","date":"2020-12-11T05:42:11.000Z","updated":"2025-04-13T06:16:05.531Z","comments":true,"path":"website/2020/12/11/arduino代码合集.html","permalink":"https://www.mardan.wiki/website/2020/12/11/arduino%E4%BB%A3%E7%A0%81%E5%90%88%E9%9B%86.html","excerpt":"概览： 步进电机测试程序 门禁控制","text":"概览： 步进电机测试程序 门禁控制 步进电机测试程序 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189/* Arduino控制NEMA步进电机测试程序 （2018-09-25） by 太极创客（www.taichi-maker.com） 本示例程序旨在演示如何通过Arduino控制NEMA步进电机。 用户可通过串口监视器控制电机的各个功能 如需获得本示例程序详细电路信息以及如何使用Arduino控制电机的更多知识，请参考太极创客网站： http://www.taichi-maker.com/homepage/reference-index/motor-reference-index/arduino-a4988-nema-stepper-motor/ 控制指令： 顺时针旋转/逆时针旋转 - x0/x1 运行步数 - z100(走100步) 步进方式 - b1(全步),b2(半步),b4(四分),b8(8分),b16(16分) 速度 - d2000(转动速度2000) 允许工作/禁止工作(enable/disable) - g1/g0 睡眠 - m0（sleep)/m1（awake) */ // A4988引脚连接Arduino引脚编号const int dirPin = 2; // Directionconst int stepPin = 3; // Stepconst int sleepPin = 4; // Sleepconst int resetPin = 5; // Resetconst int ms3Pin = 6; // Ms3const int ms2Pin = 7; // Ms2const int ms1Pin = 8; // Ms1const int enPin = 9; // Enable // 步进电机旋转一周步数const int STEPS_PER_REV = 200; char cmd; //用户指令字符int data; //用户指令数据int motorSpeed = 2000; //电机转速(数值越小速度越小) void setup() &#123; // 设置引脚模式 pinMode(stepPin,OUTPUT); pinMode(dirPin,OUTPUT); pinMode(sleepPin,OUTPUT); pinMode(resetPin,OUTPUT); pinMode(ms3Pin,OUTPUT); pinMode(ms2Pin,OUTPUT); pinMode(ms1Pin,OUTPUT); pinMode(enPin,OUTPUT); // 初始化引脚状态 digitalWrite(sleepPin, HIGH); digitalWrite(resetPin, HIGH); digitalWrite(enPin, LOW); // 初始化电机步进模式为全步进 digitalWrite(ms1Pin, LOW); digitalWrite(ms2Pin, LOW); digitalWrite(ms3Pin, LOW); Serial.begin(9600); Serial.println(&quot;++++++++++++++++++++++++++++++++++&quot;); Serial.println(&quot;+ Taichi-Maker A4988 Steper Demo +&quot;); Serial.println(&quot;+ www.taichi-maker.com +&quot;); Serial.println(&quot;++++++++++++++++++++++++++++++++++&quot;); Serial.println(&quot;&quot;); Serial.println(&quot;Please input motor command:&quot;); &#125; void loop() &#123; if (Serial.available()) &#123; // 检查串口缓存是否有数据等待传输 cmd = Serial.read(); // 获取电机指令中电机编号信息 Serial.print(&quot;cmd = &quot;); Serial.print(cmd); Serial.print(&quot; , &quot;); data = Serial.parseInt(); Serial.print(&quot;data = &quot;); Serial.print(data); Serial.println(&quot;&quot;); runUsrCmd(); &#125;&#125; //此函数用于运行用户指令void runUsrCmd()&#123; switch(cmd)&#123; case &#x27;x&#x27;: // 设置步进电机旋转(顺时针/逆时针) Serial.print(&quot;Set Rotation To &quot;); if (data == 0)&#123; digitalWrite(dirPin, 0); Serial.println(&quot;Clockwise.&quot;); &#125; else &#123; digitalWrite(dirPin, 1); Serial.println(&quot;Counter Clockwise.&quot;); &#125; break; case &#x27;g&#x27;: // 设置A4988 enable功能 Serial.print(&quot;Set Motor To &quot;); if (data == 0)&#123; digitalWrite(enPin, 1); Serial.println(&quot;Disable.&quot;); &#125; else &#123; digitalWrite(enPin, 0); Serial.println(&quot;Enable.&quot;); &#125; break; case &#x27;m&#x27;: // 设置A4988 sleep功能 Serial.print(&quot;Set Motor To &quot;); if (data == 0)&#123; digitalWrite(sleepPin, 0); Serial.println(&quot;Sleep.&quot;); &#125; else &#123; digitalWrite(sleepPin, 1); Serial.println(&quot;Awake.&quot;); &#125; break; case &#x27;b&#x27;: // 设置步进模式 if (data == 1 || data == 2 || data == 4 || data == 8 || data == 16)&#123; Serial.print(&quot;Set Motor Step Control To &quot;); setStepMode(data); &#125; else &#123; Serial.println(&quot;Wrong Step Mode Cmd!&quot;); &#125; break; case &#x27;z&#x27;: // 设置步进电机运行步数 runStepper(motorSpeed, data); break; case &#x27;d&#x27;: // 设置步进电机运行速度 motorSpeed = data; Serial.print(&quot;Set Motor Speed To &quot;); Serial.println(data); break; default: // 未知指令 Serial.println(&quot;Unknown Command&quot;); &#125;&#125; //运行步进电机void runStepper (int rotationSpeed, int stepNum)&#123; for(int x = 0; x &lt; stepNum; x++) &#123; digitalWrite(stepPin,HIGH); delayMicroseconds(rotationSpeed); digitalWrite(stepPin,LOW); delayMicroseconds(rotationSpeed); &#125; &#125; //设置步进模式void setStepMode(int modeNum)&#123; switch(modeNum)&#123; case 1: // 全步进 digitalWrite(ms1Pin, LOW); digitalWrite(ms2Pin, LOW); digitalWrite(ms3Pin, LOW); Serial.println(F(&quot;Stepping Mode: Full&quot;)); break; case 2: // 半步进 digitalWrite(ms1Pin, HIGH); digitalWrite(ms2Pin, LOW); digitalWrite(ms3Pin, LOW); Serial.println(F(&quot;Stepping Mode: 1/2&quot;)); break; case 4: // 1/4 步进 digitalWrite(ms1Pin, LOW); digitalWrite(ms2Pin, HIGH); digitalWrite(ms3Pin, LOW); Serial.println(F(&quot;Stepping Mode: 1/4&quot;)); break; case 8: // 1/8 步进 digitalWrite(ms1Pin, HIGH); digitalWrite(ms2Pin, HIGH); digitalWrite(ms3Pin, LOW); Serial.println(F(&quot;Stepping Mode: 1/8&quot;)); break; case 16: // 1/16 步进 digitalWrite(ms1Pin, HIGH); digitalWrite(ms2Pin, HIGH); digitalWrite(ms3Pin, HIGH); Serial.println(F(&quot;Stepping Mode: 1/16&quot;)); break; &#125; &#125; 门禁控制 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159#include &lt;SPI.h&gt;#include &lt;MFRC522.h&gt;#include &lt;IRremote.h&gt;// 引脚 宏定义#define NFC_SS 10#define NFC_RST 9#define SETEP_EN 4#define SETEP_STEP 3#define SETEP_DIR 2#define RECV_PIN 8#define SWITCH_PIN 7// 变量及全局维护列表MFRC522 rfid(NFC_SS,NFC_RST);IRrecv irrecv(RECV_PIN);decode_results results; //NFC card read info.byte Access[5][4]=&#123;&#123;170,76,149,250&#125;,&#123;242,46,53,46&#125;,&#123;128,139,228,206&#125;,&#123;240,191,231,206&#125;,&#123;154,40,151,250&#125;&#125;;void setup() &#123; // put your setup code here, to run once: Serial.begin(9600); SPI.begin(); rfid.PCD_Init(); irrecv.enableIRIn(); // 初始化红外接收器 Serial.println(F(&quot;418 门禁控制系统 v2.0&quot;)); // pin mode setting pinMode(SETEP_EN,OUTPUT); pinMode(SETEP_STEP,OUTPUT); pinMode(SETEP_DIR,OUTPUT); digitalWrite(SETEP_EN,LOW); pinMode(SWITCH_PIN,INPUT);&#125;void loop() &#123; // put your main code here, to run repeatedly: /** * 红外信号检测. */ if (irrecv.decode(&amp;results)) &#123; Serial.print(&quot;检测到红外信号：&quot;); Serial.println(results.value, DEC);//以16进制换行输出接收代码 if(results.value==16712445 || results.value==16753245 || results.value==16761405)&#123; door_open(); &#125; //delay(200); irrecv.resume(); // 接收下一个值 &#125; /** * NFC检测. */ if( rfid.PICC_IsNewCardPresent() &amp;&amp; rfid.PICC_ReadCardSerial())&#123; Serial.print(F(&quot;PICC type: &quot;)); MFRC522::PICC_Type piccType = rfid.PICC_GetType(rfid.uid.sak); Serial.println(rfid.PICC_GetTypeName(piccType)); // Check is the PICC of Classic MIFARE type if (piccType != MFRC522::PICC_TYPE_MIFARE_MINI &amp;&amp; piccType != MFRC522::PICC_TYPE_MIFARE_1K &amp;&amp; piccType != MFRC522::PICC_TYPE_MIFARE_4K) &#123; Serial.println(F(&quot;Your tag is not of type MIFARE Classic.&quot;)); return; &#125; Serial.println(F(&quot;The NUID tag is:&quot;)); Serial.print(F(&quot;In hex: &quot;)); printHex(rfid.uid.uidByte, rfid.uid.size); Serial.println(); Serial.print(F(&quot;In dec: &quot;)); printDec(rfid.uid.uidByte, rfid.uid.size); Serial.println(); for (byte index=0;index&lt;5;index++)&#123; if (rfid.uid.uidByte[0] == Access[index][0] &amp;&amp; rfid.uid.uidByte[1] == Access[index][1] &amp;&amp; rfid.uid.uidByte[2] == Access[index][2] &amp;&amp; rfid.uid.uidByte[3] == Access[index][3] ) &#123; Serial.println(F(&quot;Verify!&quot;)); Serial.println(&quot;Door Opening use nfc&quot;); door_open(); &#125; else &#123; Serial.println(F(&quot;unVerify!&quot;)); &#125; &#125; // Halt PICC rfid.PICC_HaltA(); // Stop encryption on PCD rfid.PCD_StopCrypto1(); &#125; &#125;int lock()&#123; int check; float sum = 0; //Serial.println(My_A5*(5.0/1023.0)); for(int i=0;i&lt;10;i++)&#123; check = digitalRead(SWITCH_PIN); sum += check; delay(1); &#125; if ((sum/10) &gt; 4.8)&#123; return true; &#125; else &#123; return false; &#125;&#125;void door_open()&#123; int x; int xyz=250; digitalWrite(SETEP_DIR,HIGH); // 设置高电平的方向 for(x = 0; x &lt; xyz; x++) // 重复200次，即走200步 &#123; digitalWrite(SETEP_STEP,HIGH); // Output high delayMicroseconds(800); // 等待800微秒 digitalWrite(SETEP_STEP,LOW); // Output low delayMicroseconds(800); // 等待800微秒 if (lock())&#123; xyz = x; break; &#125; &#125; delay(1000); //暂停1000豪秒（相当于1秒） digitalWrite(SETEP_DIR,LOW); // 设置低电平的方向 for(x=0; x &lt; xyz; x++) // 重复200次 &#123; digitalWrite(SETEP_STEP,HIGH); // Output high delayMicroseconds(800); // 等待800微秒 digitalWrite(SETEP_STEP,LOW); // Output low delayMicroseconds(800); // 等待800微秒 &#125; delay(1000); // &#125;/** * Helper routine to dump a byte array as hex values to Serial. */void printHex(byte *buffer, byte bufferSize) &#123; for (byte i = 0; i &lt; bufferSize; i++) &#123; Serial.print(buffer[i] &lt; 0x10 ? &quot; 0&quot; : &quot; &quot;); Serial.print(buffer[i], HEX); &#125;&#125;/** * Helper routine to dump a byte array as dec values to Serial. */void printDec(byte *buffer, byte bufferSize) &#123; for (byte i = 0; i &lt; bufferSize; i++) &#123; Serial.print(buffer[i] &lt; 0x10 ? &quot; 0&quot; : &quot; &quot;); Serial.print(buffer[i], DEC); &#125;&#125;","categories":[{"name":"arduino","slug":"arduino","permalink":"https://www.mardan.wiki/categories/arduino/"}],"tags":[{"name":"arduino","slug":"arduino","permalink":"https://www.mardan.wiki/tags/arduino/"}]},{"title":"linux安装conky","slug":"linux安装conky","date":"2020-07-28T09:14:46.000Z","updated":"2025-04-13T06:16:05.541Z","comments":true,"path":"website/2020/07/28/linux安装conky.html","permalink":"https://www.mardan.wiki/website/2020/07/28/linux%E5%AE%89%E8%A3%85conky.html","excerpt":"概览： Conky Install dependence Cocky config 自启动脚本 效果预览","text":"概览： Conky Install dependence Cocky config 自启动脚本 效果预览 Conky conky文档 Conky 是一个用于X窗口系统的系统监视软件。它可以运行在 GNU/Linux 和 FreeBSD 上，是一个基于GPL协议的免费软件。Conky 可以监控许多系统变量，包括 CPU，内存，交换分区，磁盘空间，温度，top，上传，下载，系统消息，以及更多。它具有很高的可配置性，但配置有一些难于理解。Conky是torsmo的一个分支。 Install dependence 1sudo apt install conky-all Cocky config Github下载 自启动脚本 12345678910sleep 10skillall conkycd &quot;/home/mardan/.conky/Sci-Fi&quot;conky -c &quot;/home/mardan/.conky/Sci-Fi/conky_main&quot; &amp;cd &quot;/home/mardan/.conky/Sci-Fi&quot;conky -c &quot;/home/mardan/.conky/Sci-Fi/conky_logs&quot; &amp;cd &quot;/home/mardan/.conky/Sci-Fi&quot;conky -c &quot;/home/mardan/.conky/Sci-Fi/conky_asset&quot; &amp;cd &quot;/home/mardan/.conky/Sci-Fi&quot;conky -c &quot;/home/mardan/.conky/Sci-Fi/conky_rss&quot; &amp; 效果预览","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"conky","slug":"conky","permalink":"https://www.mardan.wiki/tags/conky/"}]},{"title":"linux grub主题美化","slug":"linux_grub主题美化","date":"2020-07-28T08:48:38.000Z","updated":"2025-04-13T06:16:05.535Z","comments":true,"path":"website/2020/07/28/linux_grub主题美化.html","permalink":"https://www.mardan.wiki/website/2020/07/28/linux_grub%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96.html","excerpt":"概览： Download Grub theme Install grub theme Finshing Work","text":"概览： Download Grub theme Install grub theme Finshing Work Download Grub theme 选择自己喜欢的主题包Grub主题 我选了这个 Grub-theme-stylishdark 的主题包 Download Now Install grub theme ！！！如果是第一次修改主题，系统默认不会有themes文件夹 So，要自己建立文件夹themes 123sudo mkdir /boot/grub/themestar -xvf 主题包名 #像xxx.tar.xz sudo cp 主题包名 /boot/grub/themes/ Update grub setting 1sudo subl /etc/default/grub /etc/default/grub 1234567891011121314151617181920212223242526272829303132333435363738# If you change this file, run &#x27;update-grub&#x27; afterwards to update# /boot/grub/grub.cfg.# For full documentation of the options in this file, see:# info -f grub -n &#x27;Simple configuration&#x27;#默认启动条目GRUB_DEFAULT=0GRUB_TIMEOUT_STYLE=hidden#选择前等待时间（秒）GRUB_TIMEOUT=3GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || echo Debian`GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash&quot;GRUB_CMDLINE_LINUX=&quot;&quot;# Uncomment to enable BadRAM filtering, modify to suit your needs# This works with Linux (no patch required) and with any kernel that obtains# the memory map information from GRUB (GNU Mach, kernel of FreeBSD ...)#GRUB_BADRAM=&quot;0x01234567,0xfefefefe,0x89abcdef,0xefefefef&quot;# Uncomment to disable graphical terminal (grub-pc only)#修复GRUB界面分辨率GRUB_TERMINAL_OUTPUT=gfxterm# The resolution used on graphical terminal# note that you can use only modes which your graphic card supports via VBE# you can see them in real GRUB with the command `vbeinfo&#x27;#规定分辨率GRUB_GFXMODE=1920x1080# Uncomment if you don&#x27;t want GRUB to pass &quot;root=UUID=xxx&quot; parameter to Linux#GRUB_DISABLE_LINUX_UUID=true# Uncomment to disable generation of recovery mode menu entries#GRUB_DISABLE_RECOVERY=&quot;true&quot;# Uncomment to get a beep at grub start#GRUB_INIT_TUNE=&quot;480 440 1&quot;#自定义主题路径GRUB_THEME=&quot;/boot/grub/themes/StylishDark/theme.txt&quot; Finshing Work 1sudo update-grub2 重启查看效果。","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"grub","slug":"grub","permalink":"https://www.mardan.wiki/tags/grub/"}]},{"title":"Tips in Linux","slug":"Tips-in-Linux","date":"2020-07-28T08:31:49.000Z","updated":"2025-04-13T06:16:05.530Z","comments":true,"path":"website/2020/07/28/Tips-in-Linux.html","permalink":"https://www.mardan.wiki/website/2020/07/28/Tips-in-Linux.html","excerpt":"概览： Clear apt cache 镜像源公钥安装 获取CPU总核心数 Linux Console 默认信息 shell script check permission Makefile help menu","text":"概览： Clear apt cache 镜像源公钥安装 获取CPU总核心数 Linux Console 默认信息 shell script check permission Makefile help menu Clear apt cache 1sudo rm -v /var/cache/apt/archives/*.deb 镜像源公钥安装 1sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys # + 公钥名 获取CPU总核心数 123echo $(grep -c ^processor /proc/cpuinfo 2&gt;/dev/null)# usemake -j $(grep -c ^processor /proc/cpuinfo 2&gt;/dev/null) Linux Console 默认信息 123/etc/issue/etc/update-motd.d/*/run/motd.dynamic shell script check permission 1234if [ $(id -u) -ne 0 ]; then printf &quot;Script must be run as root\\n&quot; exit 1fi Makefile help menu 12345all: help.PHONY: helphelp: ## Show this help. @fgrep -h &quot;##&quot; $(MAKEFILE_LIST) | fgrep -v fgrep | sed -e &#x27;s/\\\\$$//&#x27; | sed -e &#x27;s/##//&#x27;","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"}]},{"title":"PostgreSQL安装以及使用","slug":"PostgreSQL安装以及使用","date":"2020-07-28T08:25:13.000Z","updated":"2025-04-13T06:16:05.525Z","comments":true,"path":"website/2020/07/28/PostgreSQL安装以及使用.html","permalink":"https://www.mardan.wiki/website/2020/07/28/PostgreSQL%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8.html","excerpt":"概览： Install Using Problem Reference","text":"概览： Install Using Problem Reference Install 各个版本下载点：PostgreSQL binaries 以version10.9为例 12wget http://sbp.enterprisedb.com/getfile.jsp?fileid=11696tar -zxvf 文件名 设置环境变量，仅供参考。PGDATA:PostgreSQL数据库簇路径。 123PGSQL_HOME=&quot;pgsql路径&quot; # /home/mardan/PG_database/pgsqlexport PGDATA=&quot;数据库簇路径&quot; # /home/mardan/PG_database/db_homeexport PATH=$&#123;PATH&#125;:$&#123;PGSQL_HOME&#125;/bin Check: 1postgres --version 输出:postgres (PostgreSQL) 10.9即为正确 Using 在你能做任何事情之前，你必须在磁盘上初始化一个数据库存储区域。我们称之为一个数据库集簇（SQL标准使用的术语是目录集簇）。一个数据库集簇是被一个运行数据库服务器的单一实例所管理的多个数据库的集合。在初始化之后，一个数据库集簇将包含一个名为postgres的数据库，它表示被功能、用户和第三方应用所使用的默认数据库。数据库服务器本身并不要求postgres数据库存在。另一个在初始化过程中为每一个集簇创建的数据库被称为template1。顾名思义，它将被用于创建后续数据库的模板；它不应该被用于实际工作。 在文件系统术语中，一个数据库集簇是一个单一目录，所有数据都将被存储在其中。我们称它为数据目录或数据区域。在哪里存储你的数据完全由你选择。没有默认的位置，不过/usr/local/pgsql/data或/var/lib/pgsql/data位置比较流行。要初始化一个数据库集簇，使用和PostgreSQL一起安装的命令initdb。你的数据库集簇的文件系统位置由-D选项指定，也即上面的环境变量PGDATA. 1initdb log信息： 连接数据库，先查看服务器IP地址 1ifconfig 在客户机安装pgAdmin。并启动之，会在浏览器启动会话，如下图。 点击Servers选择创建服务器。 填写名称，只作为本地标识。 打开Connection标签 填写ip，以我为例：192.168.19.130 端口，默认5432 用户名，服务器用户名 密码，服务器，前面用户名对应的密码 启动postgresql服务 Problem 远程访问 用户不在信任列表 如果出现以下错误，pgAdmin重新连接。 就需要设置对服务器端访问网段添加信任。先Ctrl+C关闭Postgresql数据库。然后打开PGDATA目录，编辑postgresql.conf文件。将行开头都#去掉，将行内容修改为listen_addresses='*'来允许数据库服务器监听来自任何主机的连接请求，然后再次启动Postgresql，pgAdmin重新连接。 再次关闭Postgresql. 编辑PDGATA下的pg_hba.conf文件. 在其中以下段中 12345678910111213# TYPE DATABASE USER ADDRESS METHOD# &quot;local&quot; is for Unix domain socket connections onlylocal all all trust# IPv4 local connections:host all all 127.0.0.1/32 trust# IPv6 local connections:host all all ::1/128 trust# Allow replication connections from localhost, by a user with the# replication privilege.local replication all trusthost replication all 127.0.0.1/32 trusthost replication all ::1/128 trust 加入 1host all all 192.168.19.1/24 trust 最终加在以下文字第8行。 123456789101112131415# TYPE DATABASE USER ADDRESS METHOD# &quot;local&quot; is for Unix domain socket connections onlylocal all all trust# IPv4 local connections:host all all 127.0.0.1/32 trusthost all all 192.168.19.1/24 trust# IPv6 local connections:host all all ::1/128 trust# Allow replication connections from localhost, by a user with the# replication privilege.local replication all trusthost replication all 127.0.0.1/32 trusthost replication all ::1/128 trust 启动Postgresql，pgAdmin重新连接。 Reference PostgreSQL 全球开发组 PostgreSQL 9.6.0 手册 中文手册版本:1.0 最后更新时间:2017-12-17","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"postgresql","slug":"postgresql","permalink":"https://www.mardan.wiki/tags/postgresql/"}]},{"title":"ssh & X11 forwarding","slug":"ssh-X11-forwarding","date":"2020-07-27T16:23:51.000Z","updated":"2025-04-13T06:16:05.564Z","comments":true,"path":"website/2020/07/28/ssh-X11-forwarding.html","permalink":"https://www.mardan.wiki/website/2020/07/28/ssh-X11-forwarding.html","excerpt":"概览： SSH端口转发 端口转发分类 实践 X11 forwarding Multipass Mac OSX：","text":"概览： SSH端口转发 端口转发分类 实践 X11 forwarding Multipass Mac OSX： SSH端口转发 SSH 端口转发是 SSH 提供的一种机制，通过 Server 和 Client 之间的加密连接中继其它端口的流量。因为连接是加密的，所以对于传输使用未加密协议（如IMAP、VNC或IRC）的信息非常有用。 网络拓补图 端口转发分类 本地端口转发 本地端口转发的作用是把 Client 的某个端口的流量通过 SSH 连接转发到 Server ，如图1所示。 123456789101112131415161718命令格式如下：ssh -L &lt;local port&gt;:&lt;remote host&gt;:&lt;remote port&gt; &lt;SSH hostname&gt;假设 Client 地址是 192.168.111.2，Server 地址是 192.168.111.3。在Client 端执行如下命令：root@client $ ssh -L 2222:localhost:22 192.168.111.3通过上面的命令连接上 Server 后，即实现了本地端口转发。只要在 Client 上连接本地的 2222 端口等同于连接 Server 的 22 端口，如下两条命令是等价的，均是连接 Server 的 22 端口：root@client $ ssh 127.0.0.1 -p 2222 root@client $ ssh 192.168.111.3 -p 22但是这儿有个问题，就是 Client 的 2222 端口是监听在 lo 接口上的，因此只有 Client 可以连接，为了让其他主机也可以连接 Client 的 2222 端口，上面的命令需要加一个 -g 参数。root@client $ ssh -gL 2222:localhost:22 192.168.111.3这样外部其他主机也可以连接 Client 的 2222 端口了。 远程端口转发 与本地端口转发相对应的是远程端口转发，其作用是把 Server 的某个端口的流量通过 SSH 连接转发到 Client ，如图2所示。 12345678910111213命令格式如下：ssh -R &lt;remote port&gt;:&lt;local host&gt;:&lt;local port&gt; &lt;SSH hostname&gt;Client 上执行如下命令：root@client $ ssh -R 2222:localhost:22 192.168.111.3连接 Server 后，远程端口转发生效。此时在 Server 上连接本地的 2222 端口等同于连接 Client 的 22 端口，如下两条命令是等价的，均是连接 Client 的 22 端口：root@server $ ssh 127.0.0.1 -p 2222 root@server $ ssh 192.168.111.2 -p 22与本地端口转发不同，远程端口转发不能通过设置 -g 选项使外部主机连接 Server 的 2222 端口。 动态端口转发 另外除了本地端口转发和远程端口转发外，还有一个更方便的动态端口转发。与本地端口转发和远程端口转发把流量转发到某个固定主机的固定端口不同，动态端口转发是根据数据包的目的IP和目的端口实现动态转发的，工作机制类似于代理，如图3所示。 12345678910111213命令格式如下：ssh -D &lt;local port&gt; &lt;SSH hostname&gt;Client 上执行如下命令：root@client $ ssh -D 1080 192.168.111.3为了让外部机器也可以连接，需要添加-g 参数：root@client $ ssh -gD 1080 192.168.111.3如此，发往 Client 1080 端口的数据包将通过 SSH 连接发往 Server ，并在 Server 上重新发起请求。 实践 Command Test 1ssh -gD 1080 user@ip 以windows和putty为例。 配置好点 open ，输入账号密码登陆即可。现在一个简单的代理服务已经运行起来了。接下来是浏览器的配置，这里以 Chrome 为例，配置如图6所示。 这里我用到了一个很好用的 Chrome 插件 “SwitchyOmega”，用于设置浏览器的代理。用其他代理插件或 Windows 自带的代理设置也是同样的配置： 123protocol:socks5server:127.0.0.1port:1080 X11 forwarding multipass —x11–&gt; Mac OSX Docker 也可以，只是我习惯用multipass。 Multipass https://multipass.run Launch an instance : Mine: multipass launch --name primary -c 2 -d 50G -m 2G lts See your instances. multipass list 12Name State IPv4 Imageprimary Running 192.168.64.2 Ubuntu 18.04 LTS into the instances: 1export DISPLAY=xx.xx.xx.xx:0.0 (replace xx.xx.xx.xx with the IP address obtained above). To test the setting, we can run in the host some simple program: 1sudo apt install x11-apps wait xquartz start successful. 1xlogo &amp; # or xclock Mac OSX： install xquartz. You can also install xquartz using homebrew by running brew cask install xquartz install socat brew install socat Note, you will have to log out and log back in to your machine once you have installed xquartz. This is so the X window system is reloaded. Once you have installed all the prerequisites you need to allow connections from network clients to xquartz. Here is how you do that. First run the following command to open xquart so you can configure it: 1open -a xquartz Click on Security tab in preferences and check the “Allow connections” box: Next, you need to create a TCP proxy using socat which will stream X Window data into xquart. Before you start the proxy you need to make sure that there is no process listening in port 6000. The following command should not return any results: 1lsof -i TCP:6000 Now you can start a local proxy which will proxy the X Window traffic into xquartz which acts a your local X server: 1socat TCP-LISTEN:6000,reuseaddr,fork UNIX-CLIENT:\\&quot;$DISPLAY\\&quot;","categories":[{"name":"ssh","slug":"ssh","permalink":"https://www.mardan.wiki/categories/ssh/"}],"tags":[{"name":"ssh","slug":"ssh","permalink":"https://www.mardan.wiki/tags/ssh/"},{"name":"x11","slug":"x11","permalink":"https://www.mardan.wiki/tags/x11/"},{"name":"proxy","slug":"proxy","permalink":"https://www.mardan.wiki/tags/proxy/"}]},{"title":"rpi64点亮lcd1602","slug":"rpi64点亮lcd1602","date":"2020-07-27T16:03:53.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2020/07/28/rpi64点亮lcd1602.html","permalink":"https://www.mardan.wiki/website/2020/07/28/rpi64%E7%82%B9%E4%BA%AElcd1602.html","excerpt":"概览： WiringPi 构建 LCD1602 RaspberryPi端代码","text":"概览： WiringPi 构建 LCD1602 RaspberryPi端代码 WiringPi wiringPi GPIO对应引脚 https://pinout.xyz/pinout/wiringpi 构建 123git clone git://git.drogon.net/wiringPicd git wiringPi./build LCD1602 LCD1602液晶引脚说明 pin 名称 注释 1 VSS 电源地 2 VDD 电源正极 3 VL 液晶显示偏压信号 4 RS 数据/命令选择端（H/L） 5 R/S 读/写选择端（H/L） 6 E 使能信号 7 D0 Data I/O 8 D1 Data I/O 9 D2 Data I/O 10 D3 Data I/O 11 D4 Data I/O 12 D5 Data I/O 13 D6 Data I/O 14 D7 Data I/O 15 BLA 背光源正极 16 BLK 背光源负极 RaspberryPi端代码 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103/* * Author: Mardan * Date: 2019.6.10 * Project: GuzalAida */#include &lt;time.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;string.h&gt;#include &lt;wiringPi.h&gt;#define uchar unsigned char//Global variableFILE *fp;char nowtime[16];char cpu_load[16];int lcdprint_page=1;void gpio_init(void);void lcd1602_control(uchar cmd);void lcd1602_command(uchar dat);void lcd1602_setmode(void);void lcdprint(uchar *p,int row_number);void page1();int main(int argc, char const *argv[])&#123; wiringPiSetup(); gpio_init(); lcd1602_setmode(); lcdprint(&quot; Welcome to&quot;,1); lcdprint(&quot; GuzalAida &quot;,2); sleep(3); while(1)&#123; lcd1602_control(0x01);//清屏 page1(); lcdprint_page++; sleep(1); &#125; return 0;&#125;void page1()&#123; struct tm *ptr; time_t lt; lt=time(NULL); ptr=localtime(&amp;lt); strftime(nowtime,16,&quot;%I:%M:%S - %b&quot;,ptr); lcdprint(nowtime,1); fp=popen(&quot;uptime | awk &#x27;&#123;print $9,$10,$11,$12&#125;&#x27;&quot;,&quot;r&quot;); fgets(cpu_load,16,fp); lcdprint(cpu_load,2); printf(&quot;Time: %s --- Load: %s\\n&quot;,nowtime,cpu_load); if(lcdprint_page&gt;100)&#123;syslog(LOG_INFO,&quot;Time: %s --- Load: %s\\n&quot;,nowtime,cpu_load);lcdprint_page=0;&#125; pclose(fp);&#125;void gpio_init()&#123; int i; for(i=0;i&lt;8;i++)&#123; pinMode(i,OUTPUT); &#125; //data pin(0 to 7) Setpin pinMode(27,OUTPUT); //RS Setpin pinMode(28,OUTPUT); //EN Setpin&#125;void lcd1602_control(uchar cmd)&#123; digitalWrite(27,LOW); //RS = 0 digitalWriteByte(cmd);//GPIO0=cmd digitalWrite(28,HIGH); delay(5); digitalWrite(28,LOW);&#125;void lcd1602_command(uchar dat)&#123; digitalWrite(27,HIGH); //RS=1 digitalWriteByte(dat);//GPIO0=dat digitalWrite(28,HIGH);// EN=1; delay(5); digitalWrite(28,LOW);// EN=0; &#125;void lcd1602_setmode(void)&#123; lcd1602_control(0x38);//八线模式下两行显示 lcd1602_control(0x0c);//开启显示 lcd1602_control(0x06);//地址+1 lcd1602_control(0x01);//清屏&#125;void lcdprint(uchar *p,int row_number)&#123; int i=0; row_number==1?lcd1602_control(0x80):lcd1602_control(0xc0); while(p[i]!=&#x27;\\0&#x27;)&#123; lcd1602_command(p[i]); i++; &#125;&#125;","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"},{"name":"rpi","slug":"linux/rpi","permalink":"https://www.mardan.wiki/categories/linux/rpi/"}],"tags":[{"name":"rpi","slug":"rpi","permalink":"https://www.mardan.wiki/tags/rpi/"},{"name":"wiringpi","slug":"wiringpi","permalink":"https://www.mardan.wiki/tags/wiringpi/"}]},{"title":"Backup Github Repos","slug":"Backup_Github_Repos","date":"2020-07-20T17:01:06.000Z","updated":"2025-04-13T06:16:05.513Z","comments":true,"path":"website/2020/07/21/Backup_Github_Repos.html","permalink":"https://www.mardan.wiki/website/2020/07/21/Backup_Github_Repos.html","excerpt":"Menu: Requirement GitHub GraphQL API My Examples Test Example Startup Coding","text":"Menu: Requirement GitHub GraphQL API My Examples Test Example Startup Coding Requirement Github Token curl (this is Command) GitHub GraphQL API GitHub GraphQL API My Examples 123456789101112131415# Type queries into this side of the screen, and you will # see intelligent typeaheads aware of the current GraphQL type schema, # live syntax, and validation errors highlighted within the text.# We&#x27;ll get you started with a simple query showing your username!query &#123; viewer &#123; repositories(isFork:false ,last:50)&#123; totalCount nodes&#123; name &#125; &#125; &#125;&#125; Test Example Change token for yourself token. 1curl curl -H &quot;Authorization: token your_token&quot; -H &quot;Content-Type:application/json&quot; -d &#x27;&#123;&quot;query&quot;: &quot;&#123; viewer &#123; repositories(isFork:false last: 50) &#123; totalCount nodes &#123; name &#125;&#125;&#125;&#125;&quot;&#125;&#x27; https://api.github.com/graphql Output: 1&#123;&quot;data&quot;:&#123;&quot;viewer&quot;:&#123;&quot;repositories&quot;:&#123;&quot;totalCount&quot;:1,&quot;nodes&quot;:[&#123;&quot;name&quot;:&quot;ka1i.github.io&quot;&#125;]&#125;&#125;&#125;&#125; Startup Coding Global setting 123456var ( user = &quot;&lt;Github Username&gt;&quot; token = &quot;&lt;Github Token&gt;&quot; //Setting -&gt; Developer settings -&gt; Personal access tokens add token bareurl = &quot;https://github.com/&quot; barepath = &quot;./GitRepos/&quot;) GitHub GraphQL API Use github.com/shurcooL/githubv4 1234567891011// QueryRepositories .var QueryRepositories struct &#123; Viewer struct &#123; Repositorys struct &#123; TotalCount githubv4.Int Nodes []struct &#123; Name githubv4.String &#125; &#125; `graphql:&quot;repositories(isFork: false, last: 50)&quot;` &#125;&#125; Get repos list , use OAuth2 12345678910src := oauth2.StaticTokenSource( &amp;oauth2.Token&#123;AccessToken: your_token&#125;,)httpClient := oauth2.NewClient(context.Background(), src)client := githubv4.NewClient(httpClient)err := client.Query(context.Background(), &amp;QueryRepositories, nil)if err != nil &#123; log.Fatal(err)&#125;log.Printf(&quot;Repositories TotalCount: %d&quot;, QueryRepositories.Viewer.Repositorys.TotalCount) Traverse deal with repos 1234567891011121314151617181920212223242526272829303132333435for items := 0; items &lt; int(QueryRepositories.Viewer.Repositorys.TotalCount); items++ &#123; Repositories := QueryRepositories.Viewer.Repositorys.Nodes[items].Name ReposURL := QueryRepositories.Viewer.Repositorys.Nodes[items].URL log.Printf(&quot;Check: %s ===&gt; %s&quot;, Repositories, ReposURL) ReposPath := string(ReposURL[len(bareurl):]) // Create Repositories if !FileExist(path.Join(Getpath(), ReposPath)) &#123; _, err := git.PlainClone(barepath+ReposPath, false, &amp;git.CloneOptions&#123; URL: string(ReposURL), Progress: os.Stdout, Auth: &amp;githttp.BasicAuth&#123; Username: user, Password: token, &#125;, &#125;) if err != nil &#123; log.Fatal(err) // Warning use this function //os.RemoveAll(barepath+ReposPath) &#125; &#125; else &#123; r, _ := git.PlainOpen(ReposPath) w, _ := r.Worktree() w.Pull(&amp;git.PullOptions&#123; RemoteName: &quot;origin&quot;, Auth: &amp;githttp.BasicAuth&#123; Username: user, Password: token, &#125;, &#125;) ref, _ := r.Head() commit, _ := r.CommitObject(ref.Hash()) log.Printf(&quot;Pulling Repository: %s\\n%s&quot;, ReposURL, commit) &#125;&#125; 3rd part code 12345678910111213func Getpath() string &#123; dir, err := filepath.Abs(filepath.Dir(os.Args[0])) if err != nil &#123; fmt.Println(&quot;error&quot;) &#125; return strings.Replace(dir, &quot;\\\\&quot;, &quot;/&quot;, -1)&#125;// FileExist func .func FileExist(path string) bool &#123; _, err := os.Lstat(path) return !os.IsNotExist(err)&#125;","categories":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/categories/golang/"}],"tags":[{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/tags/golang/"},{"name":"github","slug":"github","permalink":"https://www.mardan.wiki/tags/github/"}]},{"title":"GitHub设置免密码","slug":"GitHub设置免密码","date":"2020-07-20T16:31:55.000Z","updated":"2025-04-13T06:16:05.515Z","comments":true,"path":"website/2020/07/21/GitHub设置免密码.html","permalink":"https://www.mardan.wiki/website/2020/07/21/GitHub%E8%AE%BE%E7%BD%AE%E5%85%8D%E5%AF%86%E7%A0%81.html","excerpt":"Menu: Setting Generated ssh key Check Permissions Attention","text":"Menu: Setting Generated ssh key Check Permissions Attention Setting For example eg: Github. Generated ssh key 1ssh-keygen -t rsa -b 4096 -C &quot;your email&quot; Check Permissions 1ssh -T git@github.com If output you GitHub user name,like this. 1Hi &lt;username&gt;! You&#x27;ve successfully authenticated, but GitHub does not provide shell access. Attention if you got this frist time, you could need setting github config. 12git config --global user.name &quot;username&quot;git config --global user.email &quot;email&quot; some git command need this setting.","categories":[{"name":"git","slug":"git","permalink":"https://www.mardan.wiki/categories/git/"},{"name":"ssh","slug":"git/ssh","permalink":"https://www.mardan.wiki/categories/git/ssh/"}],"tags":[{"name":"git","slug":"git","permalink":"https://www.mardan.wiki/tags/git/"},{"name":"ssh","slug":"ssh","permalink":"https://www.mardan.wiki/tags/ssh/"}]},{"title":"Build Qemu on OSX","slug":"Build-Qemu-on-OSX","date":"2020-07-16T15:53:31.000Z","updated":"2025-04-13T06:16:05.513Z","comments":true,"path":"website/2020/07/16/Build-Qemu-on-OSX.html","permalink":"https://www.mardan.wiki/website/2020/07/16/Build-Qemu-on-OSX.html","excerpt":"概览： Qemu Download Source code Get Dependence Build Check Issues Reference","text":"概览： Qemu Download Source code Get Dependence Build Check Issues Reference Qemu Download Source code 12wget https://download.qemu.org/qemu-5.0.0.tar.xztar -zxvf https://download.qemu.org/qemu-5.0.0.tar.xz Get Dependence 1brew install libtool pkg-config glib gnutls libpng libssh libusb lzo ncurses nettle pixman snappy vde libffi jpeg Build 12cd qemu-5.0.0./configure --target-list=x86_64-softmmu,aarch64-softmmu --cc=/usr/bin/clang --host-cc=/usr/bin/clang --cpu=x86_64 --prefix=/Users/mardan/workspace/qemu --disable-bsd-user --disable-guest-agent --enable-curses --enable-vde --extra-cflags=-DNCURSES_WIDECHAR=1 --enable-cocoa --disable-sdl --disable-gtk Explain: –target-list : CPU Architecture –cc : Compiler Name –host-cc : Enable localhost Compiler –cpu : Optimization for Native –prefix : make install path –disable,–enable : Modify Featuer 12make -j9make install Check Now you can check this(prefix) path: On me like this 12345678910$ pwd/Users/mardan/workspace/qemu$ lsbin share include$ ls bin elf2dmp qemu-img qemu-nbd qemu-system-aarch64qemu-edid qemu-io qemu-storage-daemon qemu-system-x86_64$ qemu-system-x86_64 --version QEMU emulator version 5.0.0Copyright (c) 2003-2020 Fabrice Bellard and the QEMU Project developers Issues Q 123ERROR: User requested feature curses configure was not able to find it. Install ncurses devel A 1export PKG_CONFIG_PATH=&quot;/usr/local/opt/ncurses/lib/pkgconfig&quot; Reference https://github.com/Homebrew/homebrew-core/blob/master/Formula/qemu.rb https://wiki.qemu.org/Hosts/Mac","categories":[{"name":"osx","slug":"osx","permalink":"https://www.mardan.wiki/categories/osx/"}],"tags":[{"name":"osx","slug":"osx","permalink":"https://www.mardan.wiki/tags/osx/"},{"name":"qemu","slug":"qemu","permalink":"https://www.mardan.wiki/tags/qemu/"}]},{"title":"连接minecraft服务器","slug":"连接minecraft服务器","date":"2019-12-01T01:52:27.000Z","updated":"2025-04-13T06:16:05.658Z","comments":true,"path":"website/2019/12/01/连接minecraft服务器.html","permalink":"https://www.mardan.wiki/website/2019/12/01/%E8%BF%9E%E6%8E%A5minecraft%E6%9C%8D%E5%8A%A1%E5%99%A8.html","excerpt":"概览： warning 工具 运行","text":"概览： warning 工具 运行 warning 本文章仅展示连接现有的Minecraft服务器. 工具 oracle java oracle官网 下载版本:Java SE 8u231 Minecraft启动器hmcl Github项目主页 项目官网 # 配置 java设置 以LinuxMint为例： 12345vim /etc/profile#JAVA环境变量export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_191export PATH=$JAVA_HOME/bin:$PATHexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar 更新变量 1234sudo update-alternatives --install /usr/bin/java java /opt/java/jdk1.8.0_221/bin/java 79sudo update-alternatives --install /usr/bin/javac javac /opt/java/jdk1.8.0_221/bin/javac 79sudo update-alternatives --config javasudo update-alternatives --config javac check 123456(base) ┌─[mardan@LinuxLabs] - [~] - [Sun Dec 01, 10:06]└─[$] &lt;&gt; java -versionjava version &quot;1.8.0_221&quot;Java(TM) SE Runtime Environment (build 1.8.0_221-b11)Java HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode) 运行 java -jar HMCL-3.2.130.jar 12345678910[10:08:20] [org.jackhuang.hmcl.Launcher.main/INFO] *** HMCL 3.2.130 ***[10:08:20] [org.jackhuang.hmcl.Launcher.main/INFO] Operating System: Linux 4.15.0-70-generic[10:08:20] [org.jackhuang.hmcl.Launcher.main/INFO] Java Version: 1.8.0_221, Oracle Corporation[10:08:20] [org.jackhuang.hmcl.Launcher.main/INFO] Java VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode), Oracle Corporation[10:08:20] [org.jackhuang.hmcl.Launcher.main/INFO] Java Home: /opt/java/jdk1.8.0_221/jre[10:08:20] [org.jackhuang.hmcl.Launcher.main/INFO] Current Directory: /home/mardan/workspace/minecraft[10:08:20] [org.jackhuang.hmcl.Launcher.main/INFO] HMCL Directory: /home/mardan/.hmcl[10:08:20] [org.jackhuang.hmcl.Launcher.main/INFO] Memory: 3540MB[10:08:20] [org.jackhuang.hmcl.Launcher.lambda$main$2/INFO] Metaspace: 8MB........ 然后选择offline,创建本地用户，安装 安装完后的设置 启动","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"},{"name":"minecraft","slug":"linux/minecraft","permalink":"https://www.mardan.wiki/categories/linux/minecraft/"}],"tags":[{"name":"minecraft","slug":"minecraft","permalink":"https://www.mardan.wiki/tags/minecraft/"}]},{"title":"KVM Hackintosh","slug":"KVM_Hackintosh","date":"2019-11-21T07:05:56.000Z","updated":"2025-04-13T06:16:05.520Z","comments":true,"path":"website/2019/11/21/KVM_Hackintosh.html","permalink":"https://www.mardan.wiki/website/2019/11/21/KVM_Hackintosh.html","excerpt":"概览： 参考 ： 安装 启动virt服务 目录结构 先验步骤 启动","text":"概览： 参考 ： 安装 启动virt服务 目录结构 先验步骤 启动 参考 ： https://www.bilibili.com/video/av49951276 安装 1234567sudo apt install qemusudo apt install libvirtsudo apt install virt-managersudo apt install iptables ebtables dnsmasqsudo systemctl restart libvirtdsudo virsh net-start default 启动virt服务 12sudo systemctl enable libvirtsudo systemctl start libvirt 有报错请安装gir1.2-spiceclientgtk-3.0 1sudo apt install gir1.2-spiceclientgtk-3.0 目录结构 1234567891011121314151617181920212223242526272829303132333435363738394041MyMac├── Example-OSX-Virt-Manager│ ├── example-config.plist│ ├── iommu.sh│ ├── OSX.xml│ └── README.md├── MacKVM.sh├── macOS-Simple-KVM│ ├── BaseSystem.img│ ├── basic.sh│ ├── docs│ │ ├── FAQs.md│ │ ├── guide-networking.md│ │ ├── guide-passthrough.md│ │ ├── guide-performance.md│ │ └── guide-screen-resolution.md│ ├── ESP.qcow2│ ├── firmware│ │ ├── LICENSE│ │ ├── OVMF_CODE.fd│ │ └── OVMF_VARS-1024x768.fd│ ├── headless.sh│ ├── jumpstart.sh│ ├── make.sh│ ├── README.md│ ├── tools│ │ ├── debug.sh│ │ ├── dmg2img│ │ ├── dmg2img-src│ │ ├── FetchMacOS│ │ │ ├── BaseSystem│ │ │ │ ├── BaseSystem.chunklist│ │ │ │ └── BaseSystem.dmg│ │ │ ├── fetch-macos.py│ │ │ ├── fetch.sh│ │ │ └── requirements.txt│ │ └── template.xml.in│ └── virtio.sh└── MyDisk.qcow28 directories, 30 files 先验步骤 1234git clone https://github.com/foxlet/macOS-Simple-KVM.gitgit clone https://github.com/PassthroughPOST/Example-OSX-Virt-Manager.gitcd macOS-Simple-KVM./jumpstart.sh 执行脚本MacKVM.sh 1234567891011121314151617181920212223242526272829#!/bin/bash --posixOSK=&quot;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc&quot;VMDIR=/home/mardan/Desktop/vmware/MyMac #路径位置，根据自己的实际设置OVMF=$VMDIR/macOS-Simple-KVM #路径位置，根据自己的实际设置qemu-system-x86_64 \\ -enable-kvm \\ -m 8G \\ -machine q35,accel=kvm \\ -smp 4,cores=2 \\ -cpu Penryn,vendor=GenuineIntel,kvm=on,+sse3,+sse4.2,+aes,+xsave,+avx,+xsaveopt,+xsavec,+xgetbv1,+avx2,+bmi2,+smep,+bmi1,+fma,+movbe,+invtsc \\ -device isa-applesmc,osk=&quot;$OSK&quot; \\ -smbios type=2 \\ -drive if=pflash,format=raw,readonly,file=&quot;$OVMF/firmware/OVMF_CODE.fd&quot; \\ -drive if=pflash,format=raw,file=&quot;$OVMF/firmware/OVMF_VARS-1024x768.fd&quot; \\ -vga qxl \\ -device ich9-intel-hda -device hda-output \\ -usb -device usb-kbd -device usb-mouse \\ -netdev user,id=net0 \\ -device e1000-82545em,netdev=net0,id=net0,mac=59:b8:e6:66:7b:ec \\ -device ich9-ahci,id=sata \\ -drive id=ESP,if=none,format=qcow2,file=$OVMF/ESP.qcow2 \\ -device ide-hd,bus=sata.2,drive=ESP \\ -drive id=InstallMedia,format=raw,if=none,file=$OVMF/BaseSystem.img \\ -device ide-hd,bus=sata.3,drive=InstallMedia \\ -drive id=SystemDisk,if=none,file=$VMDIR/MyDisk.qcow2 \\ -device ide-hd,bus=sata.4,drive=SystemDisk \\ 启动 1sudo ./MacKVM.sh","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"},{"name":"kvm","slug":"linux/kvm","permalink":"https://www.mardan.wiki/categories/linux/kvm/"}],"tags":[{"name":"osx","slug":"osx","permalink":"https://www.mardan.wiki/tags/osx/"},{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"kvm","slug":"kvm","permalink":"https://www.mardan.wiki/tags/kvm/"},{"name":"hackintosh","slug":"hackintosh","permalink":"https://www.mardan.wiki/tags/hackintosh/"}]},{"title":"rpi64安装docker","slug":"rpi64安装docker","date":"2019-11-06T12:35:20.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2019/11/06/rpi64安装docker.html","permalink":"https://www.mardan.wiki/website/2019/11/06/rpi64%E5%AE%89%E8%A3%85docker.html","excerpt":"概览： Install Uninstall old versions 调整防火墙 Q A","text":"概览： Install Uninstall old versions 调整防火墙 Q A Install reference: Get Docker Engine - Community for Debian Uninstall old versions 12345678910111213141516171819202122# Uninstall old versionssudo apt remove docker docker-engine docker.io containerd runc# Install dependencesudo apt updatesudo apt install apt-transport-https ca-certificates curl gnupg2 software-properties-common# Add Docker’s official GPG key:curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -# Verify that you now have the key with the fingerprint `9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88`, by searching for the last 8 characters of the fingerprint.sudo apt-key fingerprint 0EBFCD88# output like this.#pub 4096R/0EBFCD88 2017-02-22# Key fingerprint = 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88#uid Docker Release (CE deb) &lt;docker@docker.com&gt;#sub 4096R/F273FCD8 2017-02-22sudo add-apt-repository \\ &quot;deb [arch=arm64] https://download.docker.com/linux/debian \\ $(lsb_release -cs) \\ stable&quot; sudo apt updatesudo apt install docker-ce docker-ce-cli containerd.io 授权普通使用 1sudo gpasswd -a $&#123;USER&#125; docker 调整防火墙 在官方64位新版本系统中，好像防火墙这个问题没有出现了。 Q 12guzal@GuzalAida:~$ sudo iptables -nvLiptables: Operation not supported. A 1234567891011guzal@GuzalAida:~$ sudo update-alternatives --config iptablesThere are 2 choices for the alternative iptables (providing /usr/sbin/iptables). Selection Path Priority Status------------------------------------------------------------* 0 /usr/sbin/iptables-nft 20 auto mode 1 /usr/sbin/iptables-legacy 10 manual mode 2 /usr/sbin/iptables-nft 20 manual modePress &lt;enter&gt; to keep the current choice[*], or type selection number: 1update-alternatives: using /usr/sbin/iptables-legacy to provide /usr/sbin/iptables (iptables) in manual mode","categories":[{"name":"rpi","slug":"rpi","permalink":"https://www.mardan.wiki/categories/rpi/"}],"tags":[{"name":"rpi","slug":"rpi","permalink":"https://www.mardan.wiki/tags/rpi/"},{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"}]},{"title":"Build tensorflow_C v2.0","slug":"Build-tensorflow-C-v2-0","date":"2019-10-31T13:22:36.000Z","updated":"2025-04-13T06:16:05.513Z","comments":true,"path":"website/2019/10/31/Build-tensorflow-C-v2-0.html","permalink":"https://www.mardan.wiki/website/2019/10/31/Build-tensorflow-C-v2-0.html","excerpt":"概览： Install bazel Get source &amp; Build Check 下载官网最新源码: https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-cpu-linux-x86_64-1.15.0.tar.gz 由于官网没有最新版TensorFlow for C v2.0 二进制包","text":"概览： Install bazel Get source &amp; Build Check 下载官网最新源码: https://storage.googleapis.com/tensorflow/libtensorflow/libtensorflow-cpu-linux-x86_64-1.15.0.tar.gz 由于官网没有最新版TensorFlow for C v2.0 二进制包 所以:::::-&gt; Install bazel bazel 官网 以ubuntu为例：https://docs.bazel.build/versions/master/install-ubuntu.html Get source &amp; Build bazel test是下载依赖并编译，并且最好带上-j 5参数，5为CPU核心数的一半，否则可能会卡死。build对应打压缩包。 1234git clone --depth=1 -b r2.0 https://github.com/tensorflow/tensorflow.gitcd tensorflowbazel test -j 5 --config opt //tensorflow/tools/lib_package:libtensorflow_testbazel build --config opt //tensorflow/tools/lib_package:libtensorflow 压缩包位置：bazel-bin/tensorflow/tools/lib_package/libtensorflow.tar.gz。 Check 12sudo mkdir /opt/tensorflowsudo tar -zxvf bazel-bin/tensorflow/tools/lib_package/libtensorflow.tar.gz -C /opt/tensorflow 刷新ld 新建文件sudo subl /etc/ld.so.conf.d/tensorflow.conf 加入以下内容：/opt/tensorflow/lib ,保存退出。 更新动态链接库缓存.sudo ldconfig main.c 1234567#include &lt;stdio.h&gt;#include &lt;tensorflow/c/c_api.h&gt;int main() &#123; printf(&quot;Hello from TensorFlow C library version %s\\n&quot;, TF_Version()); return 0;&#125; CMakeLists.txt 1234567891011121314cmake_minimum_required(VERSION 3.2)project(hello4tensorflow-c)set(CMAKE_INCLUDE_CURRENT_DIR ON)set(EXECUTABLE_OUTPUT_PATH $&#123;CMAKE_SOURCE_DIR&#125;/bin)add_definitions(&quot;-Wl,-rpath,/opt/tensorflow/lib&quot;)link_directories(&quot;/opt/tensorflow/lib&quot;)include_directories(&quot;./&quot; &quot;/opt/tensorflow//include/&quot;)add_executable($&#123;PROJECT_NAME&#125; &quot;main.c&quot;)target_link_libraries($&#123;PROJECT_NAME&#125; PRIVATE tensorflow) golang示例,但不能用与tensorflow2,因为它依赖libtensorflow.so.1,而不是libtensorflow.so.2 main.go 1234567891011121314151617181920212223242526272829package mainimport ( &quot;fmt&quot; tf &quot;github.com/tensorflow/tensorflow/tensorflow/go&quot; &quot;github.com/tensorflow/tensorflow/tensorflow/go/op&quot;)func main() &#123; // Construct a graph with an operation that produces a string constant. s := op.NewScope() c := op.Const(s, &quot;Hello from TensorFlow version &quot;+tf.Version()) graph, err := s.Finalize() if err != nil &#123; panic(err) &#125; // Execute the graph in a session. sess, err := tf.NewSession(graph, nil) if err != nil &#123; panic(err) &#125; output, err := sess.Run(nil, []tf.Output&#123;c&#125;, nil) if err != nil &#123; panic(err) &#125; fmt.Println(output[0].Value())&#125;","categories":[{"name":"AI","slug":"AI","permalink":"https://www.mardan.wiki/categories/AI/"},{"name":"tensorflow","slug":"AI/tensorflow","permalink":"https://www.mardan.wiki/categories/AI/tensorflow/"}],"tags":[{"name":"tensorflow","slug":"tensorflow","permalink":"https://www.mardan.wiki/tags/tensorflow/"}]},{"title":"linux安装Mysql","slug":"linux安装mysql","date":"2019-08-01T04:10:26.000Z","updated":"2025-04-13T06:16:05.562Z","comments":true,"path":"website/2019/08/01/linux安装mysql.html","permalink":"https://www.mardan.wiki/website/2019/08/01/linux%E5%AE%89%E8%A3%85mysql.html","excerpt":"概览： 安装Mysql 修改密码 安装phpMyAdmin phpMyAdmin 软连接","text":"概览： 安装Mysql 修改密码 安装phpMyAdmin phpMyAdmin 软连接 安装Mysql 1sudo apt install mysql-server 现在的mysql，默认安装时不提供设置密码。 所以，这能以默认用户登录来添加用户·及修改密码。 1sudo nano /etc/mysql/debian.cnf 内容像这样 1234567891011# Automatically generated for Debian scripts. DO NOT TOUCH![client]host = localhostuser = debian-sys-maintpassword = JVSGL6hCuThRoMcXsocket = /var/run/mysqld/mysqld.sock[mysql_upgrade]host = localhostuser = debian-sys-maintpassword = JVSGL6hCuThRoMcXsocket = /var/run/mysqld/mysqld.sock 以上信息可以得出： 用户名：debian-sys-maint 密码：JVSGL6hCuThRoMcX 查看用户列表 1select user,host from mysql.user; 输出 12345678910mysql&gt; select user,host from mysql.user;+------------------+-----------+| user | host |+------------------+-----------+| debian-sys-maint | localhost || mysql.session | localhost || mysql.sys | localhost || root | localhost |+------------------+-----------+4 rows in set (0.00 sec) 修改密码 1234567891011121314151617181920212223242526272829303132333435363738mysql&gt; use mysql;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; select user,plugin from user;+------------------+-----------------------+| user | plugin |+------------------+-----------------------+| root | auth_socket || mysql.session | mysql_native_password || mysql.sys | mysql_native_password || debian-sys-maint | mysql_native_password |+------------------+-----------------------+4 rows in set (0.00 sec)mysql&gt; update user set authentication_string=password(&quot;88888888&quot;),plugin=&#x27;mysql_native_password&#x27; where user=&#x27;root&#x27;;Query OK, 1 row affected, 1 warning (0.00 sec)Rows matched: 1 Changed: 1 Warnings: 1mysql&gt; select user,plugin from user;+------------------+-----------------------+| user | plugin |+------------------+-----------------------+| root | mysql_native_password || mysql.session | mysql_native_password || mysql.sys | mysql_native_password || debian-sys-maint | mysql_native_password |+------------------+-----------------------+4 rows in set (0.00 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec)mysql&gt; exitBye 成功 123456789101112131415mardan@Mardan666-WS:~$ mysql -u root -p88888888mysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 5Server version: 5.7.27-0ubuntu0.18.04.1 (Ubuntu)Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &#x27;help;&#x27; or &#x27;\\h&#x27; for help. Type &#x27;\\c&#x27; to clear the current input statement.mysql&gt; 安装phpMyAdmin 123sudo apt install apache2sudo apt install phpmyadminsudo apt install libapache2-mod-php # apache2 需要此模块 软连接 1sudo ln -s /usr/share/phpmyadmin /var/www/html/phpmyadmin","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"mysql","slug":"mysql","permalink":"https://www.mardan.wiki/tags/mysql/"}]},{"title":"win32开发入门","slug":"win32开发入门","date":"2019-07-24T11:30:04.000Z","updated":"2025-04-13T06:16:05.567Z","comments":true,"path":"website/2019/07/24/win32开发入门.html","permalink":"https://www.mardan.wiki/website/2019/07/24/win32%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8.html","excerpt":"概览： New 裁剪 hello world 效果","text":"概览： New 裁剪 hello world 效果 New 打开VS2019 创建新项目 -&gt; windows桌面应用程序 (是C++类哦)，源代码在文末。 裁剪 代码文件只留下framework.h和main.cpp(可能为项目名.cpp). 并在framework.h删掉#include &quot;targetver.h&quot;,hello world不需要这些部分也可以运行。 hello world main.cpp 123456789// WindowsProject1.cpp : 定义应用程序的入口点。//#include &quot;framework.h&quot;int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, PSTR szCmdLine, int iCmdShow) &#123; MessageBox(NULL, TEXT(&quot;Hello windows,are you there?&quot;), TEXT(&quot;Hello world&quot;), 1); return 0;&#125; framework.h 1234567891011121314// header.h: 标准系统包含文件的包含文件，// 或特定于项目的包含文件//#pragma once#define WIN32_LEAN_AND_MEAN // 从 Windows 头文件中排除极少使用的内容// Windows 头文件#include &amp;lt;windows.h&gt;// C 运行时头文件#include &amp;lt;stdlib.h&gt;#include &amp;lt;malloc.h&gt;#include &amp;lt;memory.h&gt;#include &amp;lt;tchar.h&gt; 效果 Download Now","categories":[{"name":"windows","slug":"windows","permalink":"https://www.mardan.wiki/categories/windows/"}],"tags":[{"name":"win32","slug":"win32","permalink":"https://www.mardan.wiki/tags/win32/"}]},{"title":"Rpi启用看门狗","slug":"Rpi启用看门狗","date":"2019-07-23T00:32:11.000Z","updated":"2025-04-13T06:16:05.529Z","comments":true,"path":"website/2019/07/23/Rpi启用看门狗.html","permalink":"https://www.mardan.wiki/website/2019/07/23/Rpi%E5%90%AF%E7%94%A8%E7%9C%8B%E9%97%A8%E7%8B%97.html","excerpt":"概览： 参考 watchdog 设置 安装","text":"概览： 参考 watchdog 设置 安装 参考 给树莓派安装看门狗的两种方法 watchdog 看门狗,又叫 watchdog,看门狗的作用就是防止程序发生死循环或者说程序跑飞。 硬件看门狗，是一个定时器电路, 一般有一个输入,叫喂狗,每隔一段时间输出一个信号到喂狗端,给 WDT 清零,如果超过规定时间不喂狗(一般在程序跑飞时),定时超过,就会给出一个复位信号,使系统复位. 防止系统死机。 设置 安装 1sudo apt install watchdog 载入模块 1modprobe bcm2835_wdt 修改文件/etc/modules,添加以下内容。 1bcm2835_wdt 修改配置文件/etc/watchdog.conf,watchdog on 。 启动watchdog 12sudo /etc/init.d/watchdog startsudo update-rc.d watchdog enable","categories":[{"name":"rpi","slug":"rpi","permalink":"https://www.mardan.wiki/categories/rpi/"}],"tags":[{"name":"rpi","slug":"rpi","permalink":"https://www.mardan.wiki/tags/rpi/"},{"name":"watchdog","slug":"watchdog","permalink":"https://www.mardan.wiki/tags/watchdog/"}]},{"title":"IDEA配置SSM项目","slug":"IDEA配置SSM项目","date":"2019-07-21T13:20:47.000Z","updated":"2025-04-13T06:16:05.516Z","comments":true,"path":"website/2019/07/21/IDEA配置SSM项目.html","permalink":"https://www.mardan.wiki/website/2019/07/21/IDEA%E9%85%8D%E7%BD%AESSM%E9%A1%B9%E7%9B%AE.html","excerpt":"概览： 环境 IDEA启动 New 项目 Maven project info 编写 hello world pom.xml 添加Servlet类 tomcat配置 配置tomcat 部署tomcat 问题解决 java版本错误 tomcat控制台日志乱码","text":"概览： 环境 IDEA启动 New 项目 Maven project info 编写 hello world pom.xml 添加Servlet类 tomcat配置 配置tomcat 部署tomcat 问题解决 java版本错误 tomcat控制台日志乱码 环境 Windows 10 家庭版 1903 Intellij IDEA Ultimate版本 Maven 3.6.1版本 maven下载地址 tomcat 9.0.22版本 tomcat下载地址 IDEA启动 New 项目 Maven Create New Project -&gt;之后如图，注意，一定要选择maven-archetype-webapp,是以maven开头的。之后Next. project info 填写项目GroupId,ArtifactId,Version。之后Next。 123GroupId com.mardan #一般写com.XXX.XXXArtifactId hello # 项目名称，建议与自始至终保持一个。Version 1.0-SNAPSHOT # 默认1.0-SNAPSHOT 之后选择Maven,建议使用最新版，以3.6.1为例。再Next。 之后选择项目路径，再Next。项目名称建议与前面的ArtifactId保持一致。 IDEA正在自动下载依赖，右下角可以选择Enable Auto-Import 可以在IDEA左边的小树林里看看现在项目的资源。 编写 hello world 可以看到WebApp已经存在，现在需要配置下。 pom.xml 添加依赖，maven仓库。可以搜索找到以下信息，并添加之。添加后Ctrl+S保存，IDEA后台就会自动下载依赖。 javax.servlet 123456&lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;4.0.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; pom.xml全文 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.mardan&lt;/groupId&gt; &lt;artifactId&gt;hello&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;hello Maven Webapp&lt;/name&gt; &lt;!-- FIXME change it to the project&#x27;s website --&gt; &lt;url&gt;http://www.example.com&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.11&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;4.0.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;hello&lt;/finalName&gt; &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;/plugin&gt; &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.2&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.8.0&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;version&gt;2.22.1&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt; &lt;version&gt;3.2.2&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt; &lt;version&gt;2.5.2&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt; &lt;version&gt;2.8.2&lt;/version&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/pluginManagement&gt; &lt;/build&gt;&lt;/project&gt; 添加Servlet类 IDEA菜单 -&gt; File -&gt; Project Structure -&gt; Project Settings -&gt; Modules src\\main文件夹中新建一个文件夹，取名为java： 选中java文件夹，点击上面的Make as：Sources，该文件夹就会变成蓝色，用以保存java代码，按OK，结束配置。 在左边小树林java右击选择 New -&gt; java clas,来新建myservlet类。 myservlet.java 123456789101112131415161718192021222324252627282930import java.io.*;import javax.servlet.*;import javax.servlet.http.*;public class myservlet extends HttpServlet &#123; private String message; public void init() throws ServletException &#123; message = &quot;Hello World Java Servlet.&quot;; &#125; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; response.setContentType(&quot;text/html&quot;); PrintWriter out = response.getWriter(); out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;); &#125; public void destroy() &#123; &#125;&#125; tomcat配置 配置tomcat 打开IDEA菜单Run -&gt; 选择Edit Configuration 也可以点击右上方的往下的三角旁边的白框框选择Edit Configuration 点击“+”号 -&gt; 选择“Tomcat Server” --&gt; 选择“Local”，如若没有tomcat server，请点击最下面的more item… 配置如下： 部署tomcat 打开IDEA菜单Run -&gt; 选择Edit Configuration 也可以点击右上方的往下的三角旁边的白框框选择Edit Configuration -&gt; 选择刚刚建立的Tomcat容器 -&gt; 选择Deployment -&gt; 点击右边的“+”号 -&gt; 选择Artifact–&gt;选择web项目–&gt;Application contex填一个名字–&gt;ok. 编辑index.jsp文件，修改h2内容为: 1&lt;h2&gt;Hello World! this is index.jsp&lt;/h2&gt; 单机下面的tomcat启动按钮，在浏览器打开http://localhost:8080/web/,就能看到，浏览器成功显示h2的内容Hello World! this is index.jsp。 现在怎么运行我们想要的servlet呢？请继续看下去吧，壮士。 如果你遵循此文章，已经写完了java类mtservlet.java.请继续以下步骤，如未完成，请跳回。 修改WEB-INF/web.xml文件。html代码可能显示不全，最好比对图片。 12345678910111213141516&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;&lt;web-app&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;servlet&gt; &lt;servlet-name&gt;myservlet&lt;/servlet-name&gt; &lt;servlet-class&gt;myservlet&lt;/servlet-class&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;myservlet&lt;/servlet-name&gt; &lt;url-pattern&gt;/s&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; 在下面tomcat控制台选择update -&gt; Redeploy -&gt; ok 后。打开浏览器http://localhost:8080/web/s。 就可以看到servlet控制的html内容了。 Ok 壮士，this is done。退出时，别忘了关闭tomcat服务器。 # 问题解决 java版本错误 如若出现以下错误或警告。 可以修改pom.xml文件，在节点Project -&gt; Properties下添加以下内容。注12为java版本号，填写自己的jdk版本号。 12345 &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;&lt;/properties&gt; tomcat控制台日志乱码 找到安装IDEA的bin目录将idea.exe.vmoptions和idea64.exe.vmoptions两个文件打开分别在文件最末尾添加-Dfile.encoding=UTF-8。","categories":[{"name":"java","slug":"java","permalink":"https://www.mardan.wiki/categories/java/"}],"tags":[{"name":"java","slug":"java","permalink":"https://www.mardan.wiki/tags/java/"},{"name":"SSM","slug":"SSM","permalink":"https://www.mardan.wiki/tags/SSM/"}]},{"title":"windows编译libssh库","slug":"windows编译libssh","date":"2019-07-20T13:56:17.000Z","updated":"2025-04-13T06:16:05.648Z","comments":true,"path":"website/2019/07/20/windows编译libssh.html","permalink":"https://www.mardan.wiki/website/2019/07/20/windows%E7%BC%96%E8%AF%91libssh.html","excerpt":"概览： 先导文章 准备 lib目录树 VS2019启动 配置链接库 编译 check","text":"概览： 先导文章 准备 lib目录树 VS2019启动 配置链接库 编译 check 先导文章 windows10 VS2019编译openssl 准备 下载libssh2源码https://www.libssh2.org传送门 windows10 VS2019编译openssl 下载zlib库. lib目录树 12345678910111213141516171819202122232425dll├── ssl│ ├── bin│ │ ├── libeay64.dll│ │ ├── openssl.exe│ │ └── ssleay64.dll│ ├── include│ │ └── openssl│ ├── lib│ │ ├── engines│ │ ├── libeay64.lib│ │ └── ssleay64.lib│ └── openssl.cnf└── zlib123dllx64 ├── dll_x64 │ ├── demo │ ├── zlibvc.sln │ ├── zlibwapi.dll │ ├── zlibwapi.exp │ └── zlibwapi.lib ├── readme.txt └── static_x64 └── zlib.lib10 directories, 12 files VS2019启动 双击打开libssh2-1.9.0/win32/libssh2.dsw 点击确认. 配置链接库 先修改项目类型为Debug X64 项目(libssh2)-&gt; 属性® 配置属性 -&gt; C/C++ -&gt; 常规 -&gt; 附加包含目录，添加ssl头文件路径 配置属性 -&gt; C/C++ -&gt; 代码生成 -&gt; 启用函数级链接，选择是。 配置属性 -&gt; 链接器 -&gt; 常规 -&gt; 附加库目录，添加openssl和zlib的目录。 配置属性 -&gt; 链接器 -&gt; 输入 -&gt; 附加依赖项，修改ssl库版本。（如有需要）。 编译 确认全部修改 check","categories":[{"name":"windows","slug":"windows","permalink":"https://www.mardan.wiki/categories/windows/"}],"tags":[{"name":"ssh","slug":"ssh","permalink":"https://www.mardan.wiki/tags/ssh/"},{"name":"lib","slug":"lib","permalink":"https://www.mardan.wiki/tags/lib/"}]},{"title":"windows编译openssl","slug":"windows编译openssl","date":"2019-07-20T11:54:11.000Z","updated":"2025-04-13T06:16:05.650Z","comments":true,"path":"website/2019/07/20/windows编译openssl.html","permalink":"https://www.mardan.wiki/website/2019/07/20/windows%E7%BC%96%E8%AF%91openssl.html","excerpt":"概览： 准备 编译启动 workbranch perl Configure VC-WIN64A ms\\do_win64a.bat nmake -f ms\\nt.mak nmake -f ms\\ntdll.mak 运行test脚本","text":"概览： 准备 编译启动 workbranch perl Configure VC-WIN64A ms\\do_win64a.bat nmake -f ms\\nt.mak nmake -f ms\\ntdll.mak 运行test脚本 准备 https://www.openssl.org传送门 进入下载页，下载最新版（以1.0.2s为例）,并解压。 需要有Visual studio 2019,和Active Perl 编译启动 workbranch 打开x64 Native Tools Command Prompt for VS 2019，切换到vs2019 x64开发环境。 切记必须为cmd环境，不能为PowerShell。 123456************************************************************************ Visual Studio 2019 Developer Command Prompt v16.1.6** Copyright (c) 2019 Microsoft Corporation**********************************************************************[vcvarsall.bat] Environment initialized for: &#x27;x64&#x27; perl Configure VC-WIN64A 进入到OpenSSL的文件夹，运行perl Configure VC-WIN64A,输出。 ms\\do_win64a.bat 修改完再执行 12345678910111213修改ms\\do_win64a.bat文件 perl util\\mk.def.pl 32 libeay &gt; ms\\libeay32.def perl util\\mk.def.pl 32 ssleay &gt; ms\\ssleay32.def 修改为 perl util\\mk.def.pl 64 libeay &gt; ms\\libeay64.def perl util\\mk.def.pl 64 ssleay &gt; ms\\ssleay64.def &#125; nmake -f ms\\nt.mak 修改完再执行 123456修改libeay64.def 第一行LIBEAY32改为LIBEAY64ssleay64.def 第一行SSLEAY32 为SSLEAY64修改ntdll.mak（nt.mak）中所有libeay32和ssleay32改为libeay64 ssleay64, 不管大小写，只要将32改为64即可 nmake -f ms\\ntdll.mak 修改完再执行 123456修改libeay64.def 第一行LIBEAY32改为LIBEAY64ssleay64.def 第一行SSLEAY32 为SSLEAY64修改ntdll.mak（nt.mak）中所有libeay32和ssleay32改为libeay64 ssleay64, 不管大小写，只要将32改为64即可 执行安装 运行test脚本 等待编译完成，进入out32dll目录，运行test脚本 12cd out32dll..\\ms\\test.bat 看到Passed all tests，基本上也就大功告成了。 这个时候去out32dll目录下就可以找到我们需要的库了。要用的就是libeay64, ssleay64","categories":[{"name":"windows","slug":"windows","permalink":"https://www.mardan.wiki/categories/windows/"}],"tags":[{"name":"lib","slug":"lib","permalink":"https://www.mardan.wiki/tags/lib/"},{"name":"ssl","slug":"ssl","permalink":"https://www.mardan.wiki/tags/ssl/"}]},{"title":"CTime格式化参考","slug":"CTime格式化参考","date":"2019-07-20T11:43:33.000Z","updated":"2025-04-13T06:16:05.514Z","comments":true,"path":"website/2019/07/20/CTime格式化参考.html","permalink":"https://www.mardan.wiki/website/2019/07/20/CTime%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%8F%82%E8%80%83.html","excerpt":"参考 CString date = time.Format(&quot;%Y-%m-%d %H:%M:%S %W-%A&quot;);","text":"参考 CString date = time.Format(&quot;%Y-%m-%d %H:%M:%S %W-%A&quot;); 1234567891011121314151617181920212223格式符号说明%a —— 星期（缩写英文），如Fri；%A —— 星期（全写英文），如Friday%b —— 月份（缩写英文），如Oct%B —— 月份（全写英文），如 October%c —— 月/日/年 时:分:秒，如 10/13/06 19:17:17%d —— 日期（1 ~ 31）%H —— 时（24小时制）（0 ~ 23）%I —— 时（12小时制）（0 ~ 12）%j —— 一年当中的第几天，（1 ~ 366）%m —— 月份（数字 1 ~ 12）%M —— 分（0 ~ 59）%p —— 12小时中的A M/PM指示，或者AM，或者PM%S —— 秒（0 ~ 59）%U —— 一年中的第几周，星期日作为每周的第一天（0 ~ 53）%w —— 星期（数字表示，0 ~ 6，0代表星期日）%W —— 一年中的第几周，星期一作为每周的第一天（0 ~ 53）%x —— 月/日/年，%c的前半段%X —— 时/分/秒，%c的后半段%y —— 年份（不带世纪，如 06）%Y —— 年份（带世纪，如 2006）%z，%Z —— 时区名称或缩写，如果时区未知，此字符为空，如“中国标准时间”%% —— %","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"date","slug":"date","permalink":"https://www.mardan.wiki/tags/date/"},{"name":"time","slug":"time","permalink":"https://www.mardan.wiki/tags/time/"}]},{"title":"Text to ASCII Art","slug":"Text-to-ASCII-Art","date":"2019-07-20T11:22:09.000Z","updated":"2025-04-13T06:16:05.529Z","comments":true,"path":"website/2019/07/20/Text-to-ASCII-Art.html","permalink":"https://www.mardan.wiki/website/2019/07/20/Text-to-ASCII-Art.html","excerpt":"发现了一个很好玩的东西。可以将文字通过ASCII字符可视化。 概览： 效果 资料","text":"发现了一个很好玩的东西。可以将文字通过ASCII字符可视化。 概览： 效果 资料 效果 资料 Text to ASCII Art Generator","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"TAAG","slug":"TAAG","permalink":"https://www.mardan.wiki/tags/TAAG/"}]},{"title":"Gradle自动化构建项目","slug":"Gradle自动化构建项目","date":"2019-07-20T10:11:04.000Z","updated":"2025-04-13T06:16:05.516Z","comments":true,"path":"website/2019/07/20/Gradle自动化构建项目.html","permalink":"https://www.mardan.wiki/website/2019/07/20/Gradle%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE.html","excerpt":"概览： 安装Gradle 初始化 构建示例 执行task task结果","text":"概览： 安装Gradle 初始化 构建示例 执行task task结果 安装Gradle getting-started 需要 Java运行时环境（JRE）或Java Development Kit（JDK），版本1.8或更高版本（仅运行Gradle时需要） A Gradle distribution, version 4.10.3 or better （将Gradle的bin添加到环境变量） 初始化 先打开项目目录（gradle_test为例），选择默认选项。 1234567891011121314151617181920212223$ gradle initStarting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for detailsSelect type of project to generate: 1: basic 2: application 3: library 4: Gradle pluginEnter selection (default: basic) [1..4]Select build script DSL: 1: Groovy 2: KotlinEnter selection (default: Groovy) [1..2]Project name (default: gradle_test):&gt; Task :initGet more help with your project: https://guides.gradle.org/creating-new-gradle-buildsBUILD SUCCESSFUL in 36s2 actionable tasks: 2 executed 目录树 12345678├── build.gradle ├── gradle│ └── wrapper│ ├── gradle-wrapper.jar │ └── gradle-wrapper.properties ├── gradlew ├── gradlew.bat └── settings.gradle 构建示例 压缩打包 新建src/myfile.txt,并写入以下内容。 12this is source file.wait for zip. 编辑build.gradle,并写入以下内容。 12345678plugins &#123; id &quot;base&quot;&#125;task zip(type: Zip, group: &quot;Archive&quot;, description: &quot;Archives sources in a zip file&quot;) &#123; from &quot;src&quot; setArchiveName &quot;basic-demo-1.0.zip&quot;&#125; Gradle包含一系列插件，Gradle插件门户网站上提供了许多插件。该发行版附带的base插件是插件之一。结合所调用的核心类型Zip，您可以使用配置的名称和位置创建项目的zip存档。 执行task 1./gradlew zip # task name 这是可能会下载Downloading https://services.gradle.org/distributions/gradle-5.5.1-bin.zip 如果你已经下载过。 可以将压缩包复制到本项目gradle/wrapper目录下。像这样,并修改gradle-wrapper.properties,将distributionUrl指向本地的gradle-5.5.1-bin.zip. 1distributionUrl=gradle-5.5.1-bin.zip 然后继续执行 123456$ ./gradlew zipDownloading file:/E:/SublimeText3/gradle_test/gradle/wrapper/gradle-5.5.1-bin.zip.....................................................................................BUILD SUCCESSFUL in 18s1 actionable task: 1 executed task结果 会在项目根目录build/distributions产生叫basic-demo-1.0.zip的压缩包. 解压查看即使src目录下的文件。","categories":[{"name":"java","slug":"java","permalink":"https://www.mardan.wiki/categories/java/"}],"tags":[{"name":"java","slug":"java","permalink":"https://www.mardan.wiki/tags/java/"},{"name":"gradle","slug":"gradle","permalink":"https://www.mardan.wiki/tags/gradle/"}]},{"title":"Linux whiptail tui","slug":"linux_whiptail_tui","date":"2019-07-12T12:26:11.000Z","updated":"2025-04-13T06:16:05.541Z","comments":true,"path":"website/2019/07/12/linux_whiptail_tui.html","permalink":"https://www.mardan.wiki/website/2019/07/12/linux_whiptail_tui.html","excerpt":"概览： 效果一览 实现代码","text":"概览： 效果一览 实现代码 效果一览 实现代码 1234567891011121314151617181920212223242526#!/bin/shdo_info() &#123; whiptail --msgbox &quot;display tool info&quot; 20 60 1&#125;do_change() &#123; whiptail --msgbox &quot;Now tools is changing&quot; 20 60 1&#125;do_finish() &#123; whiptail --msgbox &quot;finish configure&quot; 20 60 1&#125;while true; do FUN=$(whiptail --menu &quot;Test Window&quot; 20 80 10 --cancel-button Exit \\ &quot;info&quot; &quot;about this tool&quot; \\ &quot;change&quot; &quot;configure this tool&quot; \\ &quot;finish&quot; &quot;Finish config&quot; \\ 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3) if [ $? -ne 0 ]; then exit 1; else &quot;do_$FUN&quot; || whiptail --msgbox &quot;There was an error running do_$FUN&quot; 20 60 1 fidone","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"shell","slug":"shell","permalink":"https://www.mardan.wiki/tags/shell/"},{"name":"whiptail","slug":"whiptail","permalink":"https://www.mardan.wiki/tags/whiptail/"}]},{"title":"cfdisk创建img格式镜像","slug":"创建img格式镜像","date":"2019-07-09T14:51:26.000Z","updated":"2025-04-13T06:16:05.655Z","comments":true,"path":"website/2019/07/09/创建img格式镜像.html","permalink":"https://www.mardan.wiki/website/2019/07/09/%E5%88%9B%E5%BB%BAimg%E6%A0%BC%E5%BC%8F%E9%95%9C%E5%83%8F.html","excerpt":"概览： 生成空镜像 镜像分区 格式化 检验","text":"概览： 生成空镜像 镜像分区 格式化 检验 生成空镜像 注意：count=200，即镜像大小为200M（太小的话，在f2fs文件系统下储存不下内核。），如若需要可以弄大一点儿(2048,4096等)。 123mkdir imagecd imagedd bs=1M count=200 if=/dev/zero of=rpi64.img 镜像分区 1cfdisk rpi64-v0.1.img （1）.选择分区格式：dos （2）.新建分区30M，primary（主分区），选择Bootable（可启动），再选则Type为（b W95 FAT32）, （3）.选择剩余分区（Free space） （4）.选择新建分区（默认剩余全部），primary（主分区） （5）.选择Write写入分区信息 （6）.选择Quit,完成写入 格式化 挂载虚拟文件系统 1sudo kpartx -av rpi64-v0.1.img 标准输出: 12add map loop0p1 (253:0): 0 61440 linear 7:0 2048add map loop0p2 (253:1): 0 346112 linear 7:0 63488 ** 然后格式化** 格式化第一个分区为FAT32，格式化第二个分区为f2fs 12sudo mkfs.vfat /dev/mapper/loop0p1sudo mkfs.f2fs /dev/mapper/loop0p2 标准输出: fat 1mkfs.fat 4.1 (2017-01-24) f2fs 1234567891011121314151617181920 F2FS-tools: mkfs.f2fs Ver: 1.11.0 (2018-07-10)Info: Disable heap-based policyInfo: Debug level = 0Info: Label = Info: Trim is enabledInfo: Segments per section = 1Info: Sections per zone = 1Info: sector size = 512Info: total sectors = 346112 (169 MB)Info: zone aligned segment0 blkaddr: 512Info: format version with &quot;Linux version 4.15.0-54-generic (buildd@lgw01-amd64-014) (gcc version 7.4.0 (Ubuntu 7.4.0-1ubuntu1~18.04.1)) #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019&quot;Info: [/dev/mapper/loop0p2] Discarding deviceInfo: This device doesn&#x27;t support BLKSECDISCARDInfo: Discarded 169 MBInfo: Overprovision ratio = 15.000%Info: Overprovision segments = 29 (GC reserved = 21)Info: format successful 卸载虚拟文件系统 123sync # 同步写入sudo kpartx -dv /dev/loop0sudo losetup -d /dev/loop0 检验","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"cfdisk","slug":"cfdisk","permalink":"https://www.mardan.wiki/tags/cfdisk/"}]},{"title":"WPF使用WindowChrome类自定义标题栏","slug":"WPF使用WindowChrome类自定义标题栏","date":"2019-07-05T15:19:20.000Z","updated":"2025-04-13T06:16:05.530Z","comments":true,"path":"website/2019/07/05/WPF使用WindowChrome类自定义标题栏.html","permalink":"https://www.mardan.wiki/website/2019/07/05/WPF%E4%BD%BF%E7%94%A8WindowChrome%E7%B1%BB%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%87%E9%A2%98%E6%A0%8F.html","excerpt":"概览： WindowChrome Class 注解 标准Windows 自定义 Windows WindowStyle.None WindowChrome","text":"概览： WindowChrome Class 注解 标准Windows 自定义 Windows WindowStyle.None WindowChrome WindowChrome Class 注解 WindowChrome类使你能够将 Windows Presentation Foundation (WPF) 内容扩展到通常为操作系统的窗口管理器保留一个窗口非工作区。 标准Windows 标准 windows 由两个重叠的矩形构成。 外部矩形非工作区，这通常称为chrome。 它的绘制和操作系统的窗口管理器管理。 其维度取决于标准操作系统设置。 非客户端框架提供了标准的窗口功能和行为。 其中包括标题按钮 （最小化、 最大化，并关闭），窗口边框，调整大小和移动行为、 应用程序图标和标题和系统菜单。 内部矩形工作区。 它包含应用程序的内容和它的绘制和管理应用程序。 有关 WPF 应用程序中的 windows 的详细信息，请参阅WPF Windows 概述。 下图显示了标准的窗口的各个部分。 自定义 Windows 可以通过设置自定义窗口边框Window.WindowStyle属性设置为None或使用WindowChrome类。 WindowStyle.None 自定义 WPF 应用程序窗口的外观的一种方法是设置Window.WindowStyle属性设置为None。 这从窗口中删除非客户端框架，并使仅客户端区域中，可以将自定义样式应用到其中。 但是，当删除非客户端框架时，您还丢失了系统功能和行为，它提供了标题按钮和重设窗口大小等。 另一个副作用是最大化窗口，将介绍 Windows 任务栏。设置WindowStyle.None，可创建完全自定义应用程序，但还需要在应用程序来模拟标准窗口行为中实现自定义逻辑。 WindowChrome 若要自定义窗口，同时保留其标准功能，可以使用WindowChrome类。 WindowChrome类将窗口框架的功能分隔开来从视觉对象，并允许您控制的客户端和应用程序窗口的非工作区之间的边界。 WindowChrome类，可以将 WPF 通过扩展客户端区域以覆盖非客户端区域窗口框架中的内容。 同时，它将保留两个不可见区域; 通过系统行为调整大小边框并标题区域。 有两个主要部件创建自定义窗口使用WindowChrome类。 首先，您在窗口的非客户端部分通过设置自定义属性上公开WindowChrome对象。 然后窗口，用于定义扩展到非工作区应用程序的一部分提供的模板。在公开的属性WindowChrome对象是否ResizeBorderThickness， CaptionHeight， CornerRadius，和GlassFrameThickness。 ResizeBorderThickness属性指定的用户可以单击并拖动以调整窗口的大小的应用程序窗口外部不可见边框。 CaptionHeight属性指定不可见区域，使系统行为通常与标题栏的窗口的顶部。 这些行为包括： 单击并拖动鼠标来移动窗口，双击以最大化窗口，然后右键单击以显示系统菜单。 大小调整边框和标题区域并没有任何可视元素;它们仅定义输入和启用系统提供的标准窗口行为做出响应的区域。 CornerRadius属性指定窗口的角变圆的量。 此属性没有任何影响，如果对窗口启用玻璃框。 GlassFrameThickness属性指定的窗口周围玻璃框的宽度。 默认情况下，它使用指定的系统值WindowNonClientFrameThickness属性来模拟标准窗口的外观。 当使用玻璃框时，最小化、 最大化，并关闭的标题按钮是可见和交互式的。 应用程序负责显示应用程序图标和标题文本。 可以设置GlassFrameThickness属性以使更宽或窄而不是默认的玻璃框。","categories":[{"name":"windows","slug":"windows","permalink":"https://www.mardan.wiki/categories/windows/"},{"name":"wpf","slug":"windows/wpf","permalink":"https://www.mardan.wiki/categories/windows/wpf/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/tags/C/"},{"name":"wpf","slug":"wpf","permalink":"https://www.mardan.wiki/tags/wpf/"}]},{"title":"CSharp统计文本字数","slug":"CSharp统计文本字数","date":"2019-07-05T12:17:57.000Z","updated":"2025-04-13T06:16:05.514Z","comments":true,"path":"website/2019/07/05/CSharp统计文本字数.html","permalink":"https://www.mardan.wiki/website/2019/07/05/CSharp%E7%BB%9F%E8%AE%A1%E6%96%87%E6%9C%AC%E5%AD%97%E6%95%B0.html","excerpt":"概览： 说明 实现 Example","text":"概览： 说明 实现 Example 说明 统计文本文件中的字数(中文，英文，符号，数字) 实现 123456789101112131415161718192021222324252627282930313233343536class Program &#123; public static void Main(string[] args) &#123; string filename = @&quot;文件路径&quot;;//这里编写文件路径 string line; int iAllChr = 0; //字符总数：不计字符&#x27;\\n&#x27;和&#x27;\\r&#x27; int iChineseChr = 0; //中文字符计数 int iChinesePnct = 0;//中文标点计数 int iEnglishChr = 0; //英文字符计数 int iEnglishPnct = 0;//中文标点计数 int iNumber = 0; //数字字符：0-9 StreamReader sr = new StreamReader(filename); while ((line = sr.ReadLine()) != null) &#123; foreach (char ch in line) &#123; if (ch != &#x27;\\n&#x27; &amp;&amp; ch != &#x27;\\r&#x27; &amp;&amp; ch != &#x27; &#x27;) iAllChr++; if (&quot;～！＠＃￥％…＆（）—＋－＝&quot;.IndexOf(ch) != -1 || &quot;｛｝【】：“”；‘&#x27;《》，。、？｜＼&quot;.IndexOf(ch) != -1) iChinesePnct++; if (ch &gt;= 0x4e00 &amp;&amp; ch &lt;= 0x9fbb) iChineseChr++; if (&quot;`~!@#$%^&amp;*()_+-=&#123;&#125;[]:\\&quot;;&#x27;&lt;&gt;,.?/\\\\|&quot;.IndexOf(ch) != -1) iEnglishPnct++; if ((ch &gt;= &#x27;a&#x27; &amp;&amp; ch &lt;= &#x27;z&#x27;) || (ch &gt;= &#x27;A&#x27; &amp;&amp; ch &lt;= &#x27;Z&#x27;)) iEnglishChr++; if (ch &gt;= &#x27;0&#x27; &amp;&amp; ch &lt;= &#x27;9&#x27;) iNumber++; &#125; &#125; string sStats = string.Format(string.Concat( &quot;字符总数：&#123;0&#125;\\r\\n&quot;, &quot;中文字符数：&#123;1&#125;\\r\\n&quot;, &quot;中文标点数：&#123;2&#125;\\r\\n&quot;, &quot;英文字符数：&#123;3&#125;\\r\\n&quot;, &quot;英文标点数：&#123;4&#125;\\r\\n&quot;, &quot;数字字符数：&#123;5&#125;\\r\\n&quot;), iAllChr.ToString(), iChineseChr.ToString(), iChinesePnct.ToString(), iEnglishChr.ToString(), iEnglishPnct.ToString(), iNumber.ToString()); Console.WriteLine(sStats); Console.ReadKey(); &#125; &#125; Example 123456字符总数：492中文字符数：9中文标点数：2英文字符数：467英文标点数：14数字字符数：0","categories":[{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/categories/C/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/tags/C/"}]},{"title":"CSharp统计文件数","slug":"CSharp统计文件数","date":"2019-07-05T05:33:20.000Z","updated":"2025-04-13T06:16:05.514Z","comments":true,"path":"website/2019/07/05/CSharp统计文件数.html","permalink":"https://www.mardan.wiki/website/2019/07/05/CSharp%E7%BB%9F%E8%AE%A1%E6%96%87%E4%BB%B6%E6%95%B0.html","excerpt":"概览： 说明 实现","text":"概览： 说明 实现 说明 统计文件夹下的某后缀名文件数量。 实现 123456789101112131415161718class FileCount &#123; public int MdCount(string PATH) &#123; int FC = 0; // 这里写你的目录 DirectoryInfo Dir = new DirectoryInfo(PATH); foreach (FileInfo FI in Dir.GetFiles()) &#123; // 这里写文件格式 if (System.IO.Path.GetExtension(FI.Name) == &quot;.md&quot;) &#123; FC++; &#125; &#125; return FC; &#125; &#125;","categories":[{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/categories/C/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/tags/C/"}]},{"title":"CSharp使用Sqlite","slug":"CSharp使用Sqlite","date":"2019-07-04T16:37:11.000Z","updated":"2025-04-13T06:16:05.514Z","comments":true,"path":"website/2019/07/05/CSharp使用Sqlite.html","permalink":"https://www.mardan.wiki/website/2019/07/05/CSharp%E4%BD%BF%E7%94%A8Sqlite.html","excerpt":"概览： 参考 安装Sqlite 封装函数 调用 调试","text":"概览： 参考 安装Sqlite 封装函数 调用 调试 参考 阿凡卢 C#操作SQLite数据库 安装Sqlite 以Visual Studio 2019 为例，右击项目名称》》选择“管理NuGet程序包”，然后在浏览里搜索&quot;Sqlite&quot;，安装&quot;System.Data.SqLite.Core&quot;的包。 封装函数 12345678910111213141516171819202122232425262728293031323334353637class SqliteOperation &#123; public SQLiteConnection LiteConnection; public void CreateDatebase(string database_name) &#123; SQLiteConnection.CreateFile(database_name); &#125; public void ConnecToDatebase(string database_name) &#123; LiteConnection = new SQLiteConnection(&quot;Data Source=&quot; + database_name + &quot;;Version=3;&quot;); LiteConnection.Open(); &#125; public void CloseToDatebase(string database_name) &#123; LiteConnection = new SQLiteConnection(&quot;Data Source=&quot; + database_name + &quot;;Version=3;&quot;); LiteConnection.Close(); &#125; public void CreateSqliteTable(string table_name) &#123; string sql_command = &quot;create table &quot; + table_name + &quot;(title varchar(127), post date,edit date,tags varchar(127),categories vachar(127))&quot;; SQLiteCommand command = new SQLiteCommand(sql_command, LiteConnection); command.ExecuteNonQuery(); &#125; public void InsertSqlite(string table_name, string insert_title, DateTime insert_post, DateTime insert_edit, string insert_tags, string insert_categories) &#123; string sql_command = &quot;insert into &quot; + table_name + &quot; (title, post,edit,tags,categories) values (\\&quot;&quot; + insert_title + &quot;\\&quot;,\\&quot;&quot; + insert_post + &quot;\\&quot;,\\&quot;&quot; + insert_edit + &quot;\\&quot;,\\&quot;&quot; + insert_tags + &quot;\\&quot;,\\&quot;&quot; + insert_categories + &quot;\\&quot;)&quot;; SQLiteCommand command = new SQLiteCommand(sql_command, LiteConnection); command.ExecuteNonQuery(); &#125; &#125;&#125; 调用 123456789101112131415161718192021222324252627282930313233343536373839404142434445class Program &#123; static bool CheckDatabaseExists(string database_name) &#123; bool status = false; if (File.Exists(database_name)) &#123; status = true; &#125; return status; &#125; static void Main(string[] args) &#123; //sql test SqliteOperation Article_Sqlite = new SqliteOperation(); string database_table = &quot;Article&quot;; //数据库操作 string database_full_name = &quot;sql_test.sqlite&quot;; if (!CheckDatabaseExists(database_full_name)) &#123; Console.WriteLine(&quot;数据库不存在&quot;); Article_Sqlite.CreateDatebase(database_full_name); Article_Sqlite.ConnecToDatebase(database_full_name); Console.WriteLine(&quot;创建数据库:&quot;+database_full_name+&quot; Successful&amp; 连接数据库成功.&quot;); //create table Article_Sqlite.CreateSqliteTable(&quot;Article&quot;); Console.WriteLine(&quot;创建表: Article 成功&quot;); &#125; else &#123; Console.WriteLine(&quot;数据库已存在&quot;); Article_Sqlite.ConnecToDatebase(database_full_name); //insert item Article_Sqlite.InsertSqlite(&quot;Article&quot;, &quot;hello world&quot;, DateTime.Now, DateTime.Now, &quot;hexo,linux,github&quot;, &quot;hexo,linux,github&quot;); Console.WriteLine(&quot;Insert Successful.&quot;); Console.WriteLine(&quot;更新数据库成功&quot;); &#125; Article_Sqlite.CloseToDatebase(database_full_name); Console.WriteLine(&quot;Unit Test Done&quot;); Console.ReadKey(); &#125; &#125; Console output 第一次 123数据库不存在创建数据库:sql_test.sqlite Successful&amp; 连接数据库成功.创建表: Article 成功 Console output 第二次 123数据库已存在Insert Successful.更新数据库成功 调试 sqlbrowser","categories":[{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/categories/C/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/tags/C/"},{"name":"sqlite","slug":"sqlite","permalink":"https://www.mardan.wiki/tags/sqlite/"}]},{"title":"CSharp实现url2ip","slug":"CSharp实现url2ip","date":"2019-07-03T09:02:13.000Z","updated":"2025-04-13T06:16:05.514Z","comments":true,"path":"website/2019/07/03/CSharp实现url2ip.html","permalink":"https://www.mardan.wiki/website/2019/07/03/CSharp%E5%AE%9E%E7%8E%B0url2ip.html","excerpt":"代码实现： 123456789101112131415public class client &#123; public string GeturlIP(string URL)&#123; string IP = string.Empty; try&#123; IPHostEntry ipinfo = Dns.GetHostEntry(URL); foreach(IPAddress IPADDRESS in ipinfo.AddressList) &#123; IP = IPADDRESS.ToString(); &#125; &#125; catch &#123;&#125; return IP; &#125; &#125;","text":"代码实现： 123456789101112131415public class client &#123; public string GeturlIP(string URL)&#123; string IP = string.Empty; try&#123; IPHostEntry ipinfo = Dns.GetHostEntry(URL); foreach(IPAddress IPADDRESS in ipinfo.AddressList) &#123; IP = IPADDRESS.ToString(); &#125; &#125; catch &#123;&#125; return IP; &#125; &#125;","categories":[{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/categories/C/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/tags/C/"}]},{"title":"linux添加开机启动项","slug":"linux添加开机启动项","date":"2019-06-23T14:12:11.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2019/06/23/linux添加开机启动项.html","permalink":"https://www.mardan.wiki/website/2019/06/23/linux%E6%B7%BB%E5%8A%A0%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E9%A1%B9.html","excerpt":"概览： 配置自启动项 图例说明","text":"概览： 配置自启动项 图例说明 配置自启动项 修改/etc/rc.local 12345678910111213141516guzal@GuzalAida:~/workspace$ cat /etc/rc.local#!/bin/sh -e## rc.local## This script is executed at the end of each multiuser runlevel.# Make sure that the script will &quot;exit 0&quot; on success or any other# value on error.## In order to enable or disable this script just change the execution# bits.## By default this script does nothing./usr/local/my_daemon_managerexit 0 图例说明 像这样/usr/local/my_daemon_manager，在最后的exit 0,前添加需要自启的完整程序名。 sequenceDiagram participant systemd systemd->>rc.local: have startup program item? loop Healthcheck rc.local->>rc.local: startup each program end Note right of rc.local: ... my_daemon_manager ... rc.local-->>systemd: Wait a sec! rc.local->>systemd: Hi, startup finsh. systemd-->>rc.local: Good!","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"}]},{"title":"shell脚本if判断","slug":"shell脚本if判断","date":"2019-06-23T05:30:12.000Z","updated":"2025-04-13T06:16:05.564Z","comments":true,"path":"website/2019/06/23/shell脚本if判断.html","permalink":"https://www.mardan.wiki/website/2019/06/23/shell%E8%84%9A%E6%9C%ACif%E5%88%A4%E6%96%AD.html","excerpt":"概览： 基本语法 扩展语法 判断跳转说明 shell示例","text":"概览： 基本语法 扩展语法 判断跳转说明 shell示例 基本语法 123if [ command ]; then 符合该条件执行的语句fi 扩展语法 1234567if [ command ];then 符合该条件执行的语句elif [ command ];then 符合该条件执行的语句else 符合该条件执行的语句fi 判断跳转说明 [ -a FILE ] 如果 FILE 存在则为真。 [ -b FILE ] 如果 FILE 存在且是一个块特殊文件则为真。 [ -c FILE ] 如果 FILE 存在且是一个字特殊文件则为真。 [ -d FILE ] 如果 FILE 存在且是一个目录则为真。 [ -e FILE ] 如果 FILE 存在则为真。 [ -f FILE ] 如果 FILE 存在且是一个普通文件则为真。 [ -g FILE ] 如果 FILE 存在且已经设置了SGID则为真。 [ -h FILE ] 如果 FILE 存在且是一个符号连接则为真。 [ -k FILE ] 如果 FILE 存在且已经设置了粘制位则为真。 [ -p FILE ] 如果 FILE 存在且是一个名字管道(F如果O)则为真。 [ -r FILE ] 如果 FILE 存在且是可读的则为真。 [ -s FILE ] 如果 FILE 存在且大小不为0则为真。 [ -t FD ] 如果文件描述符 FD 打开且指向一个终端则为真。 [ -u FILE ] 如果 FILE 存在且设置了SUID (set user ID)则为真。 [ -w FILE ] 如果 FILE 如果 FILE 存在且是可写的则为真。 [ -x FILE ] 如果 FILE 存在且是可执行的则为真。 [ -O FILE ] 如果 FILE 存在且属有效用户ID则为真。 [ -G FILE ] 如果 FILE 存在且属有效用户组则为真。 [ -L FILE ] 如果 FILE 存在且是一个符号连接则为真。 [ -N FILE ] 如果 FILE 存在 and has been mod如果ied since it was last read则为真。 [ -S FILE ] 如果 FILE 存在且是一个套接字则为真。 [ FILE1 -nt FILE2 ] 如果 FILE1 has been changed more recently than FILE2, or 如果 FILE1 exists and FILE2 does not则为真。 [ FILE1 -ot FILE2 ] 如果 FILE1 比 FILE2 要老, 或者 FILE2 存在且 FILE1 不存在则为真。 [ FILE1 -ef FILE2 ] 如果 FILE1 和 FILE2 指向相同的设备和节点号则为真。 [ -o OPTIONNAME ] 如果 shell选项 “OPTIONNAME” 开启则为真。 [ -z STRING ] “STRING” 的长度为零则为真。 [ -n STRING ] or [ STRING ] “STRING” 的长度为非零 non-zero则为真。 [ STRING1 == STRING2 ] 如果2个字符串相同。 “=” may be used instead of “==” for strict POSIX compliance则为真。 [ STRING1 != STRING2 ] 如果字符串不相等则为真。 [ STRING1 &lt; STRING2 ] 如果 “STRING1” sorts before “STRING2” lexicographically in the current locale则为真。 [ STRING1 &gt; STRING2 ] 如果 “STRING1” sorts after “STRING2” lexicographically in the current locale则为真。 [ ARG1 OP ARG2 ] “OP” is one of -eq, -ne, -lt, -le, -gt or -ge. These arithmetic binary operators return true if “ARG1” is equal to, not equal to, less than, less than or equal to, greater than, or greater than or equal to “ARG2”, respectively. “ARG1” and “ARG2” are integers. shell示例 1234567891011121314151617181920#!/bin/bash --posixHEXOBLOG_HOME=/home/guzal/ka1i.github.ioSOURCE_HOME=/home/guzal/ArticleMYBLOGSOURCE_HOME=/home/guzal/ka1i.github.io/sourceSCRIPT_SYNC=/echo -en &quot;Switch directory to $&#123;SOURCE_HOME&#125; ...\\n&quot;cd $&#123;SOURCE_HOME&#125;echo -en &quot;git fetch origin master:temp\\n&quot;git fetch origin master:tempecho -en &quot;git diff temp\\n&quot;diff_result=`git diff temp --stat`echo $&#123;diff_result&#125;if [ -n $&#123;diff_result:0:5&#125; ];then echo -en &quot;\\nstart update hexo blog\\n&quot; git merge temp /home/guzal/synchexo/synchexo.shfi","categories":[{"name":"shell","slug":"shell","permalink":"https://www.mardan.wiki/categories/shell/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"shell","slug":"shell","permalink":"https://www.mardan.wiki/tags/shell/"}]},{"title":"selenium自动化测试","slug":"selenium自动化测试","date":"2019-05-13T08:30:35.000Z","updated":"2025-04-13T06:16:05.563Z","comments":true,"path":"website/2019/05/13/selenium自动化测试.html","permalink":"https://www.mardan.wiki/website/2019/05/13/selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95.html","excerpt":"概览： 安装 selenium(python3) chromium webdriver 测试用例","text":"概览： 安装 selenium(python3) chromium webdriver 测试用例 安装 selenium(python3) 1pip install selenium chromium webdriver 进入浏览器-&gt;帮助-关于，找到Chrome版本。 进入相近的版本命名的文件夹下载chrome webdriver 解压压缩包，并把exe文件放置于你想要的目录，并添加目录至环境变量。 测试用例 12345678910111213from selenium import webdriverfrom selenium.webdriver.support.wait import WebDriverWait # 用于实例化一个Driver的显式等待from selenium.webdriver.common.by import By # 内置定位器策略集from selenium.webdriver.support import expected_conditions as EC # 内置预期条件函数，具体API请参考此小节后API链接driver = webdriver.Chrome()driver.get(&#x27;https://www.bilibili.com&#x27;)try: WebDriverWait(driver, 20, 0.5).until(EC.presence_of_all_elements_located((By.CLASS_NAME,&#x27;storey-box&#x27;))) #使用expected_conditions自带验证函数 for doctorName in driver.find_elements_by_css_selector(&#x27;.storey-box div&#x27;): print(doctorName.find_element_by_css_selector(&#x27;.pic &gt; a&#x27;).text)finally: driver.close() # close the driver","categories":[{"name":"python","slug":"python","permalink":"https://www.mardan.wiki/categories/python/"}],"tags":[{"name":"selenium","slug":"selenium","permalink":"https://www.mardan.wiki/tags/selenium/"},{"name":"python","slug":"python","permalink":"https://www.mardan.wiki/tags/python/"}]},{"title":"修改shell默认样式","slug":"修改shell默认样式","date":"2019-04-23T01:48:40.000Z","updated":"2025-04-13T06:16:05.655Z","comments":true,"path":"website/2019/04/23/修改shell默认样式.html","permalink":"https://www.mardan.wiki/website/2019/04/23/%E4%BF%AE%E6%94%B9shell%E9%BB%98%E8%AE%A4%E6%A0%B7%E5%BC%8F.html","excerpt":"概览： PS(x)介绍 自定义PS1 安装依赖 配置文件 引用配置","text":"概览： PS(x)介绍 自定义PS1 安装依赖 配置文件 引用配置 PS(x)介绍 Prompt Statement variables: PS变量介绍 PS1 - 默认交互式提示（这是最经常自定义的变量） PS2 - 继续交互式提示（当一行长命令在行末用\\分解时）default =“&gt;” PS3 - 在shell脚本中“select”循环使用的提示 PS4 - 在调试模式下执行shell脚本时使用的提示符（“ set -x”将打开它）default =“+” PROMPT_COMMAND - 如果设置了此变量并且具有非null值，则它将在PS1变量之前执行。 自定义PS1 参考 安装依赖 1sudo apt-get install fonts-powerline 配置文件 xxx.ps1 文件位置随便 123456789101112131415161718192021#!/bin/bash --posix# @Author: Mardan# @Date: 2019-04-22 18:15:33# @Last Modified by: Serendipity# @Last Modified time: 2019-04-22 19:48:40tag_info=&#x27;Mardan_666&#x27;tag_sentence=&#x27;信息通达天下 软件兼容世界&#x27;#colorful displayer vardate_var=&#x27;\\[\\033[48;5;250m\\]\\[\\033[2;30m\\]日期：\\d \\T\\[\\033[0m\\]\\[\\033[38;5;250m\\]\\[\\033[48;5;69m\\]\\[\\033[0m\\]&#x27;user_var=&#x27;\\[\\033[48;5;69m\\]\\[\\033[2;30m\\] 用户：\\u \\[\\033[0m\\]\\[\\033[38;5;69m\\]\\[\\e[48;5;119m\\]\\[\\033[0m\\]&#x27;hostname_var=&#x27;\\[\\e[48;5;119m\\]\\[\\033[2;30m\\] 主机名：\\h \\[\\033[0m\\]\\[\\e[38;5;119m\\]\\[\\e[48;5;89m\\]\\[\\033[0m\\]&#x27;command_var=&#x27;\\[\\e[48;5;89m\\]命令总计：\\#/\\! 后台：\\j\\[\\033[0m\\]\\[\\e[38;5;89m\\]\\[\\033[0m\\]&#x27;tag_secetion1=&#x27;\\[\\033[1;46m\\]\\[\\033[2;30m\\]$&#123;tag_info&#125; \\[\\033[0m\\]\\[\\033[0;36m\\]\\[\\033[0m\\]&#x27;tag_secetion2=&#x27; ⚑\\[\\033[1;32m\\] &quot;$&#123;tag_sentence&#125;&quot;\\[\\033[0m\\]⚡&#x27;tag_var=$&#123;tag_secetion1&#125;$&#123;tag_secetion2&#125;permssion_var=&#x27;\\$ &#x27;workdir_var=&#x27;\\[\\033[2;3;4;92m\\]工作目录：\\w\\[\\033[0m\\]&#x27;wrap_var=&#x27;\\n&#x27;PS1=$&#123;wrap_var&#125;$&#123;date_var&#125;$&#123;user_var&#125;$&#123;hostname_var&#125;$&#123;command_var&#125;$&#123;wrap_var&#125;$&#123;tag_var&#125;$&#123;wrap_var&#125;$&#123;workdir_var&#125;$&#123;wrap_var&#125;$&#123;permssion_var&#125; 引用配置 再家目录下的.bashrc引用之前的PS1配置 1source ~/my.ps1 也可以重命名为.my.ps1,让其进入隐藏状态。","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"terminal","slug":"terminal","permalink":"https://www.mardan.wiki/tags/terminal/"}]},{"title":"linux守护进程","slug":"linux守护进程","date":"2019-04-07T09:06:56.000Z","updated":"2025-04-13T06:16:05.541Z","comments":true,"path":"website/2019/04/07/linux守护进程.html","permalink":"https://www.mardan.wiki/website/2019/04/07/linux%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B.html","excerpt":"概览： 守护进程介绍 创建步骤 (1)创建子进程，终止父进程 (2)在子进程中创建新会话 (3)改变工作目录 (4)重设文件创建掩码 (5)关闭文件描述符 引入相关头文件 模拟占用cpu 守护进程 int main()","text":"概览： 守护进程介绍 创建步骤 (1)创建子进程，终止父进程 (2)在子进程中创建新会话 (3)改变工作目录 (4)重设文件创建掩码 (5)关闭文件描述符 引入相关头文件 模拟占用cpu 守护进程 int main() 守护进程介绍 守护进程(daemon)是一类在后台运行的特殊进程，用于执行特定的系统任务。很多守护进程在系统引导的时候启动，并且一直运行直到系统关闭。另一些只在需要的时候才启动，完成任务后就自动结束。 守护进程是一个在后台运行并且不受任何终端控制的进程。Unix操作系统有很多典型的守护进程(其数目根据需要或20—50不等)，它们在后台运行，执行不同的管理任务。 用户使守护进程独立于所有终端是因为，在守护进程从一个终端启动的情况下，这同一个终端可能被其他的用户使用。例如，用户从一个终端启动守护进程后退出，然后另外一个人也登录到这个终端。用户不希望后者在使用该终端的过程中，接收到守护进程的任何错误信息。同样，由终端键入的任何信号(例如中断信号)也不应该影响先前在该终端启动的任何守护进程的运行。虽然让服务器后台运行很容易(只要shell命令行以&amp;结尾即可)，但用户还应该做些工作，让程序本身能够自动进入后台，且不依赖于任何终端。 守护进程没有控制终端，因此当某些情况发生时，不管是一般的报告性信息，还是需由管理员处理的紧急信息，都需要以某种方式输出。Syslog 函数就是输出这些信息的标准方法，它把信息发送给 syslogd 守护进程。 创建步骤 (1)创建子进程，终止父进程 由于守护进程是脱离控制终端的，因此首先创建子进程，终止父进程，使得程序在shell终端里造成一个已经运行完毕的假象。之后所有的工作都在子进程中完成，而用户在shell终端里则可以执行其他的命令，从而使得程序以僵尸进程形式运行，在形式上做到了与控制终端的脱离。 (2)在子进程中创建新会话 这个步骤是创建守护进程中最重要的一步，在这里使用的是系统函数setsid。 setsid函数用于创建一个新的会话，并担任该会话组的组长。调用setsid仃三个作用：让进程摆脱原会话的控制、让进程摆脱原进程组的控制和让进程摆脱原控制终端的控制。 在调用fork函数时，子进程全盘拷贝父进程的会话期(session，是一个或多个进程组的集合)、进程组、控制终端等，虽然父进程退出了，但原先的会话期、进程组、控制终端等并没有改变，因此，那还不是真正意义上使两者独立开来。setsid函数能够使进程完全独立出来，从而脱离所有其他进程的控制。 (3)改变工作目录 使用fork创建的子进程也继承了父进程的当前工作目录。由于在进程运行过程中，当前目录所在的文件系统不能卸载，因此，把当前工作目录换成其他的路径，如“/”或“/tmp”等。改变工作目录的常见函数是chdir。 (4)重设文件创建掩码 文件创建掩码是指屏蔽掉文件创建时的对应位。由于使用fork函数新建的子进程继承了父进程的文件创建掩码，这就给该子进程使用文件带来了诸多的麻烦。因此，把文件创建掩码设置为0，可以大大增强该守护进程的灵活性。设置文件创建掩码的函数是umask，通常的使用方法为umask(0)。 (5)关闭文件描述符 用fork新建的子进程会从父进程那里继承一些已经打开了的文件。这些被打开的文件可能永远不会被守护进程读或写，但它们一样消耗系统资源，可能导致所在的文件系统无法卸载。 引入相关头文件 12345#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt; #include &lt;unistd.h&gt; #include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt; 模拟占用cpu 12345678void takepu()&#123; while(1)&#123; while(1)&#123; printf(&quot;I&#x27;m a daemon program\\n&quot;); &#125; &#125;&#125; 守护进程 123456789101112131415161718192021222324252627282930313233343536373839404142void mydaemon(int ischdir,int isclose)&#123; // 调用setsid() 的不能是进程组组长，当前程序有可能是进程组组长 pid_t pid = fork(); // 非子进程则退出 if(pid != 0) exit(-1); // 父进程退出，留下子进程 // 创建一个新的会话期，从而脱离原有的会话期 // 进程同时与控制终端脱离 setsid(); // 此时子进程成为新会话期的领导和新的进程组长 // 但这样的身份可能会通过fcntl去获到终端 pid = fork(); // 非子进程则退出 if(pid != 0) exit(-1); // 此时留下来的是孙子进程,再也不能获取终端 // 通常来讲, 守护进程应该工作在一个系统永远不会删除的目录下 if(ischdir == 0) &#123; chdir(&quot;/&quot;); &#125; // 关闭输入输出和错误流 (通过日志来查看状态) if(isclose == 0) &#123; close(0); close(1); close(2); &#125; //去掩码位 umask((mode_t)0);//sys/stat.h&#125; int main() 123456int main(int argc, char *argv[])&#123; mydaemon(1,1); takepu(); exit(EXIT_SUCCESS);&#125;","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"},{"name":"c/c++","slug":"linux/c-c","permalink":"https://www.mardan.wiki/categories/linux/c-c/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"daemon","slug":"daemon","permalink":"https://www.mardan.wiki/tags/daemon/"}]},{"title":"Git安装及配置","slug":"Git安装及配置","date":"2018-11-22T08:48:59.000Z","updated":"2025-04-13T06:16:05.515Z","comments":true,"path":"website/2018/11/22/Git安装及配置.html","permalink":"https://www.mardan.wiki/website/2018/11/22/Git%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html","excerpt":"概览: 安装Git 配置 测试: 初始设置 正式使用 新建项目仓库: 使用已存在项目 简单操作 git clone git pull git push git status 分支管理 版本回退 子模块 问题解决 文件冲突 强制合并 版本冲突解决","text":"概览: 安装Git 配置 测试: 初始设置 正式使用 新建项目仓库: 使用已存在项目 简单操作 git clone git pull git push git status 分支管理 版本回退 子模块 问题解决 文件冲突 强制合并 版本冲突解决 安装Git Git 确认安装是否成功: Git: 1git --version 我的版本: 12$ git --versiongit version 2.19.1.windows.1 出现版本号，说明安装成功。 下载后需要注册Github账号。 配置 生成SSH key以免密码加密访问github, 1ssh-keygen -t rsa -b 4096 -C &quot;your_email@qq.com&quot; 打开文件C:/Users/Mardan/.ssh/id_rsa.pub，并复制文件里面的内容 进入https://github.com/settings/ssh,选择 new ssh key,粘贴刚刚复制的文件C:/Users/Mardan/.ssh/id_rsa.pub全部内容。 测试: 1ssh -T git@github.com 输出: 123The authenticity of host ‘github.com (207.97.227.239)’ can’t be established.RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.Are you sure you want to continue connecting (yes/no)? 然后输入yes。 或 1Hi &lt;your_username&gt;! You&#x27;ve successfully authenticated, but GitHub does not provide shell access. 说明已经链接github，如果没有，请重新来过。 初始设置 使用前请设置以下信息 123git config --global user.name &quot;your_username&quot;git config --global user.email &quot;your_emial@qq.com&quot;git config --global push.default simple 正式使用 进入工作目录(我的是 workspace)，这个自己建立的，可以不一样的。 1cd workspace 查看远程仓库地址 123$ git remote -vorigin https://github.com/xxxxxxx (fetch)origin https://github.com/xxxxxxx (push) 新建项目仓库: …or create a new repository on the command line 123456echo &quot;# Learn Git&quot; &gt;&gt; README.mdgit initgit add README.mdgit commit -m &quot;first commit&quot;git remote add origin &lt;repo url&gt;git push -u origin master 使用已存在项目 …or push an existing repository from the command line 12git remote add origin &lt;repo url&gt;git push -u origin master 或者覆盖原远程仓库地址 1git remote set-url origin git@github.com:xxxxxxxx 简单操作 git clone 然后克隆git仓库 1git clone &lt;repo url&gt; 如若想克隆其他分支请用 -b 选项 like:克隆test分支。 1git clone -b test &lt;repo url&gt; git pull 拉取远程仓库代码 12$ git pullAlready up to date. git push 同步本地仓库的提交和远程仓库的代码。 git status 基本已完成 分支管理 新建本地分支 1git branch &lt;branch_name&gt; 查看该项目的所有本地和远程分支 1git branch -a 切换本地分支 1git checkout &lt;other branch_name&gt; 把远程分支的代码pull到本地分支 1git pull origin &lt;branch_name&gt; PS：push代码前最好先用pull更新本地代码。 第一次需要填写完整命令。 1git push -u origin master 之后只要git push就行了。 版本回退 查看修改记录 1git reflog 回退至上一个版本 1git reset head HEAD^ 撤回回退 1git reset --hard &quot;id&quot; 子模块 如果项目包含子模块，需要添加参数--recursive 1git clone &lt;repo url&gt; --recursive 问题解决 文件冲突 第一次上传有可能会遇到push失败的情况，那是因为跟SVN一样，github上有一个README.md 文件没有下载下来 。我们得先 1git pull --rebase origin master 然后执行 1git push -u origin master 就可以成功啦。 强制合并 如果想强制覆盖远程仓库，可以采用–force参数，（除非仓库禁止强制覆盖提交）。 1git push --force 版本冲突解决 Github上面的一个仓库很久没有更新了，最近想写点新的东西放上去。结果提示：master and dev are entirely different commit histories.两个分支是两个不同的版本，具有不同的提交历史，想要拉取和提交都被拒绝，找了资料和百度，发现要加一句命令才可以，记下备忘。解决方案如下： 123git checkout master #切换到要提交代码的分支git pull origin master --allow-unrelated-histories #加上后面这个选项允许不相关历史提交git push origin master #提交到远程分支 NOTE:首先需要pull，发现refusing to merge unrelated histories，因为两个仓库提交历史不一致，无法pull拉取远程信息，所以需要在GIT命令中添加一句代码：–allow-unrelated-histories允许不相关历史进行提交,代码是在git 2.9.2版本发生的，最新的版本需要添加–allow-unrelated-histories (eg:git pull origin master --allow-unrelated-histories)","categories":[{"name":"git","slug":"git","permalink":"https://www.mardan.wiki/categories/git/"}],"tags":[{"name":"git","slug":"git","permalink":"https://www.mardan.wiki/tags/git/"}]},{"title":"自定义hexo的Next主题 s2","slug":"自定义hexo的Next主题-s2","date":"2018-11-20T05:42:11.000Z","updated":"2025-04-13T06:16:05.658Z","comments":true,"path":"website/2018/11/20/自定义hexo的Next主题-s2.html","permalink":"https://www.mardan.wiki/website/2018/11/20/%E8%87%AA%E5%AE%9A%E4%B9%89hexo%E7%9A%84Next%E4%B8%BB%E9%A2%98-s2.html","excerpt":"概览： 在右上角或者左上角实现fork me on github 动态背景 添加RSS 添加搜索功能 添加阅读全文按钮 在每篇文章末尾统一添加“本文结束”标记 Hexo发布博客引用自带图片的方法 侧边栏社交小图标设置 设置网站图标 在网站底部加上访问量 文章字数统计 开启打赏功能 添加网页顶部进度加载条 底部隐藏由HEXO强力驱动，主题–NexT… 生成post时默认生成categories配置项 底部显示建站时间和图标修改 设置字体 添加sitemap.xml","text":"概览： 在右上角或者左上角实现fork me on github 动态背景 添加RSS 添加搜索功能 添加阅读全文按钮 在每篇文章末尾统一添加“本文结束”标记 Hexo发布博客引用自带图片的方法 侧边栏社交小图标设置 设置网站图标 在网站底部加上访问量 文章字数统计 开启打赏功能 添加网页顶部进度加载条 底部隐藏由HEXO强力驱动，主题–NexT… 生成post时默认生成categories配置项 底部显示建站时间和图标修改 设置字体 添加sitemap.xml Next官网文档 在右上角或者左上角实现fork me on github 打开next主题配置文件 修改github_banner:的 enable为true 12345# `Follow me on GitHub` banner in the top-right corner.github_banner: enable: true permalink: https://github.com/ka1i title: Follow me on GitHub 动态背景 目前NexT主题最新的是V7.2版本，这个版本中可以有4种动态背景： Canvas-nest three_waves canvas_lines canvas_sphere 打开Github,寻找相应的动画并按要求安装，然后直接设置里需要的动态背景为true。 添加RSS 1.然后安装 Hexo 插件： 1cnpm install hexo-generator-feed --save 2、打开 站点配置文件 修改或添加以下内容 12345678# feed# Dependencies: https://github.com/hexojs/hexo-generator-feedfeed: type: rss path: rss.xml limit: 20 hub: content: 3、打开 主题配置文件 找到rss，设置为 1rss: /rss.xml 添加搜索功能 1、安装 hexo-generator-searchdb 插件: 1cnpm install hexo-generator-searchdb --save 2、打开next主题配置文件修改search项 1234567891011# Local search# Dependencies: https://github.com/theme-next/hexo-generator-searchdblocal_search: enable: true # If auto, trigger search by changing input. # If manual, trigger search by pressing enter key or search button. trigger: auto # Show top n results per article, show all results by setting to -1 top_n_per_article: 1 # Unescape html strings to the readable one. unescape: false 3、打开 主题配置文件 找到Local search，将enable设置为true 添加阅读全文按钮 因为在你的博客主页会有多篇文章，如果你想让你的文章只显示一部分，多余的可以点击阅读全文来查看，那么你需要在你的文章中添加 1&lt;!--more--&gt; 在每篇文章末尾统一添加“本文结束”标记 接着打开\\themes\\next\\layout_macro\\post.swig文件，在End post body 之后， 添加以下代码： 12345678&#123;#####################&#125; &#123;### END POST BODY ###&#125; &#123;#####################&#125; &lt;div&gt; &#123;% if not is_index %&#125; &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;------ 文章已经结束，谢谢你的阅读 ------&lt;br&gt;------ article has ended,thank you for reading ------&lt;/div&gt; &#123;% endif %&#125; &lt;/div&gt; 然后打开主题配置文件（_config.yml),在末尾添加： 123# 文章末尾添加“本文结束”标记passage_end_tag:enabled: true Hexo发布博客引用自带图片的方法 1cnpm install hexo-asset-image --save 编辑站点配置文件 字段post_asset_folder 1post_asset_folder: true hexo new “test blog” 使用完命令之后，在source/_post文件夹里面就会出现一个“test-blog.md”的文件和一个“test-blog”的文件夹。 侧边栏社交小图标设置 打开主题配置文件_config.yml，搜索social:, ||之后是在图标库中对应的图标。注意空格就行。 12social: GitHub: https://github.com/yourname || github 设置网站图标 默认的网站图标是一个N，当然是需要制定一个图了，在网上找到图后，将其放在/themes/next/source/images里面，然后在主题配置文件中修改下图所示图片位置 1234567favicon: small: /images/favicon-16x16-next.png medium: /images/favicon-32x32-next.png apple_touch_icon: /images/apple-touch-icon-next.png safari_pinned_tab: /images/logo.svg #android_manifest: /images/manifest.json #ms_browserconfig: /images/browserconfig.xml 在网站底部加上访问量 安装HEXO插件，切换到根目录： 1cnpm install hexo-symbols-count-time --save 编辑 主题配置文件 修改symbols_count_tim:字段 12345678# Post wordcount display settings# Dependencies: https://github.com/theme-next/hexo-symbols-count-timesymbols_count_time: separated_meta: true item_text_post: true item_text_total: true awl: 4 wpm: 275 文章字数统计 安装HEXO插件，切换到根目录： 1cnpm install hexo-wordcount --save 编辑 主题配置文件 修改post_wordcount:字段 123456789post_wordcount: item_text: true #字数统计 wordcount: true #预览时间 min2read: true #总字数,显示在页面底部 totalcount: true separated_meta: true 开启打赏功能 编辑 主题配置文件 修改reward_comment:等字段 123reward_comment: 坚持原创技术分享，您的支持将鼓励我继续创作！wechatpay: /images/wechatpay.jpgalipay: /images/alipay.jpg 添加网页顶部进度加载条 编辑 主题配置文件 ，command+F搜索pace，其将值对划线ture就可以了，选择一款你喜欢的样式。 12345678910111213141516171819# Progress bar in the top during page loading.pace: ture# Themes list:#pace-theme-big-counter#pace-theme-bounce#pace-theme-barber-shop#pace-theme-center-atom#pace-theme-center-circle#pace-theme-center-radar#pace-theme-center-simple#pace-theme-corner-indicator#pace-theme-fill-left#pace-theme-flash#pace-theme-loading-bar#pace-theme-mac-osx#pace-theme-minimal# For example# pace_theme: pace-theme-center-simplepace_theme: pace-theme-flash 底部隐藏由HEXO强力驱动，主题–NexT… 打开Blog/themes/next/_config.yml,把true改成false 12345678# Hexo link (Powered by Hexo).powered: falsetheme: # Theme &amp; scheme info link (Theme - NexT.scheme). enable: false # Version info of NexT after scheme info (vX.X.X). version: false 生成post时默认生成categories配置项 在scaffolds/post.md中，添加一行categories:。同理可应用在page.md 底部显示建站时间和图标修改 编辑 主题配置文件 1234567891011121314151617181920212223242526272829303132333435363738footer: # Specify the date when the site was setup. If not defined, current year will be used. since: 2017 # Icon between year and copyright info. icon: # Icon name in fontawesome, see: https://fontawesome.com/v4.7.0/icons/ # `heart` is recommended with animation in red (#ff0000). name: snowflake-o # If you want to animate the icon, set it to true. animated: false # Change the color of icon, using Hex Code. color: &quot;#808080&quot; # If not defined, `author` from Hexo main config will be used. copyright: powered: # Hexo link (Powered by Hexo). enable: false # Version info of Hexo after Hexo link (vX.X.X). version: false theme: # Theme &amp; scheme info link (Theme - NexT.scheme). enable: false # Version info of NexT after scheme info (vX.X.X). version: false # Beian icp information for Chinese users. In China, every legal website should have a beian icp in website footer. # http://www.beian.miit.gov.cn beian: enable: false icp: # Any custom text can be defined here. custom_text: Power by 1101.Mardan M &amp; &lt;br&gt;Copyright © 2017 - 2021 Mardan. All Rights Reserved. 设置字体 编辑 主题配置文件 123456789101112131415161718192021222324252627282930313233343536373839404142434445font: enable: true # Uri of fonts host, e.g. //fonts.googleapis.com (Default). host: //fonts.lug.ustc.edu.cn # Font options: # `external: true` will load this font family from `host` above. # `family: Times New Roman`. Without any quotes. # `size: xx`. Use `px` as unit. # Global font settings used for all elements in &lt;body&gt;. global: external: true family: Comic Neue size: 18 # Font settings for Headlines (H1, H2, H3, H4, H5, H6). # Fallback to `global` font settings. headings: external: true family: size: # Font settings for posts. # Fallback to `global` font settings. posts: external: true family: # Font settings for Logo. # Fallback to `global` font settings. logo: external: true family: Lobster Two size: # Font settings for &lt;code&gt; and code blocks. codes: external: true family: monospace size: 添加sitemap.xml 1npm install hexo-generator-sitemap --save 在站点_config.yml添加 123# 自动生成sitemapsitemap:path: sitemap.xml","categories":[{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/tags/hexo/"}]},{"title":"自定义hexo的Next主题 s1","slug":"自定义hexo的Next主题-s1","date":"2018-11-19T05:40:47.000Z","updated":"2025-04-13T06:16:05.657Z","comments":true,"path":"website/2018/11/19/自定义hexo的Next主题-s1.html","permalink":"https://www.mardan.wiki/website/2018/11/19/%E8%87%AA%E5%AE%9A%E4%B9%89hexo%E7%9A%84Next%E4%B8%BB%E9%A2%98-s1.html","excerpt":"概览： 主题 语言 菜单 头像 作者昵称 站点描述 主页显示文章摘要","text":"概览： 主题 语言 菜单 头像 作者昵称 站点描述 主页显示文章摘要 主题 Scheme 是 NexT 提供的一种特性，借助于 Scheme，NexT 为你提供多种不同的外观。同时，几乎所有的配置都可以 在 Scheme 之间共用。目前 NexT 支持三种 Scheme，他们是： Muse - 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白 Mist - Muse 的紧凑版本，整洁有序的单栏外观 Pisces - 双栏 Scheme，小家碧玉似的清新 Scheme 的切换通过更改 主题配置文件，搜索 scheme 关键字。 你会看到有三行 scheme 的配置，将你需用启用的 scheme 前面注释 # 去除即可。 选择 Pisces Scheme 123#scheme: Muse#scheme: Mistscheme: Pisces 语言 编辑 站点配置文件， 将 language 设置成你所需要的语言。建议明确设置你所需要的语言，例如选用简体中文，配置如下： 1language: zh-CN 目前 NexT 支持的语言如以下表格所示： 语言 代码 设定示例 English en language: en 简体中文 zh-CN language: zh-CN Français fr-FR language: fr-FR Português pt language: pt or language: pt-BR Русский язык ru language: ru Deutsch de language: de 日本語 ja language: ja Indonesian id language: id Korean ko language: ko 菜单 菜单配置包括三个部分，第一是菜单项（名称和链接），第二是菜单项的显示文本，第三是菜单项对应的图标。 NexT 使用的是 Font Awesome 提供的图标， Font Awesome 提供了 600+ 的图标，可以满足绝大的多数的场景，同时无须担心在 Retina 屏幕下 图标模糊的问题。 编辑 主题配置文件，修改以下内容： 1.设定菜单内容，对应的字段是 menu。 菜单内容的设置格式是：item name: link。其中 item name 是一个名称，这个名称并不直接显示在页面上，她将用于匹配图标以及翻译。 菜单示例配置 1234567891011121314151617181920# ---------------------------------------------------------------# Menu Settings# ---------------------------------------------------------------# When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash from link value (/archives -&gt; archives).# Usage: `Key: /link/ || icon`# Key is the name of menu item. If the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used. Key is case-senstive.# Value before `||` delimiter is the target link.# Value after `||` delimiter is the name of FontAwesome icon. If icon (with or without delimiter) is not specified, question icon will be loaded.# External url should start with http:// or https://menu: home: / || home #categories: /categories/ || th archives: /archives/ || archive #schedule: /schedule/ || calendar tags: /tags/ || tags about: /about/ || user sitemap: /sitemap.xml || sitemap Follow me on GitHub: https://github.com/ka1i || github #commonweal: /404/ || heartbeat NexT 默认的菜单项有（标注 的项表示需要手动创建这个页面）： 键值设定值显示文本（简体中文）homehome: /主页archivesarchives: /archives归档页categoriescategories: /categories分类页 tagstags: /tags标签页 aboutabout: /about关于页面 commonwealcommonweal: /404.html公益 404 运行命令创建 123hexo new page &#x27;tags&#x27; #创建tags子目录hexo new page &#x27;about&#x27; #创建about子目录hexo new page &#x27;categories&#x27; #创建categories子目录 在你的网站根目录下面的source文件夹会分别生成tags、categories以及about文件夹。 分别修改这tags和categories文件夹中的index.md文件，新增type属性，如下： 12345---title: tagsdate: 2018-01-04 11:45:41type: tags--- categories的修改类似。 当你新建一篇博文的时候，增加上tags和categories属性值，就能在tags和categories界面检索到你的文章了。 头像 编辑 主题配置文件， 修改字段 avatar， 值设置成头像的链接地址。其中，头像的链接地址可以是： 地址值完整的互联网 URIhttp://example.com/avatar.png站点内的地址放置在source/images/目录下配置为：avatar: /images/avatar.png 作者昵称 编辑 站点配置文件， 设置 author 为你的昵称。 打开\\themes\\next\\source\\css\\_common\\components\\sidebar\\sidebar-author.styl，在里面添加如下代码： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960.site-author-image &#123; display: block; margin: 0 auto; padding: $site-author-image-padding; max-width: $site-author-image-width; height: $site-author-image-height; border: $site-author-image-border-width solid $site-author-image-border-color; /* 头像圆形 */ border-radius: 80px; -webkit-border-radius: 80px; -moz-border-radius: 80px; box-shadow: inset 0 -1px 0 #333sf; /* 设置循环动画 [animation: (play)动画名称 (2s)动画播放时长单位秒或微秒 (ase-out)动画播放的速度曲线为以低速结束 (1s)等待1秒然后开始动画 (1)动画播放次数(infinite为循环播放) ]*/ /* 鼠标经过头像旋转360度 */ -webkit-transition: -webkit-transform 1.0s ease-out; -moz-transition: -moz-transform 1.0s ease-out; transition: transform 1.0s ease-out;&#125;img:hover &#123; /* 鼠标经过停止头像旋转 -webkit-animation-play-state:paused; animation-play-state:paused;*/ /* 鼠标经过头像旋转360度 */ -webkit-transform: rotateZ(360deg); -moz-transform: rotateZ(360deg); transform: rotateZ(360deg);&#125;/* Z 轴旋转动画 */@-webkit-keyframes play &#123; 0% &#123; -webkit-transform: rotateZ(0deg); &#125; 100% &#123; -webkit-transform: rotateZ(-360deg); &#125;&#125;@-moz-keyframes play &#123; 0% &#123; -moz-transform: rotateZ(0deg); &#125; 100% &#123; -moz-transform: rotateZ(-360deg); &#125;&#125;@keyframes play &#123; 0% &#123; transform: rotateZ(0deg); &#125; 100% &#123; transform: rotateZ(-360deg); &#125;&#125; 站点描述 编辑 站点配置文件， 设置 description 字段为你的站点描述。站点描述可以是你喜欢的一句签名:) 主页显示文章摘要 编辑 站点配置文件，设置per_page字段 1per_page: 10 那么每页显示10篇文章，这样的话主页就看起来不是很精简了，可以通过下面的方法来配置主页只显示文章摘要： 在主题配置文件中配置：把enable项配置为true就可以了。 12345# Automatically Excerpt. Not recommand.# Please use &lt;!-- more --&gt; in the post to control excerpt accurately.auto_excerpt: enable: true length: 150 但是我们也可以看到注释中是不推荐这样做的，因为这样会强制把文章前150个字符做为摘要的，会出现描述不完整的情况，而且有时候会把文章的源码显示出来。 那么我们就用推荐的在文章中用&lt;!-- more –&gt;这种方式来作为文章摘要的方式，可以根据每篇文章的不同情况自己来把控摘要的内容。","categories":[{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/tags/hexo/"}]},{"title":"使用GitHub Page部署博客","slug":"使用GitHub-Page部署博客","date":"2018-11-18T05:30:12.000Z","updated":"2025-04-13T06:16:05.654Z","comments":true,"path":"website/2018/11/18/使用GitHub-Page部署博客.html","permalink":"https://www.mardan.wiki/website/2018/11/18/%E4%BD%BF%E7%94%A8GitHub-Page%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2.html","excerpt":"概览： 站内参考文章 hexo 绑定自己的域名","text":"概览： 站内参考文章 hexo 绑定自己的域名 站内参考文章 搭建hexo静态博客 Git安装及配置 hexo 安装插件 hexo-deployer-git 1cnpm install hexo-deployer-git --save 进入站点配置文件_config.yml 找到关键字deploy 123456# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repo: git@github.com:ka1i/ka1i.github.io.git #填写blog应在的仓库地址。 branch: master #填写仓库分支，一般为master 绑定自己的域名 在 GitHub 仓库的根目录下建立一个 CNAME 的文本文件(注意：没有扩展名)，文件里面只能输入一个你的域名，不能加http:// 注意：CNAME 一定是在你 Github 项目的 master 根目录下(以阿里云为例：) 进入阿里云域名解析地址添加解析(2 records)： Frist: 记录类型选择CNAME 主机记录填@ 解析线路选择默认 记录值填www.&lt;domain_name&gt; # eg: www.mardan.wiki TTL值为10分钟 Second: 记录类型选择CNAME 主机记录填www 解析线路选择默认 记录值填&lt;yourname&gt;.github.io TTL值为10分钟 点击保存，等 1 分钟，访问下你自己的域名，一切就ok了。 域名绑定成功，域名解析成功，因此你在浏览中输入你的域名 注意：CNAME文件在下次 hexo deploy的时候就消失了，需要重新创建，这样就很繁琐 所以修改**站点配置文件** _config.yml。在skip_render:下添加文件名，你要放置的CNAME文件位置在&lt;yourname&gt;.github.io/source目录下。 1234skip_render: - README.md - CNAME - robots.txt","categories":[{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/categories/hexo/"}],"tags":[{"name":"github","slug":"github","permalink":"https://www.mardan.wiki/tags/github/"},{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/tags/hexo/"}]},{"title":"搭建hexo静态博客","slug":"搭建hexo静态博客","date":"2018-11-17T05:30:12.000Z","updated":"2025-04-13T06:16:05.657Z","comments":true,"path":"website/2018/11/17/搭建hexo静态博客.html","permalink":"https://www.mardan.wiki/website/2018/11/17/%E6%90%AD%E5%BB%BAhexo%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2.html","excerpt":"概览： 先决条件 安装Node.js 确认安装是否成功: cnpm代替默认的 npm: 安装hexo框架 搭建博客 Hexo命令 安装Next主题 启用 NexT 主题","text":"概览： 先决条件 安装Node.js 确认安装是否成功: cnpm代替默认的 npm: 安装hexo框架 搭建博客 Hexo命令 安装Next主题 启用 NexT 主题 先决条件 安装Node.js Node.js 确认安装是否成功: 12345$ node -vv10.13.0$ npm -v6.4.1 出现版本号，说明安装成功。 cnpm代替默认的 npm: 你可以使用淘宝NPM定制的 cnpm (gzip 压缩支持) 命令行工具 1npm install -g cnpm --registry=https://registry.npm.taobao.org 安装hexo框架 1cnpm install -g hexo-cli 查看hexo版本 1hexo version 输出版本，说明成功。 1234567891011121314151617$ hexo versionhexo-cli: 1.1.0os: Windows_NT 10.0.17134 win32 x64http_parser: 2.8.0node: 10.13.0v8: 6.8.275.32-node.36uv: 1.23.2zlib: 1.2.11ares: 1.14.0modules: 64nghttp2: 1.34.0napi: 3openssl: 1.1.0iicu: 62.1unicode: 11.0cldr: 33.1tz: 2018e 搭建博客 **选择放置博客的位置，进入那个目录后，**以github page 为例，所以是.github.io&gt;，这个一般可以随意。 123hexo init ka1i.github.iocd ka1i.github.iocnpm install 生成的目录大概是这样的： 1234567891011121314(base) mardan@Mardan-WS:~$ tree ka1i.github.io -L 2ka1i.github.io├── _config.yml├── db.json├── node_modules│ └── *********├── scaffolds│ ├── draft.md│ ├── page.md│ └── post.md├── source│ └── _posts└── themes └── next Hexo命令 网络上有很多部署到git的教程，自行参考。执行命令hexo generate后会在目录下生产public文件夹，该文件夹是hexo生产的静态文件。可以部署发布到自己建的web服务器。 hexo new “postName” #新建文章 hexo new page “pageName” #新建页面 hexo generate #生成静态页面至public目录 hexo server #开启预览访问端口（默认端口4000，'ctrl + c’关闭server） hexo deploy #将.deploy目录部署到GitHub 以下是命令的简写： hexo n == hexo new hexo g == hexo generate hexo s == hexo server hexo d == hexo deploy 清空缓存&amp;生成，部署也可以这样写： 1hexo clean;hexo d g 安装Next主题 12cd &lt;your_username&gt;.github.iogit clone https://github.com/theme-next/hexo-theme-next themes/next 启用 NexT 主题 打开博客站点配置文件 _config.yml。找到 theme 字段，并将其值更改为 next。 1theme: next 启动hexo本地服务(!!!若遇到问题，下面有常见问题解决方案) 123hexo cleanhexo generatehexo server 你的网站会在http://localhost:4000/上启动","categories":[{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/tags/hexo/"}]},{"title":"Rpi64开发日志","slug":"Rpi64开发日志","date":"1970-01-01T16:00:00.000Z","updated":"2025-04-13T06:16:05.529Z","comments":true,"path":"website/1970/01/02/Rpi64开发日志.html","permalink":"https://www.mardan.wiki/website/1970/01/02/Rpi64%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97.html","excerpt":"概览： Environment host rpi64 build linux kernel create img Partition format &amp; copy base kernel file kpartx format mount check Install kernel DEPMOD 4.19.80-ARMv8_GuzalAida@rpi3b+ Install Rootfs Install Firmware Unmount Image Preparation Conditions tools: 上传镜像至树莓派 Mount disk image debootstrap 安装文件系统 Rootfs Configutre create user update mirrors 修改/etc/resolv.conf wifi国家设置 修改fstsb ssh登录凭证 额外软件 时区 tzdate 添加/etc/rpi-issue 安装WiringPi 设置rsyslog 安装VC 连接5GWIF 追加软件 update fstab umount 卸载文件系统 卸载镜像 烧录系统并磁盘扩容 VNC","text":"概览： Environment host rpi64 build linux kernel create img Partition format &amp; copy base kernel file kpartx format mount check Install kernel DEPMOD 4.19.80-ARMv8_GuzalAida@rpi3b+ Install Rootfs Install Firmware Unmount Image Preparation Conditions tools: 上传镜像至树莓派 Mount disk image debootstrap 安装文件系统 Rootfs Configutre create user update mirrors 修改/etc/resolv.conf wifi国家设置 修改fstsb ssh登录凭证 额外软件 时区 tzdate 添加/etc/rpi-issue 安装WiringPi 设置rsyslog 安装VC 连接5GWIF 追加软件 update fstab umount 卸载文件系统 卸载镜像 烧录系统并磁盘扩容 VNC Environment host OS: Linux@mardan-ArchLabs : Linux Mint 19.2 Tina host kernel: 4.15.0-65-generic x86_64 cross-compile(8.3-2019.03): AArch64 GNU/Linux target (aarch64-linux-gnu) need tool 1234sudo apt install build-essential bison makesudo apt install axel cmake cmake-curses-guisudo apt install kpartx util-linux f2fs-toolssudo apt install libncurses5-dev libssl-dev rpi64 rpi: RaspberryPi 3b+ OS: debian buster kernel: https://github.com/raspberrypi/linux 4.19.76 build linux kernel 12make bcmrpi3_defconfig ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu-make menuconfig ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- CONFIG_LOCALVERSION=“-ARMv8_GuzalAida@rpi3b” CONFIG_DEFAULT_HOSTNAME=“GuzalAida” 打开Control Group support 打开Checkpoint/restore support 打开Virtualization支持 启用文件系统f2fs的F2FS Security Labels 修改Boot options里的kernel command line中的rootfstype为rootfstype=f2fs ARMv8.2 architectural features —&gt; 12make -j9 ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- #make -j9 ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- 6847.39s user 586.46s system 711% cpu 17:24.68 total create img 1dd bs=1M count=4096 if=/dev/zero of=rpi64-v4.19.80.img 分区请看后续步骤： 分区表 : dos Device Boot Start End Sectors Size Id Type bootfs分区 12345678&gt;&gt; rpi64-v4.19.76.img1 * 2048 718847 716800 350M b W95 FAT32 ┌────────────────────────────────────────────────────────────┐│ Partition type: W95 FAT32 (b) │ │ Attributes: 80 ││ Filesystem UUID: 83C0-51BA ││Filesystem LABEL: bootfs ││ Filesystem: vfat │└────────────────────────────────────────────────────────────┘ rootfs分区 1234567&gt;&gt; rpi64-v4.19.76.img2 718848 8388607 7669760 3.7G 83 Linux ┌───────────────────────────────────────────────────────────┐ │ Partition type: Linux (83) │ │ Filesystem UUID: 4a1a7d18-c62f-4abb-84be-4bbc41d12f75 │ │Filesystem LABEL: rootfs │ │ Filesystem: f2fs │ └───────────────────────────────────────────────────────────┘ Partition format &amp; copy base kernel file kpartx 123sudo kpartx -av rpi64-v4.19.76.imgadd map loop0p1 (253:0): 0 716800 linear 7:0 2048add map loop0p2 (253:1): 0 7669760 linear 7:0 718848 format 12345678910111213141516171819202122232425262728(base) ┌─[mardan@Mardan-ArchLabs] - [~/workspace/EmbeddedDevelopment/rpi64@GuzalAida/rpi64os] - [Fri Oct 11, 10:01]└─[$] &lt;&gt; sudo mkfs.vfat /dev/mapper/loop0p1 -n bootfsmkfs.fat 4.1 (2017-01-24)mkfs.fat: warning - lowercase labels might not work properly with DOS or Windows(base) ┌─[mardan@Mardan-ArchLabs] - [~/workspace/EmbeddedDevelopment/rpi64@GuzalAida/rpi64os] - [Fri Oct 11, 10:02]└─[$] &lt;&gt; sudo mkfs.f2fs /dev/mapper/loop0p2 -l rootfs F2FS-tools: mkfs.f2fs Ver: 1.11.0 (2018-07-10)Info: Disable heap-based policyInfo: Debug level = 0Info: Label = rootfsInfo: Trim is enabledInfo: Segments per section = 1Info: Sections per zone = 1Info: sector size = 512Info: total sectors = 7669760 (3745 MB)Info: zone aligned segment0 blkaddr: 512Info: format version with &quot;Linux version 4.15.0-65-generic (buildd@lgw01-amd64-006) (gcc version 7.4.0 (Ubuntu 7.4.0-1ubuntu1~18.04.1)) #74-Ubuntu SMP Tue Sep 17 17:06:04 UTC 2019&quot;Info: [/dev/mapper/loop0p2] Discarding deviceInfo: This device doesn&#x27;t support BLKSECDISCARDInfo: Discarded 3745 MBInfo: Overprovision ratio = 3.290%Info: Overprovision segments = 126 (GC reserved = 68)Info: format successful mount 12sudo mount /dev/mapper/loop0p1 bootfssudo mount /dev/mapper/loop0p2 rootfs check df -hT 1234567891011Filesystem Type Size Used Avail Use% Mounted onudev devtmpfs 3.9G 0 3.9G 0% /devtmpfs tmpfs 787M 1.7M 785M 1% /run/dev/sda3 ext4 118G 59G 54G 53% /tmpfs tmpfs 3.9G 17M 3.9G 1% /dev/shmtmpfs tmpfs 5.0M 4.0K 5.0M 1% /run/locktmpfs tmpfs 3.9G 0 3.9G 0% /sys/fs/cgroup/dev/sdb2 vfat 96M 31M 66M 33% /boot/efitmpfs tmpfs 787M 32K 787M 1% /run/user/1000/dev/mapper/loop0p1 vfat 350M 0 350M 0% /home/mardan/workspace/EmbeddedDevelopment/rpi64@GuzalAida/rpi64os/bootfs/dev/mapper/loop0p2 f2fs 3.7G 38M 3.4G 2% /home/mardan/workspace/EmbeddedDevelopment/rpi64@GuzalAida/rpi64os/rootfs Install kernel !!! You can need still kernel build finish. 1234567sudo cp -v arch/arm64/boot/Image ../../rpi64os/bootfs/kernel8.imgsudo cp -v arch/arm64/boot/Image.gz ../../rpi64os/bootfs/sudo cp -v arch/arm64/boot/dts/broadcom/bcm2*3-b-plus.dtb ../../rpi64os/bootfs/sudo mkdir ../../rpi64os/bootfs/overlayssudo cp -vr arch/arm64/boot/dts/overlays/*.dtbo ../../rpi64os/bootfs/overlayssudo sumake modules_install INSTALL_MOD_PATH=../../rpi64os/rootfs/ ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- DEPMOD 4.19.80-ARMv8_GuzalAida@rpi3b+ 发布rpi64-v4.19.71.img bootfs 1234bcm2710-rpi-3-b-plus.dtb config.txt fixup_db.dat kernel8.img start_db.elfbcm2837-rpi-3-b-plus.dtb COPYING.linux fixup_x.dat LICENCE.broadcom start.elfbootcode.bin fixup_cd.dat Image.gz overlays start_x.elfcmdline.txt fixup.dat issue.txt start_cd.elf Install Rootfs Install Firmware 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354(base) ┌─[mardan@Mardan-ArchLabs] - [~/workspace/EmbeddedDevelopment/rpi64@GuzalAida/rpi64os/rootfs] - [Wed Oct 09, 18:58]└─[$] &lt;&gt; tree -L 3.└── lib ├── firmware │ ├── 3com │ ├── a300_pfp.fw -&gt; qcom/a300_pfp.fw │ ├── a300_pm4.fw -&gt; qcom/a300_pm4.fw │ ├── acenic │ ├── adaptec │ ├── advansys │ ├── agere_ap_fw.bin │ ├── agere_sta_fw.bin │ ├── amdgpu │ ├── amd-ucode │ ├── ar3k │ ├── ar5523.bin │ ├── ar7010_1_1.fw │ ├── ar7010.fw │ ├── ar9271.fw │ ├── as102_data1_st.hex │ ├── as102_data2_st.hex │ ├── ath10k │ ├── ath3k-1.fw │ ├── ath6k │ ├── ath9k_htc │ ├── atmel │ ├── atusb │ ├── av7110 │ ├── BCM2033-FW.bin │ ├── BCM2033-MD.hex │ ├── bnx2 │ ├── bnx2x │ ├── brcm --more-- │ ├── v4l-cx231xx-avcore-01.fw │ ├── v4l-cx23418-apu.fw │ ├── v4l-cx23418-cpu.fw │ ├── v4l-cx23418-dig.fw │ ├── v4l-cx23885-avcore-01.fw │ ├── v4l-cx25840.fw │ ├── vicam │ ├── vntwusb.fw │ ├── vpu_d.bin │ ├── vpu_p.bin │ ├── vxge │ ├── WHENCE │ ├── wil6210.brd │ ├── wil6210.fw │ ├── yam │ └── yamaha └── modules └── 4.19.76-ARMv8_GuzalAida@rpi3b+ Unmount Image 1234sync # 同步写入sudo umount bootfs rootfssudo kpartx -dv /dev/loop0sudo losetup -d /dev/loop0 Preparation Conditions !!! This part run on RaspberryPi, cpu=64b tools: 1234sudo apt install build-essential bison make -ysudo apt install axel cmake -ysudo apt install kpartx util-linux f2fs-tools -ysudo apt install debootstrap -y 上传镜像至树莓派 12345(base) ┌─[mardan@mardan-ArchLabs] - [~/workSpace/rpi64@GuzalAida/rpi64os] - [Sun Sep 15, 16:08]└─[$] &lt;&gt; time scp rpi64-v4.19.71.img guzal@192.168.1.129:~/guzal@192.168.1.129&#x27;s password: rpi64-v4.19.71.img 100% 4096MB 13.1MB/s 05:13 scp rpi64-v4.19.71.img guzal@192.168.1.129:~/ 33.68s user 41.45s system 23% cpu 5:19.11 total Mount disk image 123456789101112131415guzal@GuzalAida:~$ lsbootfs rootfs rpi64-v4.19.71.imgguzal@GuzalAida:~$ df -hTFilesystem Type Size Used Avail Use% Mounted on/dev/root f2fs 30G 6.3G 24G 22% /devtmpfs devtmpfs 454M 0 454M 0% /devtmpfs tmpfs 459M 0 459M 0% /dev/shmtmpfs tmpfs 459M 14M 446M 3% /runtmpfs tmpfs 5.0M 0 5.0M 0% /run/locktmpfs tmpfs 459M 0 459M 0% /sys/fs/cgroup/dev/mmcblk0p1 vfat 120M 32M 89M 27% /boottmpfs tmpfs 92M 0 92M 0% /run/user/1000/dev/mapper/loop0p1 vfat 200M 32M 169M 16% /home/guzal/bootfs/dev/mapper/loop0p2 f2fs 3.9G 386M 3.5G 10% /home/guzal/rootfs debootstrap 安装文件系统 1sudo debootstrap --arch=arm64 buster rootfs/ https://mirrors.tuna.tsinghua.edu.cn/debian sudo debootstrap --arch=arm64 buster rootfs/ 执行结果输出 guzal@GuzalAida:~$ sudo debootstrap --arch=arm64 buster rootfs/ I: Target architecture can be executed I: Retrieving InRelease I: Checking Release signature I: Valid Release signature (key id 6D33866EDD8FFA41C0143AEDDCC9EFBF77E11517) I: Retrieving Packages I: Validating Packages I: Resolving dependencies of required packages... I: Resolving dependencies of base packages... I: Checking component main on http://deb.debian.org/debian... I: Retrieving libacl1 2.2.53-4 I: Validating libacl1 2.2.53-4 I: Retrieving adduser 3.118 I: Validating adduser 3.118 I: Retrieving libapparmor1 2.13.2-10 I: Validating libapparmor1 2.13.2-10 I: Retrieving apt 1.8.2 I: Validating apt 1.8.2 I: Retrieving apt-utils 1.8.2 I: Validating apt-utils 1.8.2 I: Retrieving libapt-inst2.0 1.8.2 I: Validating libapt-inst2.0 1.8.2 I: Retrieving libapt-pkg5.0 1.8.2 I: Validating libapt-pkg5.0 1.8.2 I: Retrieving libargon2-1 0~20171227-0.2 I: Validating libargon2-1 0~20171227-0.2 I: Retrieving libattr1 1:2.4.48-4 I: Validating libattr1 1:2.4.48-4 I: Retrieving libaudit-common 1:2.8.4-3 I: Validating libaudit-common 1:2.8.4-3 I: Retrieving libaudit1 1:2.8.4-3 I: Validating libaudit1 1:2.8.4-3 I: Retrieving base-files 10.3+deb10u1 I: Validating base-files 10.3+deb10u1 I: Retrieving base-passwd 3.5.46 I: Validating base-passwd 3.5.46 I: Retrieving bash 5.0-4 I: Validating bash 5.0-4 I: Retrieving libdns-export1104 1:9.11.5.P4+dfsg-5.1 I: Validating libdns-export1104 1:9.11.5.P4+dfsg-5.1 I: Retrieving libisc-export1100 1:9.11.5.P4+dfsg-5.1 I: Validating libisc-export1100 1:9.11.5.P4+dfsg-5.1 I: Retrieving bsdmainutils 11.1.2+b1 I: Validating bsdmainutils 11.1.2+b1 I: Retrieving libbz2-1.0 1.0.6-9.2~deb10u1 I: Validating libbz2-1.0 1.0.6-9.2~deb10u1 I: Retrieving libdebconfclient0 0.249 I: Validating libdebconfclient0 0.249 I: Retrieving coreutils 8.30-3 I: Validating coreutils 8.30-3 I: Retrieving cpio 2.12+dfsg-9 I: Validating cpio 2.12+dfsg-9 I: Retrieving cron 3.0pl1-134 I: Validating cron 3.0pl1-134 I: Retrieving libcryptsetup12 2:2.1.0-5+deb10u2 I: Validating libcryptsetup12 2:2.1.0-5+deb10u2 I: Retrieving dash 0.5.10.2-5 I: Validating dash 0.5.10.2-5 I: Retrieving libdb5.3 5.3.28+dfsg1-0.5 I: Validating libdb5.3 5.3.28+dfsg1-0.5 I: Retrieving debconf 1.5.71 I: Validating debconf 1.5.71 I: Retrieving debconf-i18n 1.5.71 I: Validating debconf-i18n 1.5.71 I: Retrieving debian-archive-keyring 2019.1 I: Validating debian-archive-keyring 2019.1 I: Retrieving debianutils 4.8.6.1 I: Validating debianutils 4.8.6.1 I: Retrieving diffutils 1:3.7-3 I: Validating diffutils 1:3.7-3 I: Retrieving dmidecode 3.2-1 I: Validating dmidecode 3.2-1 I: Retrieving dpkg 1.19.7 I: Validating dpkg 1.19.7 I: Retrieving e2fsprogs 1.44.5-1+deb10u1 I: Validating e2fsprogs 1.44.5-1+deb10u1 I: Retrieving libcom-err2 1.44.5-1+deb10u1 I: Validating libcom-err2 1.44.5-1+deb10u1 I: Retrieving libext2fs2 1.44.5-1+deb10u1 I: Validating libext2fs2 1.44.5-1+deb10u1 I: Retrieving libss2 1.44.5-1+deb10u1 I: Validating libss2 1.44.5-1+deb10u1 I: Retrieving libelf1 0.176-1.1 I: Validating libelf1 0.176-1.1 I: Retrieving findutils 4.6.0+git+20190209-2 I: Validating findutils 4.6.0+git+20190209-2 I: Retrieving gcc-8-base 8.3.0-6 I: Validating gcc-8-base 8.3.0-6 I: Retrieving libgcc1 1:8.3.0-6 I: Validating libgcc1 1:8.3.0-6 I: Retrieving libstdc++6 8.3.0-6 I: Validating libstdc++6 8.3.0-6 I: Retrieving gdbm-l10n 1.18.1-4 I: Validating gdbm-l10n 1.18.1-4 I: Retrieving libc-bin 2.28-10 I: Validating libc-bin 2.28-10 I: Retrieving libc6 2.28-10 I: Validating libc6 2.28-10 I: Retrieving libgmp10 2:6.1.2+dfsg-4 I: Validating libgmp10 2:6.1.2+dfsg-4 I: Retrieving gpgv 2.2.12-1+deb10u1 I: Validating gpgv 2.2.12-1+deb10u1 I: Retrieving libgnutls30 3.6.7-4 I: Validating libgnutls30 3.6.7-4 I: Retrieving grep 3.3-1 I: Validating grep 3.3-1 I: Retrieving gzip 1.9-3 I: Validating gzip 1.9-3 I: Retrieving hostname 3.21 I: Validating hostname 3.21 I: Retrieving ifupdown 0.8.35 I: Validating ifupdown 0.8.35 I: Retrieving init 1.56+nmu1 I: Validating init 1.56+nmu1 I: Retrieving init-system-helpers 1.56+nmu1 I: Validating init-system-helpers 1.56+nmu1 I: Retrieving iproute2 4.20.0-2 I: Validating iproute2 4.20.0-2 I: Retrieving iptables 1.8.2-4 I: Validating iptables 1.8.2-4 I: Retrieving libip4tc0 1.8.2-4 I: Validating libip4tc0 1.8.2-4 I: Retrieving libip6tc0 1.8.2-4 I: Validating libip6tc0 1.8.2-4 I: Retrieving libiptc0 1.8.2-4 I: Validating libiptc0 1.8.2-4 I: Retrieving libxtables12 1.8.2-4 I: Validating libxtables12 1.8.2-4 I: Retrieving iputils-ping 3:20180629-2 I: Validating iputils-ping 3:20180629-2 I: Retrieving isc-dhcp-client 4.4.1-2 I: Validating isc-dhcp-client 4.4.1-2 I: Retrieving isc-dhcp-common 4.4.1-2 I: Validating isc-dhcp-common 4.4.1-2 I: Retrieving libjson-c3 0.12.1+ds-2 I: Validating libjson-c3 0.12.1+ds-2 I: Retrieving kmod 26-1 I: Validating kmod 26-1 I: Retrieving libkmod2 26-1 I: Validating libkmod2 26-1 I: Retrieving less 487-0.1+b1 I: Validating less 487-0.1+b1 I: Retrieving libbsd0 0.9.1-2 I: Validating libbsd0 0.9.1-2 I: Retrieving libcap-ng0 0.7.9-2 I: Validating libcap-ng0 0.7.9-2 I: Retrieving libcap2 1:2.25-2 I: Validating libcap2 1:2.25-2 I: Retrieving libcap2-bin 1:2.25-2 I: Validating libcap2-bin 1:2.25-2 I: Retrieving libestr0 0.1.10-2.1 I: Validating libestr0 0.1.10-2.1 I: Retrieving libfastjson4 0.99.8-2 I: Validating libfastjson4 0.99.8-2 I: Retrieving libffi6 3.2.1-9 I: Validating libffi6 3.2.1-9 I: Retrieving libgcrypt20 1.8.4-5 I: Validating libgcrypt20 1.8.4-5 I: Retrieving libgpg-error0 1.35-1 I: Validating libgpg-error0 1.35-1 I: Retrieving libidn11 1.33-2.2 I: Validating libidn11 1.33-2.2 I: Retrieving libidn2-0 2.0.5-1 I: Validating libidn2-0 2.0.5-1 I: Retrieving liblocale-gettext-perl 1.07-3+b4 I: Validating liblocale-gettext-perl 1.07-3+b4 I: Retrieving liblognorm5 2.0.5-1 I: Validating liblognorm5 2.0.5-1 I: Retrieving libmnl0 1.0.4-2 I: Validating libmnl0 1.0.4-2 I: Retrieving libnetfilter-conntrack3 1.0.7-1 I: Validating libnetfilter-conntrack3 1.0.7-1 I: Retrieving libnfnetlink0 1.0.1-3+b1 I: Validating libnfnetlink0 1.0.1-3+b1 I: Retrieving libnftnl11 1.1.2-2 I: Validating libnftnl11 1.1.2-2 I: Retrieving libseccomp2 2.3.3-4 I: Validating libseccomp2 2.3.3-4 I: Retrieving libselinux1 2.8-1+b1 I: Validating libselinux1 2.8-1+b1 I: Retrieving libsemanage-common 2.8-2 I: Validating libsemanage-common 2.8-2 I: Retrieving libsemanage1 2.8-2 I: Validating libsemanage1 2.8-2 I: Retrieving libsepol1 2.8-1 I: Validating libsepol1 2.8-1 I: Retrieving libtasn1-6 4.13-3 I: Validating libtasn1-6 4.13-3 I: Retrieving libtext-charwidth-perl 0.04-7.1+b1 I: Validating libtext-charwidth-perl 0.04-7.1+b1 I: Retrieving libtext-iconv-perl 1.7-5+b6 I: Validating libtext-iconv-perl 1.7-5+b6 I: Retrieving libtext-wrapi18n-perl 0.06-7.1 I: Validating libtext-wrapi18n-perl 0.06-7.1 I: Retrieving libunistring2 0.9.10-1 I: Validating libunistring2 0.9.10-1 I: Retrieving libzstd1 1.3.8+dfsg-3 I: Validating libzstd1 1.3.8+dfsg-3 I: Retrieving logrotate 3.14.0-4 I: Validating logrotate 3.14.0-4 I: Retrieving lsb-base 10.2019051400 I: Validating lsb-base 10.2019051400 I: Retrieving dmsetup 2:1.02.155-3 I: Validating dmsetup 2:1.02.155-3 I: Retrieving libdevmapper1.02.1 2:1.02.155-3 I: Validating libdevmapper1.02.1 2:1.02.155-3 I: Retrieving liblz4-1 1.8.3-1 I: Validating liblz4-1 1.8.3-1 I: Retrieving mawk 1.3.3-17+b3 I: Validating mawk 1.3.3-17+b3 I: Retrieving nano 3.2-3 I: Validating nano 3.2-3 I: Retrieving libncurses6 6.1+20181013-2+deb10u1 I: Validating libncurses6 6.1+20181013-2+deb10u1 I: Retrieving libncursesw6 6.1+20181013-2+deb10u1 I: Validating libncursesw6 6.1+20181013-2+deb10u1 I: Retrieving libtinfo6 6.1+20181013-2+deb10u1 I: Validating libtinfo6 6.1+20181013-2+deb10u1 I: Retrieving ncurses-base 6.1+20181013-2+deb10u1 I: Validating ncurses-base 6.1+20181013-2+deb10u1 I: Retrieving ncurses-bin 6.1+20181013-2+deb10u1 I: Validating ncurses-bin 6.1+20181013-2+deb10u1 I: Retrieving netbase 5.6 I: Validating netbase 5.6 I: Retrieving libhogweed4 3.4.1-1 I: Validating libhogweed4 3.4.1-1 I: Retrieving libnettle6 3.4.1-1 I: Validating libnettle6 3.4.1-1 I: Retrieving libnewt0.52 0.52.20-8 I: Validating libnewt0.52 0.52.20-8 I: Retrieving whiptail 0.52.20-8 I: Validating whiptail 0.52.20-8 I: Retrieving libssl1.1 1.1.1c-1 I: Validating libssl1.1 1.1.1c-1 I: Retrieving libp11-kit0 0.23.15-2 I: Validating libp11-kit0 0.23.15-2 I: Retrieving libpam-modules 1.3.1-5 I: Validating libpam-modules 1.3.1-5 I: Retrieving libpam-modules-bin 1.3.1-5 I: Validating libpam-modules-bin 1.3.1-5 I: Retrieving libpam-runtime 1.3.1-5 I: Validating libpam-runtime 1.3.1-5 I: Retrieving libpam0g 1.3.1-5 I: Validating libpam0g 1.3.1-5 I: Retrieving libpcre3 2:8.39-12 I: Validating libpcre3 2:8.39-12 I: Retrieving perl-base 5.28.1-6 I: Validating perl-base 5.28.1-6 I: Retrieving libpopt0 1.16-12 I: Validating libpopt0 1.16-12 I: Retrieving libprocps7 2:3.3.15-2 I: Validating libprocps7 2:3.3.15-2 I: Retrieving procps 2:3.3.15-2 I: Validating procps 2:3.3.15-2 I: Retrieving readline-common 7.0-5 I: Validating readline-common 7.0-5 I: Retrieving rsyslog 8.1901.0-1 I: Validating rsyslog 8.1901.0-1 I: Retrieving sed 4.7-1 I: Validating sed 4.7-1 I: Retrieving sensible-utils 0.0.12 I: Validating sensible-utils 0.0.12 I: Retrieving login 1:4.5-1.1 I: Validating login 1:4.5-1.1 I: Retrieving passwd 1:4.5-1.1 I: Validating passwd 1:4.5-1.1 I: Retrieving libslang2 2.3.2-2 I: Validating libslang2 2.3.2-2 I: Retrieving libsystemd0 241-7~deb10u1 I: Validating libsystemd0 241-7~deb10u1 I: Retrieving libudev1 241-7~deb10u1 I: Validating libudev1 241-7~deb10u1 I: Retrieving systemd 241-7~deb10u1 I: Validating systemd 241-7~deb10u1 I: Retrieving systemd-sysv 241-7~deb10u1 I: Validating systemd-sysv 241-7~deb10u1 I: Retrieving udev 241-7~deb10u1 I: Validating udev 241-7~deb10u1 I: Retrieving sysvinit-utils 2.93-8 I: Validating sysvinit-utils 2.93-8 I: Retrieving tar 1.30+dfsg-6 I: Validating tar 1.30+dfsg-6 I: Retrieving tasksel 3.53 I: Validating tasksel 3.53 I: Retrieving tasksel-data 3.53 I: Validating tasksel-data 3.53 I: Retrieving tzdata 2019b-0+deb10u1 I: Validating tzdata 2019b-0+deb10u1 I: Retrieving bsdutils 1:2.33.1-0.1 I: Validating bsdutils 1:2.33.1-0.1 I: Retrieving fdisk 2.33.1-0.1 I: Validating fdisk 2.33.1-0.1 I: Retrieving libblkid1 2.33.1-0.1 I: Validating libblkid1 2.33.1-0.1 I: Retrieving libfdisk1 2.33.1-0.1 I: Validating libfdisk1 2.33.1-0.1 I: Retrieving libmount1 2.33.1-0.1 I: Validating libmount1 2.33.1-0.1 I: Retrieving libsmartcols1 2.33.1-0.1 I: Validating libsmartcols1 2.33.1-0.1 I: Retrieving libuuid1 2.33.1-0.1 I: Validating libuuid1 2.33.1-0.1 I: Retrieving mount 2.33.1-0.1 I: Validating mount 2.33.1-0.1 I: Retrieving util-linux 2.33.1-0.1 I: Validating util-linux 2.33.1-0.1 I: Retrieving vim-common 2:8.1.0875-5 I: Validating vim-common 2:8.1.0875-5 I: Retrieving vim-tiny 2:8.1.0875-5 I: Validating vim-tiny 2:8.1.0875-5 I: Retrieving xxd 2:8.1.0875-5 I: Validating xxd 2:8.1.0875-5 I: Retrieving liblzma5 5.2.4-1 I: Validating liblzma5 5.2.4-1 I: Retrieving zlib1g 1:1.2.11.dfsg-1 I: Validating zlib1g 1:1.2.11.dfsg-1 I: Chosen extractor for .deb packages: dpkg-deb I: Extracting libacl1... I: Extracting adduser... I: Extracting apt... I: Extracting libapt-pkg5.0... I: Extracting libattr1... I: Extracting libaudit-common... I: Extracting libaudit1... I: Extracting base-files... I: Extracting base-passwd... I: Extracting bash... I: Extracting libbz2-1.0... I: Extracting libdebconfclient0... I: Extracting coreutils... I: Extracting dash... I: Extracting libdb5.3... I: Extracting debconf... I: Extracting debian-archive-keyring... I: Extracting debianutils... I: Extracting diffutils... I: Extracting dpkg... I: Extracting e2fsprogs... I: Extracting libcom-err2... I: Extracting libext2fs2... I: Extracting libss2... I: Extracting findutils... I: Extracting gcc-8-base... I: Extracting libgcc1... I: Extracting libstdc++6... I: Extracting libc-bin... I: Extracting libc6... I: Extracting libgmp10... I: Extracting gpgv... I: Extracting libgnutls30... I: Extracting grep... I: Extracting gzip... I: Extracting hostname... I: Extracting init-system-helpers... I: Extracting libcap-ng0... I: Extracting libffi6... I: Extracting libgcrypt20... I: Extracting libgpg-error0... I: Extracting libidn2-0... I: Extracting libseccomp2... I: Extracting libselinux1... I: Extracting libsemanage-common... I: Extracting libsemanage1... I: Extracting libsepol1... I: Extracting libtasn1-6... I: Extracting libunistring2... I: Extracting libzstd1... I: Extracting liblz4-1... I: Extracting mawk... I: Extracting libncursesw6... I: Extracting libtinfo6... I: Extracting ncurses-base... I: Extracting ncurses-bin... I: Extracting libhogweed4... I: Extracting libnettle6... I: Extracting libp11-kit0... I: Extracting libpam-modules... I: Extracting libpam-modules-bin... I: Extracting libpam-runtime... I: Extracting libpam0g... I: Extracting libpcre3... I: Extracting perl-base... I: Extracting sed... I: Extracting login... I: Extracting passwd... I: Extracting libsystemd0... I: Extracting libudev1... I: Extracting sysvinit-utils... I: Extracting tar... I: Extracting tzdata... I: Extracting bsdutils... I: Extracting fdisk... I: Extracting libblkid1... I: Extracting libfdisk1... I: Extracting libmount1... I: Extracting libsmartcols1... I: Extracting libuuid1... I: Extracting mount... I: Extracting util-linux... I: Extracting liblzma5... I: Extracting zlib1g... I: Installing core packages... I: Unpacking required packages... I: Unpacking libacl1:arm64... I: Unpacking adduser... I: Unpacking apt... I: Unpacking libapt-pkg5.0:arm64... I: Unpacking libattr1:arm64... I: Unpacking libaudit-common... I: Unpacking libaudit1:arm64... I: Unpacking base-files... I: Unpacking base-passwd... I: Unpacking bash... I: Unpacking libbz2-1.0:arm64... I: Unpacking libdebconfclient0:arm64... I: Unpacking coreutils... I: Unpacking dash... I: Unpacking libdb5.3:arm64... I: Unpacking debconf... I: Unpacking debian-archive-keyring... I: Unpacking debianutils... I: Unpacking diffutils... I: Unpacking dpkg... I: Unpacking e2fsprogs... I: Unpacking libcom-err2:arm64... I: Unpacking libext2fs2:arm64... I: Unpacking libss2:arm64... I: Unpacking findutils... I: Unpacking gcc-8-base:arm64... I: Unpacking libgcc1:arm64... I: Unpacking libstdc++6:arm64... I: Unpacking libc-bin... I: Unpacking libc6:arm64... I: Unpacking libgmp10:arm64... I: Unpacking gpgv... I: Unpacking libgnutls30:arm64... I: Unpacking grep... I: Unpacking gzip... I: Unpacking hostname... I: Unpacking init-system-helpers... I: Unpacking libcap-ng0:arm64... I: Unpacking libffi6:arm64... I: Unpacking libgcrypt20:arm64... I: Unpacking libgpg-error0:arm64... I: Unpacking libidn2-0:arm64... I: Unpacking libseccomp2:arm64... I: Unpacking libselinux1:arm64... I: Unpacking libsemanage-common... I: Unpacking libsemanage1:arm64... I: Unpacking libsepol1:arm64... I: Unpacking libtasn1-6:arm64... I: Unpacking libunistring2:arm64... I: Unpacking libzstd1:arm64... I: Unpacking liblz4-1:arm64... I: Unpacking mawk... I: Unpacking libncursesw6:arm64... I: Unpacking libtinfo6:arm64... I: Unpacking ncurses-base... I: Unpacking ncurses-bin... I: Unpacking libhogweed4:arm64... I: Unpacking libnettle6:arm64... I: Unpacking libp11-kit0:arm64... I: Unpacking libpam-modules:arm64... I: Unpacking libpam-modules-bin... I: Unpacking libpam-runtime... I: Unpacking libpam0g:arm64... I: Unpacking libpcre3:arm64... I: Unpacking perl-base... I: Unpacking sed... I: Unpacking login... I: Unpacking passwd... I: Unpacking libsystemd0:arm64... I: Unpacking libudev1:arm64... I: Unpacking sysvinit-utils... I: Unpacking tar... I: Unpacking tzdata... I: Unpacking bsdutils... I: Unpacking fdisk... I: Unpacking libblkid1:arm64... I: Unpacking libfdisk1:arm64... I: Unpacking libmount1:arm64... I: Unpacking libsmartcols1:arm64... I: Unpacking libuuid1:arm64... I: Unpacking mount... I: Unpacking util-linux... I: Unpacking liblzma5:arm64... I: Unpacking zlib1g:arm64... I: Configuring required packages... I: Configuring debian-archive-keyring... I: Configuring libaudit-common... I: Configuring libsemanage-common... I: Configuring ncurses-base... I: Configuring gcc-8-base:arm64... I: Configuring libc6:arm64... I: Configuring libudev1:arm64... I: Configuring libsepol1:arm64... I: Configuring libattr1:arm64... I: Configuring libtasn1-6:arm64... I: Configuring debianutils... I: Configuring mawk... I: Configuring libdebconfclient0:arm64... I: Configuring base-files... I: Configuring libbz2-1.0:arm64... I: Configuring base-passwd... I: Configuring libdb5.3:arm64... I: Configuring libtinfo6:arm64... I: Configuring bash... I: Configuring libzstd1:arm64... I: Configuring liblzma5:arm64... I: Configuring libgpg-error0:arm64... I: Configuring libgcc1:arm64... I: Configuring liblz4-1:arm64... I: Configuring libc-bin... I: Configuring ncurses-bin... I: Configuring libacl1:arm64... I: Configuring libunistring2:arm64... I: Configuring libsmartcols1:arm64... I: Configuring libgcrypt20:arm64... I: Configuring zlib1g:arm64... I: Configuring libffi6:arm64... I: Configuring libidn2-0:arm64... I: Configuring libcom-err2:arm64... I: Configuring diffutils... I: Configuring libseccomp2:arm64... I: Configuring libsystemd0:arm64... I: Configuring hostname... I: Configuring libpcre3:arm64... I: Configuring libcap-ng0:arm64... I: Configuring libext2fs2:arm64... I: Configuring libgmp10:arm64... I: Configuring libp11-kit0:arm64... I: Configuring libaudit1:arm64... I: Configuring libuuid1:arm64... I: Configuring libss2:arm64... I: Configuring libncursesw6:arm64... I: Configuring libnettle6:arm64... I: Configuring gpgv... I: Configuring libblkid1:arm64... I: Configuring libstdc++6:arm64... I: Configuring bsdutils... I: Configuring libhogweed4:arm64... I: Configuring e2fsprogs... I: Configuring libselinux1:arm64... I: Configuring libgnutls30:arm64... I: Configuring sed... I: Configuring libfdisk1:arm64... I: Configuring findutils... I: Configuring libmount1:arm64... I: Configuring libapt-pkg5.0:arm64... I: Configuring libsemanage1:arm64... I: Configuring tar... I: Configuring coreutils... I: Configuring fdisk... I: Configuring dpkg... I: Configuring grep... I: Configuring perl-base... I: Configuring init-system-helpers... I: Configuring gzip... I: Configuring debconf... I: Configuring tzdata... I: Configuring libpam0g:arm64... I: Configuring dash... I: Configuring libpam-modules-bin... I: Configuring libpam-modules:arm64... I: Configuring passwd... I: Configuring libpam-runtime... I: Configuring login... I: Configuring adduser... I: Configuring apt... I: Configuring util-linux... I: Configuring mount... I: Configuring sysvinit-utils... I: Configuring libc-bin... I: Unpacking the base system... I: Unpacking apt-utils... I: Unpacking libapt-inst2.0:arm64... I: Unpacking libdns-export1104... I: Unpacking libisc-export1100:arm64... I: Unpacking bsdmainutils... I: Unpacking cpio... I: Unpacking cron... I: Unpacking debconf-i18n... I: Unpacking dmidecode... I: Unpacking libelf1:arm64... I: Unpacking gdbm-l10n... I: Unpacking ifupdown... I: Unpacking init... I: Unpacking iproute2... I: Unpacking iptables... I: Unpacking libip6tc0:arm64... I: Unpacking libiptc0:arm64... I: Unpacking libxtables12:arm64... I: Unpacking iputils-ping... I: Unpacking isc-dhcp-client... I: Unpacking isc-dhcp-common... I: Unpacking kmod... I: Unpacking less... I: Unpacking libbsd0:arm64... I: Unpacking libcap2-bin... I: Unpacking libestr0:arm64... I: Unpacking libfastjson4:arm64... I: Unpacking liblocale-gettext-perl... I: Unpacking liblognorm5:arm64... I: Unpacking libmnl0:arm64... I: Unpacking libnetfilter-conntrack3:arm64... I: Unpacking libnfnetlink0:arm64... I: Unpacking libnftnl11:arm64... I: Unpacking libtext-charwidth-perl... I: Unpacking libtext-iconv-perl... I: Unpacking libtext-wrapi18n-perl... I: Unpacking logrotate... I: Unpacking lsb-base... I: Unpacking nano... I: Unpacking libncurses6:arm64... I: Unpacking netbase... I: Unpacking libnewt0.52:arm64... I: Unpacking whiptail... I: Unpacking libpopt0:arm64... I: Unpacking libprocps7:arm64... I: Unpacking procps... I: Unpacking readline-common... I: Unpacking rsyslog... I: Unpacking sensible-utils... I: Unpacking libslang2:arm64... I: Unpacking udev... I: Unpacking tasksel... I: Unpacking tasksel-data... I: Unpacking vim-common... I: Unpacking vim-tiny... I: Unpacking xxd... I: Configuring the base system... I: Configuring cpio... I: Configuring libtext-iconv-perl... I: Configuring libtext-charwidth-perl... I: Configuring lsb-base... I: Configuring libip6tc0:arm64... I: Configuring init... I: Configuring libestr0:arm64... I: Configuring libfastjson4:arm64... I: Configuring libprocps7:arm64... I: Configuring less... I: Configuring kmod... I: Configuring libapt-inst2.0:arm64... I: Configuring libtext-wrapi18n-perl... I: Configuring xxd... I: Configuring libcap2-bin... I: Configuring vim-common... I: Configuring libslang2:arm64... I: Configuring libiptc0:arm64... I: Configuring libncurses6:arm64... I: Configuring libmnl0:arm64... I: Configuring udev... I: Configuring libxtables12:arm64... I: Configuring gdbm-l10n... I: Configuring libisc-export1100:arm64... I: Configuring liblognorm5:arm64... I: Configuring nano... I: Configuring sensible-utils... I: Configuring libnfnetlink0:arm64... I: Configuring procps... I: Configuring netbase... I: Configuring isc-dhcp-common... I: Configuring dmidecode... I: Configuring libbsd0:arm64... I: Configuring libelf1:arm64... I: Configuring libdns-export1104... I: Configuring iputils-ping... I: Configuring readline-common... I: Configuring liblocale-gettext-perl... I: Configuring libpopt0:arm64... I: Configuring logrotate... I: Configuring libnewt0.52:arm64... I: Configuring apt-utils... I: Configuring iproute2... I: Configuring cron... I: Configuring rsyslog... I: Configuring isc-dhcp-client... I: Configuring debconf-i18n... I: Configuring libnftnl11:arm64... I: Configuring vim-tiny... I: Configuring ifupdown... I: Configuring bsdmainutils... I: Configuring whiptail... I: Configuring libnetfilter-conntrack3:arm64... I: Configuring iptables... I: Configuring tasksel-data... I: Configuring tasksel... I: Configuring libc-bin... I: Configuring systemd... I: Base system installed successfully. Rootfs Configutre 1234567guzal@GuzalAida:~$cd rootfssudo mount -o bind /dev/ devsudo mount -o bind /dev/pts dev/ptssudo mount -o bind /proc procsudo mount -o bind /sys syssudo chroot ./ create user 12adduser guzalpasswd guzal update mirrors Certificate verification failed: The certificate is NOT trusted. The certificate issuer is unknown. Could not handshake: Error in the certificate verification. 123apt updateapt install locales locales-allapt install ca-certificates 换源 1234567891011121314151617181920212223242526272829303132333435363738#上海交通大学 SJTUG软件源镜像服务deb https://mirrors.sjtug.sjtu.edu.cn/debian buster main contrib non-free# deb-src https://mirrors.sjtug.sjtu.edu.cn/debian buster main contrib non-freedeb https://mirrors.sjtug.sjtu.edu.cn/debian buster-updates main contrib non-free# deb-src https://mirrors.sjtug.sjtu.edu.cn/debian buster-updates main contrib non-freedeb https://mirrors.sjtug.sjtu.edu.cn/debian buster-backports main contrib non-free# deb-src https://mirrors.sjtug.sjtu.edu.cn/debian buster-backports main contrib non-freedeb https://mirrors.sjtug.sjtu.edu.cn/debian-security buster/updates main contrib non-free# deb-src https://mirrors.sjtug.sjtu.edu.cn/debian-security buster/updates main contrib non-free# 清华源 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释deb https://mirrors.tuna.tsinghua.edu.cn/debian/ buster main contrib non-free# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ buster main contrib non-freedeb https://mirrors.tuna.tsinghua.edu.cn/debian/ buster-updates main contrib non-free# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ buster-updates main contrib non-freedeb https://mirrors.tuna.tsinghua.edu.cn/debian/ buster-backports main contrib non-free# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ buster-backports main contrib non-freedeb https://mirrors.tuna.tsinghua.edu.cn/debian-security buster/updates main contrib non-free# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian-security buster/updates main contrib non-free#deb https://mirrors.tuna.tsinghua.edu.cn/debian/ sid main#deb https://mirrors.tuna.tsinghua.edu.cn/debian/ experimental main# 中科大源deb http://mirrors.ustc.edu.cn/debian buster main contrib non-free# deb-src http://mirrors.ustc.edu.cn/debian buster main contrib non-freedeb http://mirrors.ustc.edu.cn/debian buster-updates main contrib non-free# deb-src http://mirrors.ustc.edu.cn/debian buster-updates main contrib non-freedeb http://mirrors.ustc.edu.cn/debian buster-proposed-updates main contrib non-free# deb-src http://mirrors.ustc.edu.cn/debian buster-proposed-updates main contrib non-freedeb http://mirrors.ustc.edu.cn/debian-security/ buster/updates main non-free contrib# deb-src http://mirrors.ustc.edu.cn/debian-security/ buster/updates main non-free contrib# 本源deb http://deb.debian.org/debian buster main 在/etc/hosts添加 123456127.0.0.1 localhost127.0.0.1 GuzalAida::1 localhost ip6-localhost ip6-loopbackff02::1 ip6-allnodesff02::2 ip6-allrouters 更新缓存 1apt update 安装 123apt install sudo f2fs-toolsapt install net-tools alsa-utils bash-completion ethtool wireless-tools ifupdown network-manager iputils-ping rsyslog locate ttf-wqy-zenhei wgetapt install 启用Debian源安装最新版本软件sidapt upgrade 12deb https://mirrors.tuna.tsinghua.edu.cn/debian/ sid maindeb https://mirrors.tuna.tsinghua.edu.cn/debian/ experimental main APT::Default-Release &quot;stable&quot;;&gt;&gt;/etc/apt/apt.conf.d/71distro 使用命令: apt -t experimental install openssh-server 添加用户到/etc/sudoers 1guzal ALL=(ALL:ALL) ALL 修改/etc/resolv.conf 1234root@GuzalAida:~# cat /etc/resolv.conf # Generated by NetworkManagersearch localdomainnameserver 192.168.1.1 wifi国家设置 查看wifi国家或地区设置 12guzal@GuzalAida:~$ sudo wpa_cli -i wlan0 get countryCN raspi-config https://raw.githubusercontent.com/RPi-Distro/raspi-config/master/raspi-config (recommend) 设置 OR rpi64_init https://raw.githubusercontent.com/GuzalAida/GuzalAida/master/rpi64-config 修改fstsb 123# UNCONFIGURED FSTAB FOR BASE SYSTEM/dev/mmcblk0p1 /boot vfat defaults 0 2/dev/mmcblk0p2 / f2fs defaults,noatime 0 1 ssh登录凭证 12su guzal -ssh-keygen -t rsa -b 4096 -C &quot;example@email.com&quot; 额外软件 1sudo apt install screenfetch 时区 tzdate 1sudo dpkg-reconfigure tzdata #选择时区 添加/etc/rpi-issue 1So sorry,this image not rpi-issue. 1sudo apt install usbutils -y 安装WiringPi 123git clone git://git.drogon.net/wiringPicd git wiringPi./build gpio设置权限位， 1sudo chmod u+s /opt/wiringPi/bin/gpio 设置软连接 1sudo ln -s /opt/wiringPi/bin/gpio /usr/bin/gpio 设置rsyslog 编辑/etc/rsyslog.conf #GuzalAida daemon log local0.* /var/log/GuzalAida/GuzalAida0 &amp; sudo mkdir /var/log/GuzalAida 安装VC Source code for ARM side libraries for interfacing to Raspberry Pi GPU. 编辑sudo nano /etc/udev/rules.d/99-input.rules,与以下内容比较 123456789101112131415161718192021222324252627282930313233343536SUBSYSTEM==&quot;input&quot;, GROUP=&quot;input&quot;, MODE=&quot;0660&quot;SUBSYSTEM==&quot;i2c-dev&quot;, GROUP=&quot;i2c&quot;, MODE=&quot;0660&quot;SUBSYSTEM==&quot;spidev&quot;, GROUP=&quot;spi&quot;, MODE=&quot;0660&quot;SUBSYSTEM==&quot;bcm2835-gpiomem&quot;, GROUP=&quot;gpio&quot;, MODE=&quot;0660&quot;SUBSYSTEM==&quot;argon-*&quot;, GROUP=&quot;video&quot;, MODE=&quot;0660&quot;SUBSYSTEM==&quot;rpivid-*&quot;, GROUP=&quot;video&quot;, MODE=&quot;0660&quot;SUBSYSTEM==&quot;vchiq&quot;, GROUP=&quot;video&quot;, MODE=&quot;0660&quot;SUBSYSTEM==&quot;gpio&quot;, GROUP=&quot;gpio&quot;, MODE=&quot;0660&quot;SUBSYSTEM==&quot;gpio*&quot;, PROGRAM=&quot;/bin/sh -c &#x27;\\ chown -R root:gpio /sys/class/gpio &amp;&amp; chmod -R 770 /sys/class/gpio;\\ chown -R root:gpio /sys/devices/virtual/gpio &amp;&amp; chmod -R 770 /sys/devices/virtual/gpio;\\ chown -R root:gpio /sys$devpath &amp;&amp; chmod -R 770 /sys$devpath\\&#x27;&quot;KERNEL==&quot;ttyAMA[01]&quot;, PROGRAM=&quot;/bin/sh -c &#x27;\\ ALIASES=/proc/device-tree/aliases; \\ if cmp -s $ALIASES/uart0 $ALIASES/serial0; then \\ echo 0;\\ elif cmp -s $ALIASES/uart0 $ALIASES/serial1; then \\ echo 1; \\ else \\ exit 1; \\ fi\\&#x27;&quot;, SYMLINK+=&quot;serial%c&quot;KERNEL==&quot;ttyS0&quot;, PROGRAM=&quot;/bin/sh -c &#x27;\\ ALIASES=/proc/device-tree/aliases; \\ if cmp -s $ALIASES/uart1 $ALIASES/serial0; then \\ echo 0; \\ elif cmp -s $ALIASES/uart1 $ALIASES/serial1; then \\ echo 1; \\ else \\ exit 1; \\ fi \\&#x27;&quot;, SYMLINK+=&quot;serial%c&quot; sudo usermod -a -G video guzal 123sudo nano /etc/ld.so.conf.d/guzalaida.conf++ /opt/vc/libsudo ldconfig 软连接 12sudo ln -s /opt/vc/bin/vcgencmd /usr/bin/vcgencmdsudo ln -s /opt/vc/bin/vchiq_test /usr/bin/vchiq_test test 12vcgencmd measure_clock arm#frequency(45)=600000000 连接5GWIF 请先设置wifi country 1sudo nmtui -&gt; Activate a connection -&gt; 选择wifi 追加软件 12sudo apt install bluetoothsudo apt install ntfs-3g update fstab sudo chown -R guzal:guzal /mnt/vfat /mnt/btrfs 1234567guzal@GuzalAida:~$ cat /etc/fstab # UNCONFIGURED FSTAB FOR BASE SYSTEM/dev/mmcblk0p1 /boot vfat defaults 0 2/dev/mmcblk0p2 / f2fs defaults,noatime 0 1UUID=&quot;DAA9-53E7&quot; /mnt/vfat vfat defaults,rw,noexec,noatime,nofail,user,umask=0000,uid=1000,gid=1000 0 0UUID=&quot;225ddd42-b107-4c01-a9ef-da0b38997305&quot; /mnt/btrfs btrfs defaults,rw,noexec,noatime,user,nofail 0 0 umount 先退出chroot 卸载文件系统 1234sudo umount dev/ptssudo umount devsudo umount procsudo umount sys 卸载镜像 123sudo umount bootfs rootfssudo kpartx -dv /dev/loop0sudo losetup -d /dev/loop0 烧录系统并磁盘扩容 12sudo cfdisk /dev/sdX # resize part sizesudo resize.f2fs /dev/sdX VNC 修改/home/用户目录（家目录）xstartup文件 123456789101112131415#!/bin/sh# Uncomment the following two lines for normal desktop:unset SESSION_MANAGERunset DBUS_SESSION_BUS_ADDRESSexec /etc/X11/xinit/xinitrc[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresourcesxsetroot -solid greyvncconfig -iconic &amp;#x-terminal-emulator -geometry 80x24+10+10 -ls -title &quot;$VNCDESKTOP Desktop&quot; &amp;#x-window-manager &amp;mate-session &amp;","categories":[{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"},{"name":"rpi","slug":"linux/rpi","permalink":"https://www.mardan.wiki/categories/linux/rpi/"}],"tags":[{"name":"kernel","slug":"kernel","permalink":"https://www.mardan.wiki/tags/kernel/"},{"name":"rpi","slug":"rpi","permalink":"https://www.mardan.wiki/tags/rpi/"}]},{"title":"New Features","slug":"New-Features","date":"1969-12-31T16:00:00.000Z","updated":"2025-04-13T06:16:05.525Z","comments":true,"path":"website/1970/01/01/New-Features.html","permalink":"https://www.mardan.wiki/website/1970/01/01/New-Features.html","excerpt":"概览： &lt; Check New Features /&gt; hyperLink math start math stop beautiful font button layout 引用 各类图标","text":"概览： &lt; Check New Features /&gt; hyperLink math start math stop beautiful font button layout 引用 各类图标 &lt; Check New Features /&gt; // 正文 Welcome hyperLink More info: Writing math start Simple inline a=b+ca = b + ca=b+c. ∂u∂t=h2(∂2u∂x2+∂2u∂y2+∂2u∂z2)\\frac{\\partial u}{\\partial t} = h^2 \\left( \\frac{\\partial^2 u}{\\partial x^2} + \\frac{\\partial^2 u}{\\partial y^2} + \\frac{\\partial^2 u}{\\partial z^2}\\right)∂t∂u​=h2(∂x2∂2u​+∂y2∂2u​+∂z2∂2u​) math stop beautiful font Support Markdown Hexo support GitHub Flavored Markdown all func，and Octopress most plugin. quick start just one command deploy on the Github Pages many plugin Hexo powerable button layout Download Now 引用 are you ok 各类图标 安装 1npm install --save hexo-filter-mermaid-diagrams 效果展示 sequenceDiagram participant Alice participant Bob Alice->>John: Hello John, how are you? loop Healthcheck John->>John: Fight against hypochondria end Note right of John: Rational thoughts prevail... John-->>Alice: Great! John->>Bob: How about you? Bob-->>John: Jolly good! Git graph - ❗️ experimental gitGraph: options { \"nodeSpacing\": 150, \"nodeRadius\": 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch","categories":[{"name":"features","slug":"features","permalink":"https://www.mardan.wiki/categories/features/"}],"tags":[{"name":"features","slug":"features","permalink":"https://www.mardan.wiki/tags/features/"}]}],"categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/categories/kubernetes/"},{"name":"rpm","slug":"rpm","permalink":"https://www.mardan.wiki/categories/rpm/"},{"name":"wireguard","slug":"wireguard","permalink":"https://www.mardan.wiki/categories/wireguard/"},{"name":"openwrt","slug":"openwrt","permalink":"https://www.mardan.wiki/categories/openwrt/"},{"name":"pve","slug":"pve","permalink":"https://www.mardan.wiki/categories/pve/"},{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/categories/golang/"},{"name":"macOS","slug":"macOS","permalink":"https://www.mardan.wiki/categories/macOS/"},{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/categories/docker/"},{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/categories/linux/"},{"name":"nginx","slug":"linux/nginx","permalink":"https://www.mardan.wiki/categories/linux/nginx/"},{"name":"windows","slug":"windows","permalink":"https://www.mardan.wiki/categories/windows/"},{"name":"hexo","slug":"docker/hexo","permalink":"https://www.mardan.wiki/categories/docker/hexo/"},{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/categories/hexo/"},{"name":"java","slug":"java","permalink":"https://www.mardan.wiki/categories/java/"},{"name":"springboot","slug":"java/springboot","permalink":"https://www.mardan.wiki/categories/java/springboot/"},{"name":"osx","slug":"osx","permalink":"https://www.mardan.wiki/categories/osx/"},{"name":"zsh","slug":"osx/zsh","permalink":"https://www.mardan.wiki/categories/osx/zsh/"},{"name":"github","slug":"github","permalink":"https://www.mardan.wiki/categories/github/"},{"name":"arduino","slug":"arduino","permalink":"https://www.mardan.wiki/categories/arduino/"},{"name":"ssh","slug":"ssh","permalink":"https://www.mardan.wiki/categories/ssh/"},{"name":"rpi","slug":"linux/rpi","permalink":"https://www.mardan.wiki/categories/linux/rpi/"},{"name":"git","slug":"git","permalink":"https://www.mardan.wiki/categories/git/"},{"name":"ssh","slug":"git/ssh","permalink":"https://www.mardan.wiki/categories/git/ssh/"},{"name":"minecraft","slug":"linux/minecraft","permalink":"https://www.mardan.wiki/categories/linux/minecraft/"},{"name":"kvm","slug":"linux/kvm","permalink":"https://www.mardan.wiki/categories/linux/kvm/"},{"name":"rpi","slug":"rpi","permalink":"https://www.mardan.wiki/categories/rpi/"},{"name":"AI","slug":"AI","permalink":"https://www.mardan.wiki/categories/AI/"},{"name":"tensorflow","slug":"AI/tensorflow","permalink":"https://www.mardan.wiki/categories/AI/tensorflow/"},{"name":"wpf","slug":"windows/wpf","permalink":"https://www.mardan.wiki/categories/windows/wpf/"},{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/categories/C/"},{"name":"shell","slug":"shell","permalink":"https://www.mardan.wiki/categories/shell/"},{"name":"python","slug":"python","permalink":"https://www.mardan.wiki/categories/python/"},{"name":"c/c++","slug":"linux/c-c","permalink":"https://www.mardan.wiki/categories/linux/c-c/"},{"name":"features","slug":"features","permalink":"https://www.mardan.wiki/categories/features/"}],"tags":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://www.mardan.wiki/tags/kubernetes/"},{"name":"cilium","slug":"cilium","permalink":"https://www.mardan.wiki/tags/cilium/"},{"name":"kylinos","slug":"kylinos","permalink":"https://www.mardan.wiki/tags/kylinos/"},{"name":"nginx","slug":"nginx","permalink":"https://www.mardan.wiki/tags/nginx/"},{"name":"rpm","slug":"rpm","permalink":"https://www.mardan.wiki/tags/rpm/"},{"name":"wireguard","slug":"wireguard","permalink":"https://www.mardan.wiki/tags/wireguard/"},{"name":"pve","slug":"pve","permalink":"https://www.mardan.wiki/tags/pve/"},{"name":"openwrt","slug":"openwrt","permalink":"https://www.mardan.wiki/tags/openwrt/"},{"name":"cri-o","slug":"cri-o","permalink":"https://www.mardan.wiki/tags/cri-o/"},{"name":"golang","slug":"golang","permalink":"https://www.mardan.wiki/tags/golang/"},{"name":"goroutine","slug":"goroutine","permalink":"https://www.mardan.wiki/tags/goroutine/"},{"name":"macOS","slug":"macOS","permalink":"https://www.mardan.wiki/tags/macOS/"},{"name":"startup","slug":"startup","permalink":"https://www.mardan.wiki/tags/startup/"},{"name":"docker","slug":"docker","permalink":"https://www.mardan.wiki/tags/docker/"},{"name":"traffic","slug":"traffic","permalink":"https://www.mardan.wiki/tags/traffic/"},{"name":"swarm","slug":"swarm","permalink":"https://www.mardan.wiki/tags/swarm/"},{"name":"minio","slug":"minio","permalink":"https://www.mardan.wiki/tags/minio/"},{"name":"linux","slug":"linux","permalink":"https://www.mardan.wiki/tags/linux/"},{"name":"kernel","slug":"kernel","permalink":"https://www.mardan.wiki/tags/kernel/"},{"name":"ddns","slug":"ddns","permalink":"https://www.mardan.wiki/tags/ddns/"},{"name":"hyper-V","slug":"hyper-V","permalink":"https://www.mardan.wiki/tags/hyper-V/"},{"name":"zabbix","slug":"zabbix","permalink":"https://www.mardan.wiki/tags/zabbix/"},{"name":"loki","slug":"loki","permalink":"https://www.mardan.wiki/tags/loki/"},{"name":"prometheus","slug":"prometheus","permalink":"https://www.mardan.wiki/tags/prometheus/"},{"name":"grafana","slug":"grafana","permalink":"https://www.mardan.wiki/tags/grafana/"},{"name":"hexo","slug":"hexo","permalink":"https://www.mardan.wiki/tags/hexo/"},{"name":"lvm","slug":"lvm","permalink":"https://www.mardan.wiki/tags/lvm/"},{"name":"certificate","slug":"certificate","permalink":"https://www.mardan.wiki/tags/certificate/"},{"name":"mermaid","slug":"mermaid","permalink":"https://www.mardan.wiki/tags/mermaid/"},{"name":"java","slug":"java","permalink":"https://www.mardan.wiki/tags/java/"},{"name":"springboot","slug":"springboot","permalink":"https://www.mardan.wiki/tags/springboot/"},{"name":"terminal","slug":"terminal","permalink":"https://www.mardan.wiki/tags/terminal/"},{"name":"zsh","slug":"zsh","permalink":"https://www.mardan.wiki/tags/zsh/"},{"name":"jupyter","slug":"jupyter","permalink":"https://www.mardan.wiki/tags/jupyter/"},{"name":"github","slug":"github","permalink":"https://www.mardan.wiki/tags/github/"},{"name":"gpg","slug":"gpg","permalink":"https://www.mardan.wiki/tags/gpg/"},{"name":"gui","slug":"gui","permalink":"https://www.mardan.wiki/tags/gui/"},{"name":"daemon","slug":"daemon","permalink":"https://www.mardan.wiki/tags/daemon/"},{"name":"wispeeer","slug":"wispeeer","permalink":"https://www.mardan.wiki/tags/wispeeer/"},{"name":"arduino","slug":"arduino","permalink":"https://www.mardan.wiki/tags/arduino/"},{"name":"conky","slug":"conky","permalink":"https://www.mardan.wiki/tags/conky/"},{"name":"grub","slug":"grub","permalink":"https://www.mardan.wiki/tags/grub/"},{"name":"postgresql","slug":"postgresql","permalink":"https://www.mardan.wiki/tags/postgresql/"},{"name":"ssh","slug":"ssh","permalink":"https://www.mardan.wiki/tags/ssh/"},{"name":"x11","slug":"x11","permalink":"https://www.mardan.wiki/tags/x11/"},{"name":"proxy","slug":"proxy","permalink":"https://www.mardan.wiki/tags/proxy/"},{"name":"rpi","slug":"rpi","permalink":"https://www.mardan.wiki/tags/rpi/"},{"name":"wiringpi","slug":"wiringpi","permalink":"https://www.mardan.wiki/tags/wiringpi/"},{"name":"git","slug":"git","permalink":"https://www.mardan.wiki/tags/git/"},{"name":"osx","slug":"osx","permalink":"https://www.mardan.wiki/tags/osx/"},{"name":"qemu","slug":"qemu","permalink":"https://www.mardan.wiki/tags/qemu/"},{"name":"minecraft","slug":"minecraft","permalink":"https://www.mardan.wiki/tags/minecraft/"},{"name":"kvm","slug":"kvm","permalink":"https://www.mardan.wiki/tags/kvm/"},{"name":"hackintosh","slug":"hackintosh","permalink":"https://www.mardan.wiki/tags/hackintosh/"},{"name":"tensorflow","slug":"tensorflow","permalink":"https://www.mardan.wiki/tags/tensorflow/"},{"name":"mysql","slug":"mysql","permalink":"https://www.mardan.wiki/tags/mysql/"},{"name":"win32","slug":"win32","permalink":"https://www.mardan.wiki/tags/win32/"},{"name":"watchdog","slug":"watchdog","permalink":"https://www.mardan.wiki/tags/watchdog/"},{"name":"SSM","slug":"SSM","permalink":"https://www.mardan.wiki/tags/SSM/"},{"name":"lib","slug":"lib","permalink":"https://www.mardan.wiki/tags/lib/"},{"name":"ssl","slug":"ssl","permalink":"https://www.mardan.wiki/tags/ssl/"},{"name":"date","slug":"date","permalink":"https://www.mardan.wiki/tags/date/"},{"name":"time","slug":"time","permalink":"https://www.mardan.wiki/tags/time/"},{"name":"TAAG","slug":"TAAG","permalink":"https://www.mardan.wiki/tags/TAAG/"},{"name":"gradle","slug":"gradle","permalink":"https://www.mardan.wiki/tags/gradle/"},{"name":"shell","slug":"shell","permalink":"https://www.mardan.wiki/tags/shell/"},{"name":"whiptail","slug":"whiptail","permalink":"https://www.mardan.wiki/tags/whiptail/"},{"name":"cfdisk","slug":"cfdisk","permalink":"https://www.mardan.wiki/tags/cfdisk/"},{"name":"C#","slug":"C","permalink":"https://www.mardan.wiki/tags/C/"},{"name":"wpf","slug":"wpf","permalink":"https://www.mardan.wiki/tags/wpf/"},{"name":"sqlite","slug":"sqlite","permalink":"https://www.mardan.wiki/tags/sqlite/"},{"name":"selenium","slug":"selenium","permalink":"https://www.mardan.wiki/tags/selenium/"},{"name":"python","slug":"python","permalink":"https://www.mardan.wiki/tags/python/"},{"name":"features","slug":"features","permalink":"https://www.mardan.wiki/tags/features/"}]}